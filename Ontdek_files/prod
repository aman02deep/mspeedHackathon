_stTracker.insertTags({"tags":[{"markerCondition":"[]","selector":"head","id":34,"version":7,"content":"window._ckBnnr = false;"},{"markerCondition":"[]","selector":"head","id":797,"version":27,"content":"(function() {\n    'use strict';\n\t\n    // Check for presence and value of specific Adobe s-object value, without throwing errors.\n    // Example: checkSobject('prop43');\n    window.checkSobject = function (element) {\n        try {\n            if(typeof window.s !== 'undefined' && typeof window.s[element] !== 'undefined' && window.s[element] !== '' && window.s[element].indexOf('unknown') === -1) {\n                return window.s[element];\n            } else {\n                return false;\n            }\n        } catch(e) {\n\t\t\t_st.debug.log('checkSobject error: ' + e);\n\t\t}\n    };\n\n    // helper function to get a nested R42-property or object, without throwing errors.\n    // Returns an empty string if one or more levels is/are undefined. Example: getR42Property('user.RFS');\n    window.r42getProperty = function(propString) {\n        try {\n            var ret = eval('window._st.data._tagProperties.'+propString);\n            if(typeof ret === 'undefined') {\n                return '';\n            }\n            return ret;\n        } catch(e) {\n            return '';\n        }\n    };\n\n    // helper function to set a nested R42-property or object, without throwing errors.\n    // Example: r42setProperty('user','RFS','ziggo');\n    window.r42setProperty = function (property,child,value) {\n\t\ttry {\n            var element = {};\n            if (_st.data.getProperty(property) !== '') {\n                element = _st.data.getProperty(property);\n            }\n            element[child] = value;\n            // _st.data.setProperty(property, element); // DISABLED BECAUSE THE r42data OBJECT TAKES OVER\n\t\t\t\n\t\t\t// sent property as object to r42data\n\t\t\tvar data = {};\n\t\t\tdata[property] = {};\n\t\t\tdata[property][child] = value;\n\t\t\tr42data.set(data);\n\n\t\t} catch(e) {}\n    };\n\t\n\twindow.r42data = {\n\t\tlayer: {},\n\t\tinit: function(){\n\t\t\t// get browser storage or cookie and set in r42data\n\t\t\tvar data = {}, storeddata = {}, props = ['session', 'user', 'segments', 'userproducts', 'userfeatures', 'target'];\n\t\t\tvar storage = r42data.storage();\n\t\t\t\n\t\t\tif(storage && storage.getItem('_zUDL') !== null){ \n\t\t\t\tstoreddata = _st.util.decodeJson(sessionStorage.getItem('_zUDL'));\n\t\t\t} else if (typeof _st.util.getCookie('_zUDL') !== 'undefined') {\n\t\t\t\tstoreddata = _st.util.decodeJson(_st.util.getCookie('_zUDL'));\n\t\t\t}\n\n\t\t\tfor (var i in props) {\n\t\t\t\tif(typeof(storeddata[props[i]]) !== 'undefined') {\n\t\t\t\t\tdata[props[i]] = storeddata[props[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t\tr42data.set(data);\n\t\t\t_st.debug.log('>> r42data.init() finished');\n\n\t\t},\n\t\tupdate: function(){\n\t\t\t// use to update r42data with current R42 tagProperties datalayer\n\t\t\tvar props = _st.data.getPropertyNames();\n\t\t\tvar tp = _st.data._tagProperties;\n\t\t\tfor (var i in props) {\n\t\t\t\tvar data = {}; data[props[i]] = tp[props[i]];\n\t\t\t\tr42data.set(data);\n\t\t\t}\n\t\t},\n\t\tempty: function(obj){ // helper function to test if an object is empty\n\t\t\tfor(var p in obj) { return false; }\n\t\t\treturn true;\n\t\t},\n\t\tget: function(elGet){ // elementToGet = string with JSON-element > 'page.name' or entire object 'page'\n\t\t\ttry {\n\t\t\t\tvar result = eval('r42data.layer.'+elGet) || eval('window._st.data._tagProperties.'+elGet);\n\t\t\t\tif(typeof result === 'undefined') return undefined;\n\t\t\t\treturn result;\n\t\t\t} catch(e) { \n\t\t\t\treturn undefined; }\n\t\t},\n\t\tset: function(elSet){ // elementToSet = JSON-object with element and value > {page:{name:'paginanaam'},user:{name:'naam'}}\n\t\t\tif(typeof elSet !== 'object') { return; }\n\t\t\tfor (var element in elSet) {\n\t\t\t\tvar newprops = elSet[element],\n\t\t\t\t\tprops = r42data.get(element) || {};\n\t\t\t\tif(typeof newprops === 'string') {\n\t\t\t\t\tprops = newprops; \n\t\t\t\t} else {\n\t\t\t\t\tfor (var property in newprops) {\n\t\t\t\t\t\tprops[property] = newprops[property];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tr42data.layer[element] = props; \t\t// set in r42data object\n\t\t\t\t_st.data.setProperty(element, props); \t// set in tagProperties datalayer\n\t\t\t\t_st.debug.log('>> r42data.layer.'+element+' updated > '+JSON.stringify(newprops));\n\t\t\t}\n\t\t\t\n\t\t\tvar store = {}, stuff = ['session', 'user', 'segments', 'userproducts', 'userfeatures', 'target'];\n\t\t\tfor (var s in stuff) {\n\t\t\t\tstore[stuff[s]] = r42data.layer[stuff[s]];\n\t\t\t\t} // prepare to only store specific objects in cookie\n\t\t\t\n\t\t\tvar storage = r42data.storage();\n\t\t\tif(storage){ // update in browser storage\n\t\t\t\tstorage.setItem('_zUDL', _st.util.encodeJson(r42data.layer));\n\t\t\t} else {\n\t\t\t\t_st.util.setCookie('_zUDL', _st.util.encodeJson(store));\n\t\t\t}\n\t\t},\n\t\tstorage: function() { // test function, returns 'undefined' or the sessionStorage as object 'storage'\n\t\t\tvar uid = new Date();\n\t\t\tvar storage;\n\t\t\tvar result;\n\t\t\ttry {\n\t\t\t\t(storage = window.sessionStorage).setItem(uid, uid);\n\t\t\t\tresult = storage.getItem(uid) == uid;\n\t\t\t\tstorage.removeItem(uid);\n\t\t\t\treturn result && storage;\n\t\t\t} catch (exception) {}\n\t\t}\n\t};\n\tr42data.init();\n\n\n\t// helper function to add generic event listener on DOM-elements\n\tvar addEvent = function (el, eventName, handler) { // generic listener\n\t\tif (el.addEventListener) {\n\t\t\tel.addEventListener(eventName, handler);\n\t\t} else {\n\t\t\tel.attachEvent('on' + eventName, function () {\n\t\t\t\thandler.call(el);\n\t\t\t});\n\t\t}\n\t};\n\n\t// helper function for targeted content to track clicks on CTA's or buttons in an injected banner\n\twindow.r42trackPromoListener = function (classname, linkregex) {\n        if (document.getElementsByClassName) {\n            try {\n                var el = document.getElementsByClassName(classname);\n                for (var i=0; i < el.length;i++) {\n                    var href = (typeof(el[i].getAttribute('href')) === 'string' ) ? el[i].getAttribute('href') : '';\n                    var rex = new RegExp(linkregex);\n                    if(rex.test(href) === true) {\n                        addEvent(el[i],'click', function(e) {\n                            var url = this.getAttribute('href');\n                            trackPromo('click',url); // trackPromo() function is defined in the promotion\n                            e.preventDefault();\n                        });\n                    }\n                }\n            } catch(ignore) {}\n        }\n    };\n\n\t\n\t// helper function using jQuery to track clicks.\n\t// clickData should be {'type': accordion|button|link|tab|submit, 'name': 'descriptive name', 'form': 'form name', 'text': 'override_text'}\n\twindow.r42ClickEvent = function (selector,clickData) {\n\t\t$(selector).click(clickData, function(e){\n\t\t\t\n\t\t\t// DEFAULT CLICKEVENT CODE\n\t\t\tvar clickElement = $(this);\n\t\t\tvar data = clickData || {};\n\n\t\t\tvar text = (clickElement.text() !== '' ) ? clickElement.text().trim() : undefined;\n\t\t\tif(data.text) text = data.text; // override text when set in the listener\n\t\t\tvar href = (typeof (this.getAttribute('href')) === 'string' ) ? this.getAttribute('href') : undefined;\n\n\t\t\tdata.link = (href) ? href : undefined;\n\t\t\tdata.text = (text) ? text : undefined;\n\t\t\tdata.page = document.location.href;\n\t\t\t\n\t\t\tdata.eventCategory = 'interaction/click';\n\t\t\tdata.eventAction = data.type + ': ' + data.name ;\n\t\t\tdata.eventLabel = (text) ? 'text: ' + text : 'No text found';\n\t\t\t\n\n\t\t\t// EXEPTIONS ON DEFAULT CODE\n\t\t\tif(data.type === 'button' || data.type === 'link' ) {\n\t\t\t\tdata.eventAction = (text) ? data.type + ': ' + text : data.type + ': ' + data.name ;\n\t\t\t\t// data.eventAction = (text) ? data.type + ': ' + text.substring(0,40) : data.type + ': ' + data.name ;\n\t\t\t\tdata.eventLabel = (href) ? 'link: ' + href : 'No link found';\n\t\t\t}\n\t\t\t\n\t\t\t// attempts to stop the event from publishing (return the function), on closure of the accordion\n\t\t\tif(data.type === 'accordion' ) {\n\t\t\t\tif(data.name === 'shoppingcart: product bullets foldout' && this.className.indexOf('open') !== -1 ) return;\n\t\t\t\tif(data.name === 'fold out' && this.parentNode.className.indexOf('current') > -1 ) return;\n\t\t\t\tif(data.name === 'product addon details') {\n\t\t\t\t\ttext = (clickElement.parent().children(':first').text() !== '' ) ? clickElement.parent().children(':first').text().trim() : undefined;\n\t\t\t\t\tdata.eventLabel = 'text: ' + text;\n\t\t\t\t\tif(this.className.indexOf('active') == -1 ) return;\n\t\t\t\t}\n\t\t\t\tif(data.name === 'shoppingcart: call/chat' && document.getElementById('freecallheader').className.indexOf('active') === -1 ) return;\n\t\t\t}\n\t\t\t\n\t\t\tif(data.type === 'submit' && data.form === 'storingschecker'){\n\t\t\t\tvar zip = $('[name=postcode]').val();\n\t\t\t\tvar zip2 = $('[name=postalcode]').val();\n\t\t\t\tdata.zip = zip ? zip : zip2 ? zip2 : undefined ;\n\t\t\t\tdata.eventLabel = data.zip ? 'postcodegebied: ' + data.zip : 'No zipcode found';\n\t\t\t}\n\t\t\tif(data.type === 'submit' && data.form === 'foutcodechecker'){\n\t\t\t\tvar fc = $('#nl_foutcode_type').val();\n\t\t\t\tdata.foutcode = (fc) ? fc : undefined ;\n\t\t\t\tdata.eventLabel = (fc) ? 'foutcode: ' + fc : 'No foutcode found';\n\t\t\t}\n\t\t\tif(data.type === 'submit' && data.form === 'CallMeLater'){\n\t\t\t\tvar tc = $('#cmlnumber').val();\n\t\t\t\tdata.eventLabel = (tc) ? tc.slice(0,-3) + '***' : 'No tel.nr. found';\n\t\t\t}\n\t\t\tif(data.type === 'submit' && data.form === 'CallMeNow'){\n\t\t\t\tvar tc2 = $('.callMeInput').val();\n\t\t\t\tdata.eventLabel = (tc2) ? tc2.slice(0,-3) + '***' : 'No tel.nr. found';\n\t\t\t}\n\n\t\t\t// publish the event (if not returned by any exeptions)\n\t\t\t_st('publishEvent', 'interaction/click', 'click', data);\n\t\t});\n\t};\t\n\n\n\t//helper function for GA events based on Relay event\n\twindow.r42gaEvent = function(data){\n\t\tif(data.customs) {\n\t\t\tga('set', data.customs);\n\t\t}\n\t\tga('send','event',\n\t\t   data.eventCategory,\n\t\t   data.eventAction,\n\t\t   data.eventLabel ? data.eventLabel : 'not set',\n\t\t   data.eventValue ? data.eventValue : undefined,\n\t\t   { 'nonInteraction': data.eventNonInteraction === true ? 1 : 0 }\n\t\t);\n\t\t\n\t\t_st.debug.log('> Google360 event triggered: category: '+JSON.stringify(data));\n\t};\n\n\t// publish an event indicating the general functions are ready\n\t_st('publishEvent','r42/general_functions','general_functions', '');\n\n})();\n"},{"markerCondition":"[]","selector":"head","id":879,"version":33,"content":"if(!window.targeting){window.targeting={};}\nwindow.targeting.cugFunctions={};\n\nwindow.migratiepromo2 = function migratiepromo2(){\n\tvar path = document.location.pathname;\n\tif(path == '/alles-in-1/' || path == '/alles-in-1'){\n\t\t//hide all ATL content in top part of table\n\t\t$('.ziggo_table-header-specialoffer-wrapper').hide();\n\t\t$('.ziggo_table-header-specialoffer-separator').hide();\n\t\t$('.ziggo_header-prefix').hide();\n\t\t$('.ziggo_header-byline').hide();\n\n\t\t//change prices top part of table\n\t\t$('.ziggo_table-column.ziggo_header-col.col1 .ziggo_header-pricetag').html(\"€ 45,<sup>95</sup></p>\");\n\t\t$('.ziggo_table-column.ziggo_header-col.col2 .ziggo_header-pricetag').html(\"€ 59,<sup>95</sup></p>\");\n\t\t$('.ziggo_table-column.ziggo_header-col.col3 .ziggo_header-pricetag').html(\"€ 79,<sup>95</sup></p>\");\n\n\n\t\t//hide all ATL content in bottom part of table\n\t\t$('.ziggo_table-footer-specialoffer-wrapper').hide();\n\t\t$('.ziggo_table-footer-specialoffer-separator').hide();\n\t\t$('.ziggo_footer-prefix').hide();\n\t\t$('.ziggo_footer-byline').hide();\n\n\t\t//change prices bottom part of table\n\t\t$('.ziggo_table-column.ziggo_footer-col.col1 .ziggo_footer-pricetag').html(\"€ 45,<sup>95</sup></p>\");\n\t\t$('.ziggo_table-column.ziggo_footer-col.col2 .ziggo_footer-pricetag').html(\"€ 59,<sup>95</sup></p>\");\n\t\t$('.ziggo_table-column.ziggo_footer-col.col3 .ziggo_footer-pricetag').html(\"€ 79,<sup>95</sup></p>\");\n\t}\n};\n\nwindow.atlforced = function atlforced(){\n\tvar path = document.location.pathname;\n\tif(path == '/alles-in-1/' || path == '/alles-in-1'){\n\t\tsetTimeout(function(){\n\t\t\t_st.util.setCookie('customOffer','ATL',30,' ');\n\t\t\tsetCookieZT('_zt','nonCust-v1-topbanner',3,'ziggo.nl','topbanner','forced_url');\n\t\t\t$('.squeezeitem.parbase.section .title.section.header .ph1').text('Live Formule 1 op Ziggo Sport');\n\t\t\t$('.squeezeitem.parbase.section .title.section.header .ph1').css({'color':'white'});\n\t\t\t$('.squeezeitem.parbase.section .title.section.header .ph1').show();\n\t\t\t$('.squeezeitem.parbase.section .title.section.header .ph13').text('Kijk gratis de beste voetbalduels en live Formule 1 met Ziggo Sport. Stap nu over op Ziggo Alles-in-1 en betaal de eerste 3 maanden € 34,95 p.m.');\n\t\t\t$('.squeezeitem.parbase.section .title.section.header .ph13').css({'color':'white'});\n\t\t\t$('.squeezeitem.parbase.section .title.section.header .ph13').show();\n\t\t\t$('.container.lgi-templatesection.section .section-desktop.lgiAdaptiveImage.isRetinaImage').css({'background-image':'url(/content/dam/www.ziggo.nl/img/_campaign/September-deals/3840x820_fbtop_frac_bg_1.jpg)'});\n\t\t\t$('.squeezeitem.parbase.section .parsys_column.lgi_col_50_50.ziggo-squeeze-orange.ziggo-squeeze-rightTop .lgi_col_50_50-c1 img').attr('src','/content/dam/www.ziggo.nl/img/_campaign/Formule1/954x660-fbva-f1.png');\n\t\t\t$('.squeezeitem.parbase.section .parsys_column.lgi_col_50_50.ziggo-squeeze-orange.ziggo-squeeze-rightTop .lgi_col_50_50-c1 img').css({\n\t\t\t\t'height':'auto',\n\t\t\t\t'width':'100%'\n\t\t\t});\n\t\t\t$('.squeezeitem.parbase.section .parsys_column.lgi_col_50_50.ziggo-squeeze-orange.ziggo-squeeze-rightTop .lgi_col_50_50-c1 img').show();\n\t\t\t$('.ziggo_table-header-specialoffer-wrapper').show();\n\t\t\t$('.ziggo_table-header-specialoffer-separator').show();\n\t\t\t$('.ziggo_header-prefix').html('<span class=\"ziggo_header-prefix\">De eerste 3 maanden</span>');\n\t\t\t$('.ziggo_header-prefix').show();\n\t\t\t$('.ziggo_header-byline').show();\n\n\t\t\t//change prices top part of table\n\t\t\t$('.ziggo_table-column.ziggo_header-col.col1 .ziggo_header-pricetag').html(\"€ 34,<sup>95</sup></p>\");\n\t\t\t$('.ziggo_table-column.ziggo_header-col.col2 .ziggo_header-pricetag').html(\"€ 34,<sup>95</sup></p>\");\n\t\t\t$('.ziggo_table-column.ziggo_header-col.col3 .ziggo_header-pricetag').html(\"€ 34,<sup>95</sup></p>\");\n\n\n\t\t\t//hide all ATL content in bottom part of table\n\t\t\t$('.ziggo_table-footer-specialoffer-wrapper').show();\n\t\t\t$('.ziggo_table-footer-specialoffer-separator').show();\n\t\t\t$('.ziggo_footer-prefix').html('<span class=\"ziggo_header-prefix\">De eerste 3 maanden</span>');\n\t\t\t$('.ziggo_footer-prefix').show();\n\t\t\t$('.ziggo_footer-byline').show();\n\n\t\t\t//change prices bottom part of table\n\t\t\t$('.ziggo_table-column.ziggo_footer-col.col1 .ziggo_footer-pricetag').html(\"€ 34,<sup>95</sup></p>\");\n\t\t\t$('.ziggo_table-column.ziggo_footer-col.col2 .ziggo_footer-pricetag').html(\"€ 34,<sup>95</sup></p>\");\n\t\t\t$('.ziggo_table-column.ziggo_footer-col.col3 .ziggo_footer-pricetag').html(\"€ 34,<sup>95</sup></p>\");\n\n\t\t},1000);\n\t}\n};\n\nwindow.cug_girls = function cug_girls(){\n\tpath = document.location.pathname;\n\tif(path.match(/alles-in-1\\/(start|complete|max)/)){\n\t\t$('.topvisual_pdp .squeezeitem img').attr('src', 'https://www.ziggo.nl/img/_campaign/MSXL - 12 mnd/954x660-fbva-msxl-3maanden-girls.png');\t\n\t}\n};\n\nwindow.cug_west = function cug_west(){\n\tpath = document.location.pathname;\n\tif(path.match(/alles-in-1\\/(start|complete|max)/)){\n\t\t$('.topvisual_pdp .squeezeitem img').attr('src', 'https://www.ziggo.nl/img/_campaign/MSXL - 12 mnd/954x660-fbva-msxl-3maanden-westworld (2).png');\t\n\t}\n};\n\n\nwindow.wific = function wific(params){\n\t//$('.wifi-callmenow').removeClass('hidden');\n\t$('.storingchecker').hide();\n\tsetTimeout(function(){\n\t\t$(document).mouseleave(function () {\n    \t\t$(\".helpedHiddenSection\").slideDown().removeClass('hidden');\n\t\t});\n\t},3000);\n\tadd_cmn('.callmenow_template');\n\tsetTimeout(function(){\n\t\tif(typeof InitializeFreecall == 'function'){\n\t\t\tcmnEnable();\n\t\t\tF = InitializeFreecall(\n\t\t\t\t// Container\n\t\t\t\t\"freecallcontainer\", \n\t\t\t\t// subscription\n\t\t\t\tparams[0],\n\t\t\t\t// phone\n\t\t\t\t\"\",\n\t\t\t\t// language\n\t\t\t\tparams[1],\n\t\t\t\t// country\n\t\t\t\t\"\",\n\t\t\t\t// check (1= default [start], 2=fill in date/times for CML [start2])\n\t\t\t\t1,\n\t\t\t\t// options\n\t\t\t\t\"\"\n\t\t\t);\n\t\t}else{\n\t\t\tconsole.log('cmn2');\n\t\t\tsetTimeout(function(){\n\t\t\t\tcmnEnable();\n\t\t\t\tF = InitializeFreecall(\n\t\t\t\t\t// Container\n\t\t\t\t\t\"freecallcontainer\", \n\t\t\t\t\t// subscription\n\t\t\t\t\tparams[0],\n\t\t\t\t\t// phone\n\t\t\t\t\t\"\",\n\t\t\t\t\t// language\n\t\t\t\t\tparams[1],\n\t\t\t\t\t// country\n\t\t\t\t\t\"\",\n\t\t\t\t\t// check (1= default [start], 2=fill in date/times for CML [start2])\n\t\t\t\t\t1,\n\t\t\t\t\t// options\n\t\t\t\t\t\"\"\n\t\t\t\t);\n\t\t\t},5000);\n\t\t}\n\t},1500);\n\tconsole.log(params[0] + ',' + params[1]);\n};\n\n//function to change callmelater id's for wifi campaign (2017)\nwindow.churnc = function wific(params){\n\tadd_cmn_churn('.cmn_churn');\n\tsetTimeout(function(){\n\t\tif(typeof InitializeFreecall == 'function'){\n\t\t\tcmnEnable();\n\t\t\tF = InitializeFreecall(\n\t\t\t\t// Container\n\t\t\t\t\"freecallcontainer\", \n\t\t\t\t// subscription\n\t\t\t\tparams[0],\n\t\t\t\t// phone\n\t\t\t\t\"\",\n\t\t\t\t// language\n\t\t\t\tparams[1],\n\t\t\t\t// country\n\t\t\t\t\"\",\n\t\t\t\t// check (1= default [start], 2=fill in date/times for CML [start2])\n\t\t\t\t1,\n\t\t\t\t// options\n\t\t\t\t\"\"\n\t\t\t);\n\t\t}else{\n\t\t\t//console.log('cmn2');\n\t\t\tsetTimeout(function(){\n\t\t\t\tcmnEnable();\n\t\t\t\tF = InitializeFreecall(\n\t\t\t\t\t// Container\n\t\t\t\t\t\"freecallcontainer\", \n\t\t\t\t\t// subscription\n\t\t\t\t\tparams[0],\n\t\t\t\t\t// phone\n\t\t\t\t\t\"\",\n\t\t\t\t\t// language\n\t\t\t\t\tparams[1],\n\t\t\t\t\t// country\n\t\t\t\t\t\"\",\n\t\t\t\t\t// check (1= default [start], 2=fill in date/times for CML [start2])\n\t\t\t\t\t1,\n\t\t\t\t\t// options\n\t\t\t\t\t\"\"\n\t\t\t\t);\n\t\t\t},5000);\n\t\t}\n\t},1500);\n\t//console.log(params[0] + ',' + params[1]);\n};\n_st('publishEvent','targeting/timing','cugfunctions_set');\n        "},{"execValue2":"cugfunctions_set","markerCondition":"[]","selector":"head","id":933,"execValue":"targeting/timing","version":3,"content":"//set debugmode to true or false\nvar debugmode = false;\n\n//function that sends clicks and views of internal promotions to GA\nwindow.promotionTrackerUDL = function promotionTrackerUDL(dataIn){\n\tvar type;\n\tvar domain = window.location.hostname;\n\tvar path = window.location.pathname.indexOf('.') != -1 ? window.location.pathname.split('.')[0] : window.location.pathname;\n\tvar page = domain+path;\n\tvar data = {};\n\tif(debugmode === true){console.info('Targeting: tracking data', dataIn);}\n\t\n\tconsole.log('length=' + dataIn.campaign.ID.split('-').length);\n\tif(dataIn.campaign.ID.split('-').length == 4){\n\t\tdataIn.campaign.ID = dataIn.campaign.ID.split('-')[0]+'-'+dataIn.campaign.ID.split('-')[1]+'-'+dataIn.campaign.ID.split('-')[2];\n\t}\n\tdata.name = undefined;\n\tdata.creative = dataIn.campaign.ID == 'DEFAULT' ? 'Default' : targeting_campaigns_details[dataIn.campaign.ID].name;\n\tdata.position = dataIn.campaign.ID.split('-')[2];\n\tdata.page = (domain == 'www.ziggo.nl') ? 'z' + path : domain + path;\n\tdata.group = undefined;\n\tif(debugmode === true){console.info('Targeting: cookies: data.name: ' + data.name);}\n\t//get group value from cookie\n\t\n\tvar _ztcookie = JSON.parse(_st.util.getCookie('_zt'));\n\tif(dataIn.campaign.ID != 'DEFAULT'){\n\t\tfor(var i=0; i < _ztcookie.length; i++){\n\t\t\tif(_ztcookie[i].split('|')[0] == dataIn.campaign.ID){\n\t\t\t\tdata.name = _ztcookie[i].split('|')[2];\n\t\t\t\tif(debugmode === true){console.info('Targeting: group: ' + data.group);}\n\t\t\t}\n\t\t}\n\t}else{\n\t\tdata.name = 'Default';\n\t}\n\t\n\tif(dataIn.name == 'Viewed Campaign'){type='view';} else\n\tif(dataIn.name == 'Clicked Campaign'){type='click';}\n\tif(type != 'click' && type != 'view'){return;}\n\t\n\tdata.id = data.name + \"|\" + data.creative + \"|\" + data.page + \"|\" + data.position;\n\tif(debugmode === true){console.info('Targeting: tracking data', data);}\t\n\t\n\tga('ec:addPromo', {\n\t\t'id': data.id,\n\t\t'name': data.name,\n\t\t'creative': data.creative,\n\t\t'position': data.page+\"|\"+data.position\n\t});\n\tif(type == 'click'){ga('ec:setAction', 'promo_click');}\n\ttry{ga('send', 'event', 'Internal Promotions', type, data.name, { 'nonInteraction': 1 });}catch(err){}\n};\n\n//function to set cookie that arranges persist targeting campaigns\nwindow.setCookieZT = function setCookieZT(cName,cValue,cLifetime,domain,position,group,exclCust,exclInt ){\n\tvar path_raw = document.location.pathname;\n\tvar path = path_raw.substr(path_raw.length -1) != '/' ? path_raw + '/' : path_raw;\n\tif(!targeting_options[path] && path.indexOf('zender') != -1){\n\t\tpath = 'generic';\n\t\tif(debugmode === true){console.log('path set to generic3');}\n\t}\n\tvar now = new Date();\n\tvar expire = new Date();\n\tvar newCookie;\n\texpire.setFullYear(now.getFullYear());\n\texpire.setMonth(now.getMonth());\n\texpire.setDate(now.getDate()+cLifetime);\n\texpire.setHours(0,0,0,0);\n\tvar expires = expire.getTime();\n\tif(debugmode === true){console.info('Targeting: setCookieZT: expires= ' + expires);}\n\tvar cValueNew = group ? cValue + '|' + expires + '|' + group + '|' + exclCust + '|' + exclInt : cValue + '|' + expires + '|unknown|' + exclCust + '|' + exclInt;\n\tif(debugmode === true){console.info('Targeting: new cookie value: ' + cValue);}\n\tvar currentCookie_str = _st.util.getCookie(cName) ? _st.util.getCookie(cName) : undefined;\n\tvar currentCookie = _st.util.getCookie(cName) ? JSON.parse(_st.util.getCookie(cName)) : undefined;\n\tif(currentCookie){\n\t\t//debug message\n\t\tif(debugmode === true){console.info('Targeting: _zt cookie was found and contains: ' + currentCookie);}\n\t\tif(currentCookie.length > 0){\n\t\t\t//for each value in the cookie check if it can be removed\n\t\t\tfor(var i=0; i<currentCookie.length; i++){\n\t\t\t\tvar offer = currentCookie[i].split(\"|\")[0];\n\t\t\t\tvar exp =  currentCookie[i].split(\"|\")[1];\n\t\t\t\tvar group_check= currentCookie[i].split(\"|\")[2];\n\t\t\t\t//if offer exists for current position and isn't equal to the new value overwrite cookie\n\t\t\t\t\n\t\t\t\tvar needstostay = false;\n\t\t\t\tvar campaign_array = [];\n\t\t\t\tfor(var path_check in targeting_options){\n\t\t\t\t\tfor(var position_check in targeting_options[path_check]){\n\t\t\t\t\t\t\n\t\t\t\t\t\tvar campaigns = targeting_options[path_check][position_check].activeCampaigns;\n\t\t\t\t\t\tif(campaigns.indexOf(offer) > -1 && campaigns.indexOf(cValue) == -1 && (path_check+position_check != path+position)){\n\t\t\t\t\t\t\tif(debugmode === true){console.info(\"Targeting: setCookieZT function: offer=\" + campaigns.indexOf(offer)+ \" cValue = \" + campaigns.indexOf(cValue == -1) + \" path_check_position_check:\" + (path_check+position_check != path+position));}\n\t\t\t\t\t\t\tneedstostay = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(debugmode === true){console.info(\"Targeting: setCookieZT function: \" + offer+ \" needtostay = \" + needstostay);}\t\n\t\t\t\t//three checks:\n\t\t\t\t//offer[i] should be available on the current page (if not, it might be necessary on another page)\n\t\t\t\t//offer[i] should not be equal to the cValue (cause if it's there already it doesn't need to be removed)\n\t\t\t\t//needstostay should be false\n\t\t\t\tif(targeting_options[path][position].activeCampaigns.indexOf(offer) != -1 && cValue != offer && needstostay === false){\n\t\t\t\t\t//remove offer[i] from the cookie\n\t\t\t\t\tcurrentCookie.splice(i,1);\n\t\t\t\t\ti--;\n\t\t\t\t\t//debug message\n\t\t\t\t\tif(debugmode === true){console.info('Targeting: setCookieZT function: deleted value: ' + offer);}\n\t\t\t\t//if the three checks above are false do the following check:\n\t\t\t\t//offer[i] shouldn't be available on the current page\n\t\t\t\t} else if(targeting_options[path][position].activeCampaigns.indexOf(offer) == -1) { \n\t\t\t\t\tif(debugmode === true){console.info(\"Targeting: setCookieZT function: \" + offer+ \" needtostay = \" + needstostay);}\t\n\t\t\t\t\tif(debugmode === true){console.info(\"Targeting: setCookieZT function: offer '\" + offer + \"' was kept for other locations\");}\t\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif(currentCookie_str.indexOf(cValue) == -1 && group != 'forced_url'){\n\t\t\t\tcurrentCookie.push(cValueNew);\n\t\t\t} else if (currentCookie_str.indexOf(cValue) == -1 && group == 'forced_url'){\n\t\t\t\tcurrentCookie.unshift(cValueNew);\n\t\t\t}\n\t\t\t//currentCookie.push(cValueNew);\n\t\t\tnewCookie = JSON.stringify(currentCookie);\n\t\t\t//debug message\n\t\t\tif(debugmode === true){console.info('Targeting: setCookieZT function: newcookie value: ' + newCookie);}\n\t\t\t\n\t\t}\n\t} else {\n\t\tcurrentCookie = [cValueNew];\n\t\tnewCookie = JSON.stringify(currentCookie);\n\t\t//debug message\n\t\tif(debugmode === true){console.info('Targeting: setCookieZT function: newcookie value: ' + newCookie);}\n\t\t\n\t}\n\tvar udl = cValue;\n\tif(debugmode === true){console.info('udl ' + udl + ' path: ' + path);}\n\tif(targeting_campaigns_details[cValue].exceptions){\n\t\tif(targeting_campaigns_details[cValue].exceptions[path]){\n\t\t\tvar addition = targeting_campaigns_details[cValue].exceptions[path];\n\t\t\tudl = cValue + '-' + addition;\n\t\t\tif(debugmode === true){console.info('exception found');}\n\t\t}\n\t}\n\tif(debugmode === true){console.info('check udl');}\n\tcheck_udl(cValue,udl);\n\t//document.cookie = cname + \"=\" + cvalue + \";expires=\" + expires + \";domain=\" + domain +\";path=/\";\n\t_st.util.setCookie(cName, newCookie,30,domain);\n\t\n};\n\n//function to call UDL\nwindow.check_udl = function check_udl(ztp,udl){\n\tif(debugmode === true){console.info('check udl reached');}\n\t//send values to UDL\n\tvar loopUDL = setInterval(function(){ checkUDL(); }, 100);\n\tvar i5 = 0;\n\tvar send = false;\n\tfunction checkUDL(){\n\t\ti5++;\n\t\tif(i5<50){\n\t\t\tif(typeof pushToUDL != 'undefined'){\n\t\t\t\t\n\t\t\t\tvar addFunction = targeting_campaigns_details[ztp].addFunction ? targeting_campaigns_details[ztp].addFunction : 'undefined';\n\t\t\t\tvar addArguments = targeting_campaigns_details[ztp].addFunction ? targeting_campaigns_details[ztp].addArguments : '';\n\t\t\t\tif(debugmode === true){console.log('addfunction length ' + addFunction.length + 'addfunction:' + addFunction);}\n\t\t\t\tif(addFunction != 'undefined' ){\n\t\t\t\t\tfor(var i10=0; i10 < addFunction.length;i10++){\n\t\t\t\t\t\tif(debugmode === true){console.log('addfunction '+i10);}\n\t\t\t\t\t\tif(targeting_campaigns_details[ztp].addArguments){addArguments = targeting_campaigns_details[ztp].addFunction[i10] ? targeting_campaigns_details[ztp].addArguments[i10] : '';}\n\t\t\t\t\t\t//if(debugmode === true){console.info(\"Targeting: Additional function arguments : \" + targeting_campaigns_details[ztp].addArguments[i10]);}\n\t\t\t\t\t\tif(addFunction[i10] != 'undefined' && typeof window[addFunction[i10]] == 'function'){\n\t\t\t\t\t\t\twindow[targeting_campaigns_details[ztp].addFunction[i10]](addArguments);\n\t\t\t\t\t\t\tif(debugmode === true){console.info(\"Targeting: Additional function executed: \" + targeting_campaigns_details[ztp].addFunction[i10]);}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif(debugmode === true){console.info(\"Targeting: Additional function not executed: \" + targeting_campaigns_details[ztp].addFunction[i10] + 'en:' + typeof window[addFunction]);}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tpushToUDL('user', 'customerKeySegment', udl);\t\n\t\t\t\tclearInterval(loopUDL);\n\t\t\t\tif(debugmode === true){console.info('push to udl 3 reached: ' + udl + ' try: ' + i5);}\n\t\t\t\t//try{ga('send', 'event', 'Targeting', 'Initialized',ztp, { 'nonInteraction': 1 });}catch(err){}\n\t\t\t\t\n\t\t\t\tif(debugmode === true){console.info(\"Targeting: CUG function check 1\" +_st.util.getCookie('customOffer') != targeting_campaigns_details[ztp].cugCookie);}\n\t\t\t\t//set CUG cookie and run CUG functions if defined\n\t\t\t\tif(_st.util.getCookie('customOffer') != targeting_campaigns_details[ztp].cugCookie){\n\t\t\t\t\tif(targeting_campaigns_details[ztp].cugFunction != 'undefined' && (document.location.pathname.indexOf('/alles-in-1')!=-1 || document.location.pathname.indexOf('/tv-internet')!=-1)){\n\t\t\t\t\t\tvar iCug = 0;\n\t\t\t\t\t\tvar loopCUG = setInterval(function(){ functionCug(); }, 250);\n\t\t\t\t\t\tfunction functionCug(){\n\t\t\t\t\t\t\tiCug++;\n\t\t\t\t\t\t\tvar functionname = targeting_campaigns_details[ztp].cugFunction;\n\t\t\t\t\t\t\tif(debugmode === true){console.log('cug functionname: '+ functionname);}\n\t\t\t\t\t\t\tif(iCug<9){\n\t\t\t\t\t\t\t\tif(typeof window[functionname] != 'undefined'){\n\t\t\t\t\t\t\t\t\tclearInterval(loopCUG);\n\t\t\t\t\t\t\t\t\twindow[functionname]();\n\t\t\t\t\t\t\t\t\tif(debugmode === true){console.log('cug function '+ functionname + ' executed');}\n\t\t\t\t\t\t\t\t} \n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\ttry{ga('send', 'event', 'Targeting', 'CUG:function not found after 2sec',{ 'nonInteraction': 1 });}catch(err){}\n\t\t\t\t\t\t\t\tif(debugmode === true){console.log('cug function '+ functionname + ' not found');}\n\t\t\t\t\t\t\t\tclearInterval(loopCUG);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}else{if(debugmode === true){console.log('cug not done');}}\n\t\t\t\tif(targeting_campaigns_details[ztp].cugCookie != 'undefined'){\n\t\t\t\t\t_st.util.setCookie('customOffer',targeting_campaigns_details[ztp].cugCookie,30,' ');\n\t\t\t\t\tif(debugmode === true){console.info(\"Targeting: CUG cookie set to '\" + targeting_campaigns_details[ztp].cugCookie + \"'\" );}\n\t\t\t\t}\t\n\t\t\t} else {\n\t\t\t\t//console.log('not found');\n\t\t\t}\n\t\t} else {\n\t\t\ttry{ga('send', 'event', 'Targeting', 'Error: pushToUDL n/a after 2.5 sec', { 'nonInteraction': 1 });}catch(err){}\n\t\t\tclearInterval(loopUDL);\n\t\t}\n\t}\n\t\n\tif(debugmode === true){console.info('Targeting: campaign '+udl+' was trickered.');}\t\n};\n\n//function to execute onsite targeting\nwindow.exe_targeting = function exe_targeting(ztp,position,group,ctime,exclCust,exclInt){\n\tvar path_raw = document.location.pathname;\n\tvar path = path_raw.substr(path_raw.length -1) != '/' ? path_raw + '/' : path_raw;\n\tif(!targeting_options[path] && path.indexOf('zender') != -1){\n\t\tpath = 'generic';\n\t\tif(debugmode === true){console.log('path set to generic2');}\n\t}\n\t//execute forced targeting\n\tif(targeting_options[path][position].activeCampaigns.indexOf(ztp) != -1){\n\t\t//set cookie for persistence\n\t\tvar cookielifetime = ctime ? ctime : targeting_campaigns_details[ztp].cookielifetime;\n\t\texclInt = exclInt ? exclInt : targeting_campaigns_details[ztp].exclIntCust;\n\t\texclCust = exclCust ? exclCust : targeting_campaigns_details[ztp].exclCust;\n\t\tsetCookieZT('_zt',ztp,cookielifetime,'ziggo.nl',position,group,exclCust,exclInt);\n\t\tif(debugmode === true){console.info('Targeting: setcookie function triggered with values: position: ' + position + ' group: ' + group);}\n\t} else {\n\t\tif(debugmode === true){console.info(\"Targeting: unavailable campaign ('\" + ztp + \"') requested in 'exe_targeting' function.\");}\n\t\t//send event to GA if an unavailable campaign is requested\n\t\ttry{ga('send', 'event', 'Targeting', 'Error:unavailable campaign directly reqeusted', ztp + '_' + position, { 'nonInteraction': 1 });}catch(err){}\n\t}\n\t\t\n};\n\n//function to check expiration of items in targeting cookie\nfunction checkExpCookies(cname){\n\tif(_st.util.getCookie(cname)){\n\t\tvar cookie = JSON.parse(_st.util.getCookie(cname));\n\t\tvar now = new Date().getTime();\n\t\tfor(var i = 0; i < cookie.length; i++){\n\t\t\toffer = cookie[i].split(\"|\")[0];\n\t\t\texp = cookie[i].split(\"|\")[1];\n\t\t\tif(now > exp){\n\t\t\t\tcookie.splice(i,1);\n\t\t\t\ti--;\n\t\t\t\tif(debugmode === true){console.info(\"Targeting: '_zt' cookie value '\" + offer + \"' was removed due to expiration\");}\n\t\t\t}\n\t\t}\n\t\tif(cookie.length > 0){\n\t\t\t_st.util.setCookie(cname,JSON.stringify(cookie),30,'ziggo.nl');\n\t\t} else {\n\t\t\t_st.util.setCookie(cname,'empty',-1,'ziggo.nl');\n\t\t}\n\t}\n}\n\n//function to remove specific parts of the _zt cookie\nwindow.checkCookieType = function checkCookieType(cname, type){\n\tif(_st.util.getCookie(cname)){\n\t\tvar cookie = JSON.parse(_st.util.getCookie(cname));\n\t\tvar now = new Date().getTime();\n\t\tfor(var i = 0; i < cookie.length; i++){\n\t\t\toffer = cookie[i].split(\"|\")[0];\n\t\t\texp = cookie[i].split(\"|\")[1];\n\t\t\tgroup = cookie[i].split(\"|\")[2];\n\t\t\texclCust = cookie[i].split(\"|\")[3];\n\t\t\texclInt = cookie[i].split(\"|\")[4];\n\t\t\tif(type == 'exclInt' && exclInt == 1){\n\t\t\t\tcookie.splice(i,1);\n\t\t\t\ti--;\n\t\t\t\tif(debugmode === true){console.info(\"Targeting: '_zt' cookie value '\" + offer + \"' was removed because it needs to be excluded for internet customers\");}\n\t\t\t\ttry{ga('send', 'event', 'Targeting', 'Cookie_reset', 'exclInt|' + offer + '|' + group, { 'nonInteraction': 1 });}catch(err){}\n\t\t\t}\n\t\t\tif(type == 'exclCust' && exclCust ==1){\n\t\t\t\tcookie.splice(i,1);\n\t\t\t\ti--;\n\t\t\t\tif(debugmode === true){console.info(\"Targeting: '_zt' cookie value '\" + offer + \"' was removed because it needs to be excluded for all customers\");}\n\t\t\t\ttry{ga('send', 'event', 'Targeting', 'Cookie_reset', 'exclCust|' + offer + '|' + group, { 'nonInteraction': 1 });}catch(err){}\n\t\t\t}\n\t\t}\n\t\tif(cookie.length > 0){\n\t\t\t_st.util.setCookie(cname,JSON.stringify(cookie),30,'ziggo.nl');\n\t\t} else {\n\t\t\t_st.util.setCookie(cname,'empty',-1,'ziggo.nl');\n\t\t}\n\t}\n};\n\n\n//function to determine what type of onsite targeting needs to be executed\nwindow.init_targeting_new = function init_targeting_new(position,r42campaign){\n\t//check if any values in the targeting cookie are expired\n\tcheckExpCookies('_zt');\n\t\n\t//push all campaigns that are active on the site to campaigns_array\n\t//var campaigns_array = getAllCampaigns();\n\tvar path_raw1 = document.location.pathname;\n\tvar path_raw2 = path_raw1.substr(path_raw1.length -1) != '/' ? path_raw1 + '/' : path_raw1;\n\tvar path = path_raw2.toLowerCase();\n\tif(!targeting_options[path] && path.indexOf('zender') != -1){\n\t\tpath = 'generic';\n\t\tif(debugmode === true){console.log('path set to generic1');}\n\t}\n\tvar resParamOffer = _st.util.getUrlParam('offer') ;\n\tvar resParamAB = _st.util.getUrlParam('zabms') ;\n\tvar resParamZT = _st.util.getUrlParam('zt') ;\n\tvar resCookie = _st.util.getCookie('_zt');\n\t//var resParamECMP = _st.util.getUrlParam('ecmp');\n\t//var resParamCMP = _st.util.getUrlParam('CMP');\n\tvar ztp;\n\tvar group;\n\tvar forced;\n\tvar cookielifetime;\n\t\n\t//check forms of forced targeting\n\tif(resParamAB){\n\t\tif(debugmode === true){console.info(\"Targeting: resParamAB=\"+resParamAB);}\n\t\tif(resParamAB == '1' || resParamAB == '3'){\n\t\t\tztp = 'nonCust-v1-topbanner';\n\t\t\tforced='param';\n\t\t\tcookielifetime = 1;\n\t\t}else if(resParamAB == '2'){\n\t\t\tztp = 'nonCust-v2-topbanner';\n\t\t\tforced='param';\n\t\t\tcookielifetime = 1;\n\t\t}\n\t}else if(resParamOffer){\n\t\tif(cuglookup[resParamOffer]){\n\t\t\tztp = cuglookup[resParamOffer];\n\t\t\tforced = 'param';\n\t\t\tif(debugmode === true){console.info(\"Targeting: param offer found and zt set to:\" + ztp);}\n\t\t}\n\t}\n\telse if(resParamZT){\n\t\tif(resParamZT == 'b2c'){resParamZT='b2c-v1-topbanner';}\n\t\telse if(resParamZT == 'b2b'){resParamZT='b2b-v1-topbanner';}\n\t\t\n\t\tif(targeting_options[path]){\n\t\t\tif(targeting_options[path][position]){\n\t\t\t\tif(targeting_options[path][position].activeCampaigns.indexOf(resParamZT) != -1){\n\t\t\t\t\tztp = resParamZT;\n\t\t\t\t\tforced = 'param';\n\t\t\t\t}else{\n\t\t\t\t\t//debug message\n\t\t\t\t\tif(debugmode === true){console.info(\"Targeting: Error: provided uri parameter '\" + resParamZT + \"' not found\");}\n\t\t\t\t\t//send event to GA if an unvalid targeting param is found in the URL\n\t\t\t\t\ttry{ga('send', 'event', 'Targeting', 'Error:urlParam_invalid', position + ':'+resParamZT, { 'nonInteraction': 1 });}catch(err){}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t//send event to GA if a non-targeted position is being targeted\n\t\t\t\ttry{ga('send', 'event', 'Targeting', 'Error:non_targeted_position', path + '_' + position + '_' + resParamZT, { 'nonInteraction': 1 });}catch(err){}\n\t\t\t}\n\t\t} else {\n\t\t\t//send event to GA if non-targeted page contains an targeting parameter in the url \n\t\t\ttry{ga('send', 'event', 'Targeting', 'Error:urlparamZT_invalid','non_targeted_page:'+ path + '_offer:' + resParamZT, { 'nonInteraction': 1 });}catch(err){}\n\t\t}\n\t}else if(resCookie && !ztp){\n\t\tif(debugmode === true){console.info(\"Targeting: no uri parameter 'offer/zt=' provided in url\");}\n\t\t//console.log('ztp='+ztp);\n\t\tzt_array = JSON.parse(resCookie);\n\t\tfor(var i=0; i < zt_array.length; i++){\n\t\t\toffer = zt_array[i].split(\"|\")[0];\n\t\t\texp = zt_array[i].split(\"|\")[1];\n\t\t\tgroup1= zt_array[i].split(\"|\")[2];\n\t\t\t//debug message\n\t\t\tif(debugmode === true){console.info('Targeting: cookievalue: '+resCookie + ' path:' + path + ' position:' + position + ' offer:' + offer);}\n\t\t\tif(targeting_options[path][position].activeCampaigns.indexOf(offer) != -1){\n\t\t\t\tztp = offer;\n\t\t\t\tgroup = group1;\n\t\t\t\t//console.log('ztp = ' +ztp);\n\t\t\t\tforced='cookie';\n\t\t\t\tbreak;\n\t\t\t} \n\t\t}\n\t} \n\tif(!ztp){\n\t\t//run relay campaign\n\t\t_st.inject.script('//a.svtrd.com/s/1085/p/'+r42campaign);\n\t\tif(debugmode === true){console.info('Targeting: no forced targeting found, R42campaign ' + r42campaign + ' is called.');}\n\t}else if(ztp == 'default'){\n\t\t//show default AEM banner\n\t\tztp = 'none';\n\t\tif(debugmode === true){console.info('Targeting: forced to show default banner through url param.');}\n\t}else if(forced== 'param'){\n\t\t//run function that executes targeting\n\t\tif(cookielifetime){\n\t\t\texe_targeting(ztp,position,'forced_url',cookielifetime);\n\t\t\tif(debugmode === true){console.info('Targeting: forced with cookielifetime');}\n\t\t}else{\n\t\t\texe_targeting(ztp,position,'forced_url');\n\t\t}\n\t\tif(debugmode === true){console.info('Targeting: forced to show banner set in url param.');}\n\t}else{\n\t\texe_targeting(ztp,position,group);\n\t\tif(debugmode === true){console.info('Targeting: forced to show banner set in cookie.');}\n\t}\n};\nif(debugmode === true){console.info(\"Targeting: functions set\");}\n_st('publishEvent','targeting/timing','functions_set');","exec":"event"},{"markerCondition":"[]","r42.conditions":{"condition":{"nodes":[{"nodes":[{"selectionName":"1085_285","nodeType":"CONCRETE"}],"nodeType":"AND"}],"nodeType":"AND"},"cacheSeconds":0},"selector":"head","id":798,"version":10,"content":"(function() {\n\t'use strict';\n\n\tvar migration_status = _st.segmenting.data['1085_285']['v_migration_status'], \n\t\tweek_nr = _st.segmenting.data['1085_285']['v_week_nr'],\n\t\tgeo_segment_id = _st.segmenting.data['1085_285']['v_geo_segment_id'],\n\t\tgeo_segment_descr = _st.segmenting.data['1085_285']['v_geo_segment_descr'],\n\t\tsession_provider = _st.segmenting.data['1085_285']['session_provider'],\n\t\tsession_providerCat = _st.segmenting.data['1085_285']['session_providerCat'],\n\t\tsession_isp = _st.segmenting.data['1085_285']['session_isp'],\n\t\tuser_keysegment = _st.segmenting.data['1085_285']['user_keysegment'],\n\t\tbasket_products = _st.segmenting.data['1085_285']['basket_products'],\n\t\tbasket_customOffer = _st.segmenting.data['1085_285']['basket_customOffer'],\n\t\tbasket_baseURL = _st.segmenting.data['1085_285']['basket_baseURL'],\n\t\tbasket_fullURL = _st.segmenting.data['1085_285']['basket_fullURL'],\n\t\tbasket_addons = _st.segmenting.data['1085_285']['basket_addons'],\n\t\tforced_targeting = _st.segmenting.data['1085_285']['forced_targeting'];\n\t\n\tvar user = {};\n\t// user elements\n\tif (migration_status) user.migration_status = migration_status;\n\tif (week_nr) user.week_nr = week_nr;\n\tif (forced_targeting) user.forced_targeting = forced_targeting;\n\n\tr42data.set({user: user});\n\n\tvar dmp = {};\n\t// dmp elements\n\tif (geo_segment_id) dmp.geo_segment_id = geo_segment_id;\n\tif (geo_segment_descr) dmp.geo_segment_descr = geo_segment_descr;\n\tif (session_provider) dmp.session_provider = session_provider;\n\tif (session_providerCat) dmp.session_providerCat = session_providerCat;\n\tif (session_isp) dmp.session_isp = session_isp;\n\tif (user_keysegment) dmp.user_keysegment = user_keysegment;\n\tif (basket_products) dmp.basket_products = basket_products;\n\tif (basket_customOffer) dmp.basket_customOffer = basket_customOffer;\n\tif (basket_baseURL) dmp.basket_baseURL = basket_baseURL;\n\tif (basket_fullURL) dmp.basket_fullURL = basket_fullURL;\n\tif (basket_addons) dmp.basket_addons = basket_addons;\n\t\n\tif(!r42data.empty(dmp)) r42data.set({dmp: dmp});\n\n\t// publish an event indicating the selection facts are set\n\tvar data = {user: user, dmp: dmp};\n\t_st('publishEvent','r42data/selection_facts_all','selection_facts_all', data);\n\n})();\n"},{"markerCondition":"[]","r42.conditions":{"condition":{"nodes":[{"nodes":[{"selectionName":"1085_523","nodeType":"CONCRETE"}],"nodeType":"AND"}],"nodeType":"AND"},"cacheSeconds":0},"selector":"head","id":799,"version":16,"content":"(function() {\n\t'use strict';\n\n\tvar tv = \t\t_st.segmenting.data['1085_523']['p_tv'], \n\t\ttelephone = _st.segmenting.data['1085_523']['p_telephone'], \n\t\tinternet = \t_st.segmenting.data['1085_523']['p_internet'], \n\t\tmobile = \t_st.segmenting.data['1085_523']['p_mobile'], \n\t\taddon = \t_st.segmenting.data['1085_523']['p_addon'],\n\t\tpartner_main_det = \t_st.segmenting.data['1085_523']['p_partner_main_det'],\n\t\tpartner_main_sub = \t_st.segmenting.data['1085_523']['p_partner_main_sub'];\n\n\tvar userproducts = {};\n\tif (tv) userproducts.tv = tv;\n\tif (telephone) userproducts.telephone = telephone;\n\tif (internet) userproducts.internet = internet;\n\tif (mobile) userproducts.mobile = mobile;\n\tif (addon) userproducts.addon = JSON.stringify(addon);\n\tif (partner_main_det) userproducts.partner_main_det = partner_main_det;\n\tif (partner_main_sub) userproducts.partner_main_sub = partner_main_sub;\n\n\tif(!r42data.empty(userproducts)) r42data.set({userproducts: userproducts});\n\n\t// publish an event indicating the selection facts are set\n\tvar data = {userproducts: userproducts};\n\t_st('publishEvent','r42data/selection_userproducts','selection_userproducts', data);\n\n})();\n"},{"markerCondition":"[]","r42.conditions":{"condition":{"nodes":[{"nodes":[{"selectionName":"1085_524","nodeType":"CONCRETE"}],"nodeType":"AND"}],"nodeType":"AND"},"cacheSeconds":0},"selector":"head","id":800,"version":8,"content":"(function() {\n\t'use strict';\n\n\tvar soho_klant =\t\t\t_st.segmenting.data['1085_524']['f_soho_klant'],\n\t\tsoho_prospect =\t\t\t_st.segmenting.data['1085_524']['f_soho_prospect'],\n\t\tsoho_prospect_no3p =\t_st.segmenting.data['1085_524']['f_soho_prospect_no3p'],\n\t\tchurn_decile =\t\t\t_st.segmenting.data['1085_524']['f_churn_decile'],\n\t\tchurn_decile_tot =\t\t_st.segmenting.data['1085_524']['f_churn_decile_tot'],\n\t\tchurn_score =\t\t\t_st.segmenting.data['1085_524']['f_churn_score'],\n\t\tchurn_score_original =\t_st.segmenting.data['1085_524']['f_churn_score_original'],\n\t\tneed_segment_id =\t\t_st.segmenting.data['1085_524']['f_need_segment_id'],\n\t\tneed_segment_descr =\t_st.segmenting.data['1085_524']['f_need_segment_descr'],\n\t\tmyprime_tv =\t\t\t_st.segmenting.data['1085_524']['f_myprime_tv'],\n\t\thorizon =\t\t\t\t_st.segmenting.data['1085_524']['f_horizon'],\n\t\tfootprint =\t\t\t\t_st.segmenting.data['1085_524']['f_footprint'],\n\t\tonline_tv =\t\t\t\t_st.segmenting.data['1085_524']['f_online_tv'],\n\t\treplay_tv =\t\t\t\t_st.segmenting.data['1085_524']['f_replay_tv'];\n\n\tvar userfeatures = {};\n\tif (soho_klant) userfeatures.soho_klant = soho_klant;\n\tif (soho_prospect) userfeatures.soho_prospect = soho_prospect;\n\tif (soho_prospect_no3p) userfeatures.soho_prospect_no3p = soho_prospect_no3p;\n\tif (churn_decile) userfeatures.churn_decile = churn_decile;\n\tif (churn_decile_tot) userfeatures.churn_decile_tot = churn_decile_tot;\n\tif (churn_score) userfeatures.churn_score = churn_score;\n\tif (churn_score_original) userfeatures.churn_score_original = churn_score_original;\n\tif (need_segment_id) userfeatures.need_segment_id = need_segment_id;\n\tif (need_segment_descr) userfeatures.need_segment_descr = need_segment_descr;\n\tif (myprime_tv) userfeatures.myprime_tv = myprime_tv;\n\tif (horizon) userfeatures.horizon = horizon;\n\tif (online_tv) userfeatures.online_tv = online_tv;\n\tif (replay_tv) userfeatures.replay_tv = replay_tv;\n\n\tif(!r42data.empty(userfeatures)) r42data.set({userfeatures: userfeatures});\n\n\tvar user = {};\n\tif (footprint) user.footprint_dmp = footprint;\n\n\tif(!r42data.empty(user)) r42data.set({user: user});\n\n\t// publish an event indicating the selection facts are set\n\tvar data = {userfeatures: userfeatures, user: user};\n\t_st('publishEvent','r42data/selection_userfeatures','selection_userfeatures', data);\n\n})();\n"},{"markerCondition":"[]","r42.conditions":{"condition":{"nodes":[{"nodes":[{"selectionName":"1085_544","nodeType":"CONCRETE"}],"nodeType":"AND"}],"nodeType":"AND"},"cacheSeconds":0},"selector":"head","id":817,"version":20,"content":"(function() {\n\t'use strict';\n\n\tvar abo_rundate =\t\t\t_st.segmenting.data['1085_544']['t_abo_rundate'];\n\tvar ms_hbo_pool =\t\t\t_st.segmenting.data['1085_544']['t_ms_hbo_pool'];\n\tvar ms_hbo_footprint =\t\t_st.segmenting.data['1085_544']['t_ms_hbo_footprint'];\n\tvar fs_pr =\t\t\t\t\t_st.segmenting.data['1085_544']['t_fs_pr'];\n\tvar service_campaign =\t\t_st.segmenting.data['1085_544']['t_service_campaign'];\n\tvar winback =\t\t\t\t_st.segmenting.data['1085_544']['t_winback'];\n\tvar mgm_pool_mkt =\t\t\t_st.segmenting.data['1085_544']['t_mgm_pool_mkt'];\n\tvar mgm_pool_lft =\t\t\t_st.segmenting.data['1085_544']['t_mgm_pool_lft'];\n\tvar abo_footprint =\t\t\t_st.segmenting.data['1085_544']['t_abo_footprint'];\n\tvar abo_target_code =\t\t_st.segmenting.data['1085_544']['t_abo_target_code'];\n\tvar tientje_rundate =\t\t_st.segmenting.data['1085_544']['t_tientje_rundate'];\n\tvar tientje_pool =\t\t\t_st.segmenting.data['1085_544']['t_tientje_pool'];\n\tvar tientje_channel =\t\t_st.segmenting.data['1085_544']['t_tientje_channel'];\n\tvar tientje_footprint =\t\t_st.segmenting.data['1085_544']['t_tientje_footprint'];\n\tvar sport1_pr =\t\t\t\t_st.segmenting.data['1085_544']['t_sport1_pr'];\n\tvar hbo_pr =\t\t\t\t_st.segmenting.data['1085_544']['t_hbo_pr'];\n\tvar mgm_pool_lvn =\t\t\t_st.segmenting.data['1085_544']['t_mgm_pool_lvn'];\n\tvar film1_pr =\t\t\t\t_st.segmenting.data['1085_544']['t_film1_pr'];\n\tvar abo_contact_channel =\t_st.segmenting.data['1085_544']['t_abo_contact_channel'];\n\tvar tgroup = \t\t\t\t_st.util.getCookie('_ztab');\n\n\tvar target = {};\n\tif (abo_rundate) target.abo_rundate = abo_rundate;\n\tif (tientje_rundate) target.tientje_rundate = tientje_rundate;\n\tif (ms_hbo_pool) target.ms_hbo_pool = ms_hbo_pool;\n\tif (ms_hbo_footprint) target.ms_hbo_footprint = ms_hbo_footprint;\n\tif (hbo_pr) target.hbo_pr = hbo_pr;\n\tif (fs_pr) target.fs_pr = fs_pr;\n\tif (service_campaign) target.service_campaign = service_campaign;\n\tif (winback) target.winback = winback;\n\tif (tientje_footprint) target.tientje_footprint = tientje_footprint;\n\tif (mgm_pool_mkt) target.mgm_pool_mkt = mgm_pool_mkt;\n\tif (mgm_pool_lft) target.mgm_pool_lft = mgm_pool_lft;\n\tif (abo_footprint) target.abo_footprint = abo_footprint;\n\tif (abo_target_code) target.abo_target_code = abo_target_code;\n\tif (tientje_pool) target.tientje_pool = tientje_pool;\n\tif (tientje_channel) target.tientje_channel = tientje_channel;\n\tif (sport1_pr) target.sport1_pr = sport1_pr;\n\tif (mgm_pool_lvn) target.mgm_pool_lvn = mgm_pool_lvn;\n\tif (film1_pr) target.film1_pr = film1_pr;\n\tif (abo_contact_channel) target.abo_contact_channel = abo_contact_channel;\n\tif (tgroup) target.tgroup = tgroup;\n\t\n\t/*\n\t//function to check selection without properties and optionally check for a testgroup\n\tfunction getSelectionNP(segment_id,testgroup){\n\t\tvar re = new RegExp(testgroup);\n\t\tif(typeof(_st.segmenting.data[segment_id]) != 'undefined'){\n\t\t\tif(_st.segmenting.data[segment_id] !== false && (tgroup.match(re,'i') || typeof(testgroup) == 'undefined')) {\n\t\t\t\treturn 1;\n\t\t\t} else{\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t}else{\n\t\t\treturn 0;\n\t\t\t//send event to GA that an undefined selection was checked\n\t\t}\n\t}\n\t\n\t//testselection\n\tif(getSelectionNP('1085_526','3|4') == 1){target.test = 1;}\n\t*/\n\t\n\t//closingdeal\n\tif(_st.segmenting.data['1085_218'] !== false && typeof(_st.segmenting.data['1085_218']) != 'undefined' && (tgroup == 'group3' || tgroup == 'group4') ){target.closing = 1;}\n\t//voordeelpakket\n\tif(_st.segmenting.data['1085_350'] !== false && typeof(_st.segmenting.data['1085_350']) != 'undefined'){target.vp = 1;}\n\t//msxl interest\n\tif(_st.segmenting.data['1085_546'] !== false && typeof(_st.segmenting.data['1085_546']) != 'undefined'){target.msxl_int = 1;}\n\n\t\n\t\n\t\n\tif(!r42data.empty(target)) r42data.set({target: target});\n\n\t// publish an event indicating the selection facts are set\n\tvar data = {target: target};\n\t_st('publishEvent','r42data/selection_target','selection_target', data);\n\n})();\n"},{"markerCondition":"[]","selector":"head","id":33,"version":78,"content":"(function(){\n\t//alrick.maduro@office.ziggo.nl\n\tfunction runCookieBanner() {\n\t\t$ = $ || jQuery;\n\t\tvar cookieName = '_syn';\n\t\tvar cookie = $.cookie ? $.cookie(cookieName): jQuery.cookie(cookieName);\n\t    var settings = { \"1\": true, \"2\": true, \"3\": true, \"4\": true };\n\t\tvar emptySettings = { \"1\": false, \"2\": false, \"3\": false, \"4\": false };\n\t    var tagTracker = typeof _stTracker !== 'undefined';\n\t    \n\t\tvar getKeys = function(obj) {\n\t\t\tvar keys=[], k;\n\n\t\t\tfor (k in obj) {\n\t\t\t\tif (!obj.hasOwnProperty(k)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tkeys.push(k);\n\t\t\t}\n\t\t\treturn keys;\n\t\t};\n\t\t\n\t\tvar addCookieWallBar = function() {\n\t\t\t//content/dam/www.ziggo.nl/css/cookiewallbar.css\n\t\t\tvar cookieBarStyleSheet = '.cookiebar .lg_btn_3,.cookiewall .lgi_btn_3{-webkit-text-stroke:rgba(255,255,255,.01) .1px}.cookiebar,.cookiewallOverlay{left:0;bottom:0;z-index:40000}.cookiebar{position:fixed;width:100%;height:60px;background:#000;background:rgba(0,0,0,.8);padding:15px;text-align:center;color:#fff}.cookiebar .cookiebar-accept{height:35px;line-height:35px}.cookiebar a{vertical-align:baseline!important;color:grey}.cookiebar a:visited{color:grey}.cookiebar span{margin-right:5px}.cookiebar .container{background:0 0;margin:0}.cookiebar .lg_btn_3{position:relative;display:inline-block;font-family:museo700,Verdana,sans-serif;max-width:100%;margin-bottom:4px;text-align:center;white-space:nowrap;text-decoration:none;cursor:pointer;-moz-border-radius:5px;-webkit-border-radius:5px;-ms-border-radius:5px;border-radius:5px;background-repeat:repeat-x;color:#fff!important;border-color:#d76e00;border-width:1px 1px 0;border-style:solid solid none;background-color:#e88000;font-size:18px;height:40px;line-height:42px;min-width:90px;padding:0 20px;background-image:-moz-linear-gradient(top,#f48c00 0,#d76e00 100%);background-image:-webkit-gradient(linear,left top,left bottom,color-stop(0,#f48c00),color-stop(100%,#d76e00));background-image:-webkit-linear-gradient(top,#f48c00 0,#d76e00 100%);background-image:-o-linear-gradient(top,#f48c00 0,#d76e00 100%);background-image:-ms-linear-gradient(top,#f48c00 0,#d76e00 100%);background-image:linear-gradient(to bottom,#f48c00 0,#d76e00 100%);-webkit-box-shadow:0 2px 2px rgba(0,0,0,.25),inset 0 -1px 0 rgba(0,0,0,.34),inset 0 1px 0 #fec86d;-moz-box-shadow:0 2px 2px rgba(0,0,0,.25),inset 0 -1px 0 rgba(0,0,0,.34),inset 0 1px 0 #fec86d;box-shadow:0 2px 2px rgba(0,0,0,.25),inset 0 -1px 0 rgba(0,0,0,.34),inset 0 1px 0 #fec86d}.component.cookiebar{margin-bottom:0}.cookiewallOverlay{position:fixed;top:0;right:0;background-color:#000;opacity:.6;filter:alpha(opacity=60)}.cookiewall{width:55%;max-width:688px;position:fixed;top:10%;left:25%;background-color:#fff;border:0 solid #d7dadc;box-shadow:0 0 10px 5px #444;padding:180px 20px 20px;height:auto;border-radius:5px;z-index:40001;background-image:url(https://www.ziggo.nl/content/dam/www.ziggo.nl/img/cookie/cookie-wall-popup-header.jpg);background-repeat:no-repeat}.cookiewall .content h2{margin-top:0;color:#f48c00;font-size:30px;font-family:museo900,Verdana,sans-serif;margin-bottom:15px;text-shadow:none}.cookiewall .content p{line-height:1.6em;margin-top:0;margin-bottom:16px;color:#333;text-shadow:none;font-size:14px;font-family:verdana}.cookiewall .content a{color:#262727;text-decoration:underline}.cookiewall .content a:hover{color:#F48C00}.cookiewall .content a:visited{color:#969A9E}.cookiewall .lgi_btn_3{color:#fff!important;border-width:1px 1px 0;border-style:solid solid none;border-color:#d76e00;background-image:-moz-linear-gradient(top,#f48c00,#d76e00);background-image:-webkit-linear-gradient(top,#f48c00,#d76e00);background-image:-o-linear-gradient(top,#f48c00,#d76e00);background-image:-ms-linear-gradient(top,#f48c00,#d76e00);background-image:linear-gradient(top,#f48c00,#d76e00);-webkit-box-shadow:0 2px 2px rgba(0,0,0,.25),inset 0 -1px 0 rgba(0,0,0,.34),inset 0 1px 0 #fec86d;-moz-box-shadow:0 2px 2px rgba(0,0,0,.25),inset 0 -1px 0 rgba(0,0,0,.34),inset 0 1px 0 #fec86d;box-shadow:0 2px 2px rgba(0,0,0,.25),inset 0 -1px 0 rgba(0,0,0,.34),inset 0 1px 0 #fec86d;font-size:18px;font-family:museo700,Verdana,sans-serif;height:40px;line-height:42px;min-width:90px;padding:0 20px;border-radius:5px;background-repeat:repeat-x}@media (max-width:520px){.cookiebar,.cookiebar .btn{font-size:14px;height:auto}.cookiebar a,.cookiebar span{display:block;text-align:left}.cookiebar a{float:left;width:60%}.cookiebar .btn{float:right;width:100px!importantp: first text-align: center;margin-top:-10px;padding:5px;min-height:0}.cookiebar span{margin:0;float:left;width:60%}}@media (min-width:1550px){.cookiewall{left:28%}}@media (max-width:760px){.cookiewall{position:absolute;width:70%;left:15%}}@media (min-width:620px) and (max-width:1600px){.cookiebar{font-size:11.4px}.cookiewall{position: absolute;}}@media (max-width:520px){.cookieWallWrapper{position:absolute;top:10%;left:9%}.cookiewall{position:relative;left:0;top:10%;width:90%;max-width:519px;background-image:none;padding-top:20px}p.first{height:150px;overflow-y:auto}}';\n\n\t\t\tvar cookieBarStyleTag = document.createElement('style');\n\t\t\tvar head = document.head || document.getElementsByTagName('head')[0];\n\n\t\t\tcookieBarStyleTag.type = 'text/css';\n\n\t\t\tif (cookieBarStyleTag.styleSheet){\n\t\t\t  cookieBarStyleTag.styleSheet.cssText = cookieBarStyleSheet;\n\t\t\t} else {\n\t\t\t  cookieBarStyleTag.appendChild(document.createTextNode(cookieBarStyleSheet));\n\t\t\t}\n\n\t\t\thead.appendChild(cookieBarStyleTag);\n\n\t\t\tif (typeof window._ckBnnr === 'undefined') {\n\t\t\t\twindow._ckBnnr = true;\n\t\t\t}\n\n\t\t\t/*jshint multistr: true */\n\t\t\tvar cookiebar = '<div class=\"cookiebar\" data-type=\"cookieBar\">\\\n\t\t\t\t\t\t\t\t<div>\\\n\t\t\t\t\t\t\t\t\t<span>Ziggo.nl maakt gebruik van cookies.</span><a class=\"cookiebar-link-cookiepage\" href=\"/cookies/\">Meer Info &amp; Instellingen</a>&nbsp;\\\n\t\t\t\t\t\t\t\t\t<button class=\"lg_btn_3 clearboth cookiebar-accept\">Accepteren</button>\\\n\t\t\t\t\t\t\t\t</div>\\\n\t\t\t\t\t\t\t</div>';\n\n\t\t\tvar cookiewall ='<div class=\"cookieWallWrapper\">\\\n\t\t\t\t\t\t\t\t<div class=\"cookiewallOverlay\"> </div>\\\n\t\t\t\t\t\t\t\t<div class=\"cookiewall\" data-type=\"cookieWall\">\\\n\t\t\t\t\t\t\t\t\t<div class=\"content\">\\\n\t\t\t\t\t\t\t\t\t\t<h2>We gebruiken cookies op ziggo.nl</h2>\\\n\t\t\t\t\t\t\t\t\t\t<p class=\"first\">\\\n\t\t\t\t\t\t\t\t\t\t\tOm je zo goed mogelijk van dienst te zijn gebruiken we cookies (waaronder javascripts en beacons).\\\n\t\t\t\t\t\t\t\t\t\t\tCookies helpen ons om de website goed te laten werken, hem relevanter voor je te maken en om je persoonlijke aanbiedingen te doen. <br/>\\\n\t\t\t\t\t\t\t\t\t\t\tDerde partijen plaatsen hiervoor ook cookies. Cookies van derde partijen zijn soms nodig om bijvoorbeeld filmpjes te kunnen tonen op onze website of het je mogelijk te maken informatie te delen op social media.<br/><br/>\\\n\t\t\t\t\t\t\t\t\t\t\tVia onze websites verzamelen wij en/of derden gegevens, zoals je klikgedrag op onze websites, je IP-adres, en gegevens die je zelf op de website achterlaat.\\\n\t\t\t\t\t\t\t\t\t\t\tWaar het kan combineren we deze gegevens met andere persoonlijke informatie (klantdata) die we van je verzameld hebben.\\\n\t\t\t\t\t\t\t\t\t\t</p>\\\n\t\t\t\t\t\t\t\t\t\t<p>\\\n\t\t\t\t\t\t\t\t\t\t\tJe mag zelf aangeven wat voor cookies je wilt toestaan. <br/>\\\n\t\t\t\t\t\t\t\t\t\t\tMeer informatie staat op de <a class=\"cookiewall-link-cookiepage\" href=\"//www.ziggo.nl/cookies\">cookies-pagina</a> \\\n\t\t\t\t\t\t\t\t\t\t\ten daar kun je ook je <a class=\"cookiewall-link-cookiepage\" href=\"//www.ziggo.nl/cookies\">instellingen</a> aanpassen.\\\n\t\t\t\t\t\t\t\t\t\t</p>\\\n\t\t\t\t\t\t\t\t\t\t<button class=\"lgi_btn_3 clearboth cookiewall-accept\">Accepteren</button>\\\n\t\t\t\t\t\t\t\t\t</div>\\\n\t\t\t\t\t\t\t\t</div>\\\n\t\t\t\t\t\t\t</div>';\n\n\t\t\tif (window._ckBnnr) {\n\t\t\t\t$('body').append(cookiebar);\n\t\t\t\t\n\t\t\t\t$('.cookiebar').on('click', '.cookiebar-link-cookiepage', function(e) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\t$('.cookiebar').hide();\n\t\t\t\t\t\n\t\t\t\t\tif(tagTracker) {\n\t\t\t\t\t\t_stTracker.setCookiePreferences(emptySettings);\n\t\t\t\t\t}\n\t\t\t\t\twindow.location = e.currentTarget.href;\n\t\t    \t});\n\t\t\t\t\n\t\t\t\t$('.cookiebar').on('click', '.cookiebar-accept', function(e) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\t// Hide cookiebar component\n\t\t\t\t\t$('.cookiebar').hide();\n\n\t\t\t\t\tif(tagTracker) {\n\t\t\t\t\t\t_stTracker.setCookiePreferences(settings);\n\t\t\t\t\t}\n\t\t    \t});\n\t\t\t} else {\n\t\t\t\t$('body').append(cookiewall);\n\t\t\t\t\n\t\t\t\t$('.cookiewall').on('click', '.cookiewall-link-cookiepage', function(e) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\t$('.cookiewall').hide();\n\t\t\t\t\t\n\t\t\t\t\tif(tagTracker) {\n\t\t\t\t\t\t_stTracker.setCookiePreferences(emptySettings);\n\t\t\t\t\t}\n\t\t\t\t\twindow.location = e.currentTarget.href;\n\t\t    \t});\n\t\t\t\t\n\t\t\t\t$('.cookiewall').on('click', '.cookiewall-accept', function(e) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\t// Hide cookiewall component\n\t\t\t\t\t$('.cookieWallWrapper').hide();\n\n\t\t\t\t\tif(tagTracker) {\n\t\t\t\t\t\t_stTracker.setCookiePreferences(settings);\n\t\t\t\t\t}\n\t\t    \t});\n\t\t\t}\n\t\t};\n\t\t\n\t    if(tagTracker) {\n\t        if (cookie && cookie !== undefined) {\n\t            if (getKeys(_stTracker.getCookiePreferences()).length === 0 && !window._ckPage) {\n\t                window._stq = window._stq || [];\n\t                window._stq.push(['setSiteId', 1085]);\n\t                _stTracker.setCookiePreferences(settings);\n\t            }\n\t        } else {\n\t\t\t\tvar cookiePlugin = $.cookie ? $.cookie : jQuery.cookie;\n\t            cookiePlugin(\n\t                cookieName,\n\t                '{\"c\": cookiesPermission ,\"ct\":' + new Date().getTime() + '}', { expires: 356, path: '/' }\n\t            );\n\t        }\n\t\t\tvar userTime = _st.data.getUserData() || {};\n\t\t\t//1439374998360 : 12 august 2015 ~ 12.00\n\t\t\t\n\t\t\tif (userTime.ct && userTime.ct < 1439374998360 ) {\n\t\t\t\tuserTime.c= undefined;\n\t\t\t\tuserTime.ct= 0;\n\t\t\t\t_st.data.saveUserData();\n\t\t\t}\n\t        if ((getKeys(_stTracker.getCookiePreferences()).length === 0 || JSON.stringify(_stTracker.getCookiePreferences()) === JSON.stringify(emptySettings)) && !window._ckPage) {\n\t            addCookieWallBar();\n\t        }\n\t    }\n\t}\n\t\n\tfunction getScript(url, success) {\n\t\tvar script = document.createElement('script');\n\t    script.src = url;\n\t\tvar head = document.head || document.getElementsByTagName('head')[0],\n\t\tdone = false;\n\t\t// Attach handlers for all browsers\n\t\tscript.onload = script.onreadystatechange = function() {\n\t\t\tif (!done && (!this.readyState || this.readyState == 'loaded' || this.readyState == 'complete')) {\n\t\t\t\tdone = true;\n\t\t\t\tsuccess();\n\t\t\t\tscript.onload = script.onreadystatechange = null;\n\t\t\t\thead.removeChild(script);\n\t\t\t}\n\t\t};\n\t\thead.appendChild(script);\n\t}\n\n\tif (typeof jQuery == 'undefined') {\n\t\tgetScript('https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js', function() {\n\t\t\tif (typeof jQuery=='undefined') {\n\t\t\t\t// do nothing\n\t\t\t} else {\n\t\t\t\tgetScript('https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js', function(){ runCookieBanner(); });\n\t\t\t}\n\t\t});\n\t} else {\n\t\tif (typeof jQuery.cookie=='undefined') {\n\t\t\tgetScript('https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js', function(){ runCookieBanner(); });\n\t\t} else {\n\t\t\trunCookieBanner();\n\t\t}\n\t}\n})();"},{"markerCondition":"[]","selector":"head","id":261,"version":16,"content":"(function(){\n\tvar urlParam = _st.util.getUrlParam('utm_acid');\n\tvar cookie = _st.util.getCookie('acid');\n\t\n\tif(!!urlParam) {\n    \t_st.data.setProperty('acid',urlParam);\n\t} else if (!!cookie){\n   \t\t_st.data.setProperty('acid',cookie);\n\t}\n})();"},{"markerCondition":"[]","selector":"head","id":806,"version":22,"content":"(function(){\n\n    /* local helper functions */\n    var date = new Date();\n\tfunction currenttime(withmilliseconds) {\n\t\tvar h = date.getHours();\n        h = (h<10) ? '0'+h : h;\n        var m = date.getMinutes();\n        m = (m<10) ? '0'+m : m;\n        var s = date.getSeconds();\n        s = (s<10) ? '0'+s : s;\n\t\tif(withmilliseconds) return h+':'+m+':'+s+':'+date.getMilliseconds();\n        return h+':'+m+':'+s;\n\t}\n\tfunction currentdate() {\n        var year = date.getFullYear();\n        var month = date.getMonth();\n        var d = date.getDate();\n        return year+'/'+month+'/'+d; \n\t}\n\tfunction currentday() {\n        var day = date.getDay();\n        var days = ['Zondag', 'Maandag', 'Dinsdag', 'Woensdag', 'Donderdag', 'Vrijdag', 'Zaterdag'];\n\t\treturn days[day];\n    }\n\n    /* page variables ------------------------------ */\n\tvar page = {};\n\t\n\tpage.host = window.document.location.hostname;\n\tpage.location = window.document.location.href;\n\tpage.path = window.document.location.pathname;\n\tpage.fullurl = window.location.href;\n\tpage.environment= _st.settings.environment;\n\t\n\tvar PN = (_st.settings.pageStructure.length > 0) ? '/'+ _st.core.getPageStructureString() : page.path;\n\tPN = PN.replace(/[|/,]{1,}/g, '/');\n\tPN = PN.substr(PN.length-1) != '/' ? PN + '/' : PN;\n\tpage.name = PN;\n\t\n\tpage.salesOrService = (PN.indexOf('/klantenservice') !== -1) ? 'service' : 'sales';\n\n\tvar PSS = _st.core.getPageStructureString(),\n\t\tPSSparts = PSS.split('|');\n\tif(PSSparts[0]) page.channel1 = PSSparts[0];\n\tif(PSSparts[1]) page.channel2 = PSSparts[1];\n\tpage.channel = PSSparts[0]+'_'+PSSparts[1];\n\n    var sections = page.name.split('/');\n\tfor (var i=1;i<sections.length;i++ ) {\n\t\tif(sections[i] !== '') page['section'+i] = sections[i];\n\t}\n\t\n    if(_st.settings.structurePrefix.length > 0) {\n        var PR42pre = _st.settings.structurePrefix.toString();\n        PR42pre = PR42pre.replace(/[|,]/g, '|');\n        page.r42prefix = PR42pre;\n    }\n\n    if(_st.settings.pageStructure.length > 0) {\n        var PR42str = _st.settings.pageStructure.toString();\n        PR42str = PR42str.replace(/[|,]/g, '|');\n        page.r42structure = PR42str;\n    }\n\n    if(_st.util.getUrlParam('q')!=='') {\n\t\tpage.searchText = _st.util.getUrlParam('q');\n\t\tpage.searchMode = 'general search results';\n\t\tpage.type = 'search';\n    }\n    else if(_st.util.getUrlParam('s')!=='' && page.host.indexOf('ziggo.com') >= 0) {\n\t\tpage.searchText = _st.util.getUrlParam('s');\n\t\tpage.searchMode = 'ziggo.com search results';\n\t\tpage.type = 'search';\n    }\n    if(_st.util.getUrlParam('q1')!=='') {\n\t\tpage.searchText = _st.util.getUrlParam('q1');\n\t\tpage.searchMode = 'AEM search results';\n\t\tpage.type = 'search';\n    }\n    if(_st.util.getUrlParam('q2')!=='') {\n\t\tpage.searchText = _st.util.getUrlParam('q2');\n\t\tpage.searchMode = 'AEM direct to destination';\n\t\tpage.type = 'search';\n    }\n\t\n\tpage.date = currentdate();\n\tpage.time = currenttime();\n\tpage.day = currentday();\n\n\tif(typeof window.UPC !== 'undefined') {\n\t\tif(typeof window.UPC.vars !== 'undefined') {\n\t\t\tif(typeof window.UPC.vars.screenOrientation !== 'undefined') {\n\t\t\t\tpage.orientation = window.UPC.vars.screenOrientation;\n\t\t\t}\n\t\t\tif (typeof window.UPC.vars.nrSearchResults !== \"undefined\") {\n\t\t\t\tpage.searchResults = window.UPC.vars.nrSearchResults;\n\t\t\t}\n        }\n        if(typeof window.UPC.Responsive !== 'undefined') {\n\t\t\tif(typeof window.UPC.Responsive.currentView !== 'undefined') {\n\t\t\t\tpage.responsive = window.UPC.Responsive.currentView;\n\t\t\t}\n\t\t}\n\t}\n\t\t\n\tvar step;\n\tif(PSS.indexOf('|sales2') > -1) {\n\t\tif(PSS.indexOf('|thankyou') > -1) {\n\t\t\tpage.type = 'purchase';\n\t\t} else {\n\t\t\tstep = '';\n\t\t\tif(PSS.indexOf('|step0') > -1 || PSS.indexOf('|stepZero') > -1 ) step='0';\n            if(PSS.indexOf('|step1') > -1 || PSS.indexOf('|stepOne') > -1 ) step='1';\n            if(PSS.indexOf('|step2') > -1 || PSS.indexOf('|stepTwo') > -1 ) step='2';\n            if(PSS.indexOf('|step3') > -1 || PSS.indexOf('|stepThree') > -1 ) step='3';\n            if(PSS.indexOf('|step4') > -1 || PSS.indexOf('|stepFour') > -1 ) step='4';\n\t\t\tpage.step = step;\n\t\t\tpage.type = 'checkout';\n\t\t}\n\t} else if(PSS.indexOf('aem|consumer|bestellen') > -1) {\n        if(page.name.indexOf('/step0') > -1) {\n\t\t\tpage.step = '0';\n\t\t\tpage.type = 'checkout';\n\t\t}\n\t}\n\t\n\tif(!r42data.empty(page)) r42data.set({page: page});\n\n    /* user variables --------------------------------- */\n\tvar user = {};\n\t\n\tif(_st.util.getCookie('acid')) user.acid = _st.util.getCookie('acid');\n\n\tif(_st.util.getUrlParam('acid') !== '' || _st.util.getUrlParam('utm_acid') !== '') {\n\t\tuser.e_acid = _st.util.getUrlParam('acid') !=='' ? _st.util.getUrlParam('acid') : _st.util.getUrlParam('utm_acid');\n    }\n\tif(r42data.get('user.id')) user.id = r42data.get('user.id');\n\n\tif(_st.util.getUrlParam('cmid') !== '') user.mail_id = _st.util.getUrlParam('cmid');\n\tif(_st.util.getUrlParam('phid') !== '') user.phid = _st.util.getUrlParam('phid');\n\tif(_st.util.getUrlParam('vfid') !== '') user.vfid = _st.util.getUrlParam('vfid');\n\tif(_st.util.getUrlParam('mgmco_saleid') !== '') {\n\t\tvar mgm = _st.util.getUrlParam('mgmco_saleid');\n\t\t_st.util.setCookie('_zmgm',mgm,90);\n        user.mgmco_saleid = mgm;\n    }\n\tuser.r42id = _stTracker.getUserIdentifier();\n\tuser.GAid = _st.util.getCookie('_ga');\n\n    var CC, CCvalue = _st.cookiepermission.getCookiePreferences();\n    if(typeof CCvalue !== undefined && CCvalue !== ''){\n        if(CCvalue[1] === true) { CC = '1: Functioneel'; }\n        if(CCvalue[2] === true) { CC = '2: Prestaties'; }\n        if(CCvalue[3] === true) { CC = '3: Relevantie'; }\n        if(CCvalue[4] === true) { CC = '4: Extern (social)'; }\n        user.cookieConsent = CC;\n    }\n    else { user.cookieConsent = 'n/a'; }\n\n    if(_st.data.getProperty('keysegment') && _st.data.getProperty('keysegment') !== ''){\n        user.keysegment = _st.data.getProperty('keysegment');\n    }\n\n    if(_st.data.getProperty('acq') && _st.data.getProperty('acq') !== ''){\n        user.acquisition = _st.data.getProperty('acq');\n    }\n\n    if((page.name).indexOf('/zakelijk') > -1){\n\t\tuser.type = 'business';\n    } else {\n\t\tuser.type = 'consumer';\n    }\n\n    if(typeof window.UPC !== 'undefined') {\n        if(typeof window.UPC.vars !== 'undefined') {\n\t\t\tif (typeof window.UPC.vars.loginStatus !== 'undefined') {\n\t\t\t\tswitch (window.UPC.vars.loginStatus) {\n\t\t\t\t\tcase 1:\n\t\t\t\t\t\tuser.loginStatus = 'Logged in'; break;\n\t\t\t\t\tcase 2:\n\t\t\t\t\t\tuser.loginStatus = 'Logged Out'; break;\n\t\t\t\t\tcase 3:\n\t\t\t\t\t\tuser.loginStatus = 'Timeout'; break;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tuser.loginStatus = 'Unknown';\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tuser.loginStatus = 'No SSO code on page';\n\t\t\t}\n\t\t\tif (typeof window.UPC.vars.zipcode !== 'undefined') {\n\t\t\t\tuser.zip = window.UPC.vars.zipcode;\n\t\t\t}\n\t\t\tif (typeof window.UPC.vars.city !== 'undefined') {\n\t\t\t\tuser.city = window.UPC.vars.city;\n\t\t\t}\n\t\t}\n    }\n\n\tif(!r42data.empty(user)) r42data.set({user: user});\n\n\n    /* marketing variables -------------------------------- */\n\tvar marketing = {};\n\n\tif(_st.util.getUrlParam('ecmp')!=='') {\n\t\tmarketing.campaign = _st.util.getUrlParam('ecmp');\n\t}\n\tif(_st.util.getUrlParam('zxuserid')!=='') {\n\t\tmarketing.zxuserid = _st.util.getUrlParam('zxuserid');\n\t}\n\tif(_st.util.getUrlParam('zanpid')!=='') {\n\t\tmarketing.zanpid = _st.util.getUrlParam('zanpid');\n\t}\n\tif(_st.util.getUrlParam('daisycon')!=='') {\n\t\tmarketing.daisycon = _st.util.getUrlParam('daisycon');\n\t}\n\tif(_st.util.getUrlParam('CMP')!=='') {\n\t\t marketing.CMP = _st.util.getUrlParam('CMP');\n\t}\n\n\tif(!r42data.empty(marketing)) r42data.set({marketing: marketing});\n\n\t/* promotion variables -------------------------------- */\n\tvar promotion = {};\n\n\tif(_st.util.getUrlParam('intcmp')!=='') {\n\t\tpromotion.id = _st.util.getUrlParam('intcmp');\n\t}\n\n\tif(!r42data.empty(promotion)) r42data.set({promotion: promotion});\n\n\t/* product variables ---------------------------------- */\n\tvar parse_s_products = function(s_products) {\n        var result = [];\n\n        var parse_s_product = function(s_product) {\n\t\t\tvar ps = s_product.split(';');\n            var offerID = ps[1];\n            var quantity = ps[2];\n            var price = ps[3];\n            var extra = ps[5];\n\n            var category = extra ? extra.substr(extra.indexOf('=')+1,extra.length) : '';\n            result.push({\n                offerID: offerID, \n                quantity: quantity, \n                price: price, \n                category: category\n\t\t\t});\n        };\n\n        if(s_products.indexOf('mobile=true') > -1) {\n            parse_s_product(s_products);\n        } else {\n            var spa = s_products.split(',');\n            spa.forEach(function(s_product) {\n                parse_s_product(s_product);\n            });\n        }\n        return result;\n    };\n\n    var products = _st.data._tagProperties.products;\n\tvar prod = products ? true : false;\n    var r_products = products || [];\n    var s_products = checkSobject('products') ;\n    if(s_products) {\n\n        var parsedproducts = parse_s_products(s_products);\n        _st.debug.log('Parsed products:');\n        _st.debug.log(JSON.stringify(parsedproducts));\n\n        parsedproducts.forEach(function(new_product) {\n            if(prod === false){\n                r_products.push(new_product);\n            }\n            if(prod === true && new_product.category === 'PGC'){\n                r_products.push(new_product);\n            }\n        });\n        _st('addTagProperty', 'products', r_products);\n\t\tr42data.set({products: r_products});\n    }\n\n    /* transaction variables ------------------------------- */\n\t\n\tvar transaction = r42data.get('transaction') || {};\n\t\n    if(r42data.get('page.type') === 'purchase' || r42data.get('page.type') === 'checkout') {\n\n\t\tvar shop = _st.data.getProperty('shop');\n\n\t\tif(shop !== '' && typeof shop === 'object') {\n\t\t\ttransaction.id = shop.parsedBasket.id;\n\t\t\ttransaction.altId = shop.parsedBasket.altId;\n\t\t\ttransaction.revenue = shop.parsedBasket.monthlyPriceTotal;\n\t\t\t_st.debug.log('** property reader > transaction: '+JSON.stringify(transaction));\n\t\t} else if(products) {\n            var orderTotal = 0;\n            for (var j = 0; j < products.length; j++) {\n                var amount = products[j].price;\n                if(products[j].category!=='PGC') {\n                    orderTotal += parseFloat(amount);\n                }\n            }\n            transaction.revenue = orderTotal;\n\t\t\ttransaction.id = _st.data.getProperty('transaction.altId') || 'fallbackOrderId_' + currenttime('ms') ;\n\t\t\ttransaction.altId = _st.data.getProperty('transaction.id');\n\t\t\t_st.debug.log('** property reader > transaction: '+JSON.stringify(transaction));\n\t\t}\n    }\n\n    var eVar44 = checkSobject('eVar44');\n    if(checkSobject('eVar44')) transaction.type = eVar44;\n\n    var prop41 = checkSobject('prop41');\n    if(prop41) transaction.orderSettings = prop41;\n\n    if(_st.util.getUrlParam('productgroup')!== '') transaction.productGroup = _st.util.getUrlParam('productgroup');\n    if(_st.util.getUrlParam('selectedProducts')!== '') transaction.selectedProducts = _st.util.getUrlParam('selectedProducts');\n\n    if(_st.util.getUrlParam('addedproducts')!== '') {\n        transaction.OfferId = decodeURIComponent(_st.util.getUrlParam('addedproducts'));\n    } else if(_st.util.getUrlParam('offerid')!== '') {\n        transaction.OfferId = decodeURIComponent(_st.util.getUrlParam('offerid'));\n    }\n\n\tif(!r42data.empty(transaction)) r42data.set({transaction: transaction});\n})();\n"},{"markerCondition":"[]","selector":"head","id":705,"version":53,"content":"(function(){\n\t\"use strict\";\n\tvar d = new Date(),\n\t\tweekday = d.getDay(),\n\t\ttimeofday = d.getHours(),\n\t\tdata = { 'user': {}, 'session': {} },\n\t\tfallback;\n\t\n\tvar ISPs = {\n\t\t'example': \t\t['0-footprint_isp','1-connection','2-market','3-category','4-code','5-counter','6-isp','7-provider'],\n\t\t'fallback':\t\t['notmatched','unknown','unknown','unknown','NBH_4',25,'notmatched','unknown'],\n\n\t\t'upcintern':\t['upc','network','intern','internal','NBH_1_Intern',undefined,'upcintern','ziggo'],\n\t\t'ziggointern':\t['ziggo','network','intern','internal','NBH_2_Intern',undefined,'ziggointern','ziggo'],\n\t\t'tele2int':\t\t['competition','network','intern','internal','NBH_8_2',undefined,'tele2_intern','tele2'],\n\t\t'xs4allint':\t['competition','network','intern','internal','NBH_8_6',undefined,'xs4all_intern','xs4all'],\n\n\t\t'upcall':\t\t['upc','cable','consumer','ziggo','NBH_1_All',20,'upcall','ziggo'],\n\t\t'upcconsumer':\t['upc','cable','consumer','ziggo','NBH_1_Consumer',20,'upcconsumer','ziggo'],\n\t\t'ziggo':\t\t['ziggo','cable','consumer','ziggo','NBH_2_1',20,'ziggo','ziggo'],\n\t\t'ziggob2b':\t\t['ziggo','cable','business','ziggo','NBH_2_2',21,'ziggob2b','ziggo'],\n\t\t'ziggomob':\t\t['ziggo','mobile','consumer','ziggo','NBH_2_3',undefined,'ziggo_mobile','ziggo'],\n\n\t\t'kpn':\t\t\t['competition','copper','consumer','kpn','NBH_3_1',22,'kpn','kpn'],\n\t\t'tele2':\t\t['competition','copper','consumer','copperline','NBH_3_2',22,'tele2','tele2'],\n\t\t'tmobile':\t\t['competition','copper','consumer','copperline','NBH_3_13',22,'tmobile','tmobile'],\n\t\t'online':\t\t['competition','copper','consumer','copperline','NBH_3_3',22,'online','online'],\n\t\t'telfort':\t\t['competition','copper','consumer','copperline','NBH_3_5',22,'telfort','telfort'],\n\t\t'xs4all':\t\t['competition','copper','consumer','copperline','NBH_3_6',22,'xs4all','xs4all'],\n\t\t'concepts':\t\t['competition','copper','consumer','copperline','NBH_3_7',22,'concepts','concepts'],\n\t\t'solcon':\t\t['competition','copper','consumer','copperline','NBH_3_8',22,'solcon','solcon'],\n\t\t'cambrium':\t\t['competition','copper','consumer','copperline','NBH_3_9',22,'cambrium','cambrium'],\n\t\t'plinq':\t\t['competition','copper','consumer','copperline','NBH_3_10',22,'plinq','plinq'],\n\t\t'stipte':\t\t['competition','copper','consumer','copperline','NBH_3_11',22,'stipte','stipte'],\n\t\t'edpnet':\t\t['competition','copper','consumer','copperline','NBH_3_12',22,'edpnet','edpnet'],\n\n\t\t'kpnf':\t\t\t['competition','fiber','consumer','kpn','NBH_5_1',22,'kpn_ftth','kpn'],\n\t\t'tele2f':\t\t['competition','fiber','consumer','fiber','NBH_5_2',22,'tele2_ftth','tele2'],\n\t\t'vodafonef':\t['vodafone','fiber','consumer','fiber','NBH_5_4',24,'vodafone_ftth','vodafone'],\n\t\t'telfortf':\t\t['competition','fiber','consumer','fiber','NBH_5_5',22,'telfort_ftth','telfort'],\n\t\t'conceptsf':\t['competition','fiber','consumer','fiber','NBH_5_7',22,'concepts_ftth','concepts'],\n\t\t'edutelf':\t\t['competition','fiber','consumer','fiber','NBH_5_13',22,'edutel_ftth','edutel'],\n\t\t'trixitf':\t\t['competition','fiber','consumer','fiber','NBH_5_14',22,'trixit_ftth','trixit'],\n\t\t'e-questf':\t\t['competition','fiber','consumer','fiber','NBH_5_15',22,'e-quest_ftth','e-quest'],\n\t\t'trinedf':\t\t['competition','fiber','consumer','fiber','NBH_5_16',22,'trined_ftth','trined'],\n\t\t'breednlf':\t\t['competition','fiber','consumer','fiber','NBH_5_17',22,'breednl_ftth','breednl'],\n\t\t\n\t\t'kpnmob':\t\t['competition','mobile','consumer','kpn','NBH_6_1',undefined,'kpn_mobile','kpn'],\n\t\t'tele2mob':\t\t['competition','mobile','consumer','mobile','NBH_6_2',undefined,'tele2_mobile','tele2'],\n\t\t'vodafonemob':\t['vodafone','mobile','consumer','mobile','NBH_6_3',24,'vodafone_mobile','vodafone'],\n\t\t'vodafonemobb2b':['vodafone','mobile','business','b2b','NBH_6_18',24,'vodafone_mobile_b2b','vodafone'],\n\t\t'tmobilemob':\t['competition','mobile','consumer','mobile','NBH_6_19',undefined,'tmobile_mobile','tmobile'],\n\t\t\n\t\t'kpnb2b':\t\t['competition','fiber','business','kpn','NBH_7_1',23,'kpn_b2b','kpn'],\n\t\t'tele2b2b':\t\t['competition','fiber','business','b2b','NBH_7_2',23,'tele2_b2b','tele2'],\n\t\t'onlineb2b':\t['competition','fiber','business','b2b','NBH_7_3',23,'online_b2b','online'],\n\t\t'xs4allb2b':\t['competition','fiber','business','b2b','NBH_7_6',23,'xs4all_b2b','xs4all'],\n\t\t'solconb2b':\t['competition','fiber','business','b2b','NBH_7_8',23,'solcon_b2b','solcon'],\n\t\t'surfnetb2b':\t['competition','fiber','business','b2b','NBH_7_20',23,'surfnet_b2b','surfnet'],\n\t\t\n\t\t'caiwc':\t\t['competition','cable','consumer','cable','NBH_9_21',22,'caiwc','caiw'],\n\t\t'zeelandnetc':\t['competition','cable','consumer','cable','NBH_9_22',22,'zeelandnetc','zeelandnet'],\n\t\t'kabelnoordc':\t['competition','cable','consumer','cable','NBH_9_23',22,'kabelnoordc','kabelnoord'],\n\t\t'lijbrandtc':\t['competition','cable','consumer','cable','NBH_9_24',22,'lijbrandtc','lijbrandt'],\n\t\t'kabeltexc':\t['competition','cable','consumer','cable','NBH_9_25',22,'kabeltexc','kabeltex'],\n\t\t'skvc':\t\t\t['competition','cable','consumer','cable','NBH_9_26',22,'skvc','skv'],\n\n\t\t'kpnh':\t\t\t['competition','hotspot','consumer','kpn','NBH_10_1',22,'kpnh','kpn']\n\t};\n\n\t// fallback: set to 'notmatch' or unknown (BH4) when no provider is set from the configured ISP-ranges\n\t// _st.data.setProperty('provider',''); // enable to test\n\tif (_st.data.getProperty('provider') === '' || typeof _st.data.getProperty('provider') === 'undefined' || typeof ISPs[_st.data.getProperty('provider')] === 'undefined') {\n\t\t_st.data.setProperty('provider','fallback');\n\t}\n\n\tif (_st.data.getProperty('acq') && _st.data.getProperty('acq') !== '') {\n\t\tdata.user.isp_acquisition = _st.data.getProperty('acq');\n\t}\n\n\tdata.user.footprint_isp = \t\tISPs[_st.data.getProperty('provider')][0];\n\tdata.session.isp = \t\t\t\tISPs[_st.data.getProperty('provider')][6];\n\tdata.session.provider = \t\tISPs[_st.data.getProperty('provider')][7];\n\tdata.session.providerCategory = ISPs[_st.data.getProperty('provider')][3];\n\tdata.session.providerMarket = \tISPs[_st.data.getProperty('provider')][2];\n\tdata.session.connection = \t\tISPs[_st.data.getProperty('provider')][1];\n\tdata.session.counter = \t\t\tISPs[_st.data.getProperty('provider')][5];\n\tdata.session.code = \t\t\tISPs[_st.data.getProperty('provider')][4];\n\t\n\t// set business hours - non-businesshours\n    if ((timeofday <= 5 || timeofday >= 17) || (weekday === 0 || weekday === 6)) {\n\t\tdata.session.businesshours = 'no';\n\t} else { \n\t\tdata.session.businesshours = 'yes';\n\t\t// make business hours out of non-business hours :)\n\t\tdata.session.code = (data.session.code).substring(1);\n\t}\n\n\t// publish an event indicating the ISP check is done and trigger the event handler\n\t_st('publishEvent','engagement/provider','engagement', data);\n\n})();"},{"execValue2":"engagement","markerCondition":"[]","loadDefault":false,"groupReverse":false,"selector":"head","id":706,"execValue":"engagement/provider","version":64,"content":"(function(data) {\n\t'use strict';\n\t\n\tif(typeof data !== 'object') return;\n\n\t// always send R42 counter\n\tif(data.session.counter) {\n\t\t_st.counter.call(data.session.counter); \n\t}\n\t\n\tvar dosomething = function() {\n\n\t\t// set new timestamp\n\t\tdata.session.timestamp = new Date().getTime();\n\n\t\t// send data to r42data\n\t\tr42data.set(data);\n\n\t\t// prepare engagement data\n\t\tvar engagementData = {\n\t\t\t'user_footprint_isp': data.user.footprint_isp,\n\t\t\t'session_isp': data.session.isp,\n\t\t\t'session_provider': data.session.provider,\n\t\t\t'session_providerCategory': data.session.providerCategory,\n\t\t\t'session_providerMarket': data.session.providerMarket,\n\t\t\t'session_connection': data.session.connection,\n\t\t\t'session_businesshours': data.session.businesshours,\n\t\t\t'code': data.session.code\n\t\t};\n\t\t// send engagement to dmp\n\t\t_st.tracking.sendEngagement('isp_check', engagementData);\n\n\t\t// trigger GA event\n\t\tga('set', {\n\t\t\tdimension28: data.session.provider,\n\t\t\tdimension103: data.session.isp,\n\t\t\tdimension125: data.session.providerCategory,\n\t\t\tdimension127: data.session.providerMarket,\n\t\t\tdimension128: data.session.connection,\n\t\t\tdimension129: data.session.businesshours,\n\t\t\tdimension130: data.user.footprint_isp\n\t\t});\n\t\tga('send', 'event', 'engagement', 'isp', data.session.isp+'|'+data.session.providerMarket+'|'+data.session.connection, { 'nonInteraction': 1 });\n\n\t\t// Adobe event\n\t\tif(data.session.code) {\n\t\t\tvar cacheBuster = +new Date();\n\t\t\t_st.inject.pixel(\"//upc.d2.sc.omtrdc.net/b/ss/upcnl/1/H.27.5/\" + cacheBuster + \"?ns=upc&pageName=check/iatp/homepage&v6=\" + data.session.code + \"&events=event9&g=http%3A//www.upc.nl/&pe=lnk_o&pev2=iaptip\");\n\t\t}\n\t};\n\n\t// decide what to do\n\tif(typeof r42data.get('session.timestamp') !== 'undefined') { // timestamp (and session info) already set\n\t\tif(r42data.get('session.isp') === data.session.isp) { // no change in ISP\n\t\t\tif(r42data.get('session.timestamp')+600000 > new Date().getTime()) { // session timestamp younger 10min\n\t\t\t\tr42data.set(data);\n\t\t\t\t_st.debug.log('session info is younger than 10 minutes so do nothing');\n\t\t\t} else { // timestamp older 10min so do again\n\t\t\t\tdosomething();\n\t\t\t\t_st.debug.log('no change in provider (is still \"'+ r42data.get('session.isp') +'\") but longer than 10min so do it again');\n\t\t\t}\n\t\t} else { // isp changed so do again\n\t\t\tdosomething();\n\t\t\t_st.debug.log('new provider (is now \"'+ data.session.isp +'\") so do something!');\n\t\t}\n\t} else { // set new session info\n\t\tdosomething();\n\t\t_st.debug.log('no existing value for session.timestamp found, prepare to use \"'+ JSON.stringify(data) +'\".');\n\t}\n\t\n})(this.data);","exec":"event","group":3},{"markerCondition":"[]","loadDefault":false,"groupReverse":false,"selector":"head","id":805,"version":11,"content":"/* Ziggo GA Premium --------------------------------------------------- */\n(function (i, s, o, g, r, a, m) {\n\ti['GoogleAnalyticsObject'] = r;\n\ti[r] = i[r] || function () {\n\t\t(i[r].q = i[r].q || []).push(arguments);\n\t};\n\ti[r].l = 1 * new Date();\n\ta = s.createElement(o);\n\tm = s.getElementsByTagName(o)[0];\n\ta.async = 1;\n\ta.src = g;\n\tm.parentNode.insertBefore(a, m);\n})(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');\n\n// ziggo live-property UA = 5, property on test domains = 4\nvar property = (window.location.hostname.indexOf('ziggo.nl') >= 0) ? 'UA-39889859-5' : 'UA-39889859-4';\n\nga('create', property, {\n\t'cookieDomain': 'auto',\n\t'alwaysSendReferrer': true,\n\t'allowLinker': true\n});\n\nga('require', 'ec');\n\n// publish an event indicating ga-object is created\nvar data = r42data ? r42data.layer : '';\n_st('publishEvent','r42/ga','ga', data);\n","group":2},{"markerCondition":"[]","selector":"head","id":188,"version":11,"content":" var CC, CCvalue = _st.cookiepermission.getCookiePreferences();\n    if(typeof CCvalue !== undefined && CCvalue !== ''){\n        if(CCvalue[1] === true) { CC = '1: Functioneel'; }\n        if(CCvalue[2] === true) { CC = '2: Prestaties'; }\n        if(CCvalue[3] === true) { CC = '3: Relevantie'; }\n        if(CCvalue[4] === true) { CC = '4: Extern (social)'; }\n        if (!window.UPC) {\n\t\t\twindow.UPC = { vars: {}};\n\t\t} else if (!window.UPC.vars) {\n\t\t\twindow.UPC.vars = {};\n\t\t}\n\t\twindow.UPC.vars.eVar59 = CC;\n    }\n\t"},{"markerCondition":"[]","selector":"head","id":910,"version":3,"content":"(function() {\n\t\n\t// Get vfid from url query var 'vfid'\n\tvar ctnsha2 = _st.util.getUrlParam('vfid');\n\n\tvar dostuff = function() {\n\t\t// Map ctnsha2-value to according buckets\n\t\t_st.tracking.storeMapping('2004', ctnsha2, '1');\n\t\t_st.tracking.storeMapping('2001', ctnsha2, '1');\n\n\t\t_st.counter.call(90); // IDSync partners email\n\n\t\tvar params = {};\n\t\tvar hostName = r42data.layer.page.host;\n\t\tparams['syncLevel'] = 'ctnsha2';\t\n\t\tparams['cookieId'] = _st.tracking.getUserIdentifier();\n\t\tparams['ctnsha2'] = ctnsha2;\n\t\tparams['cookieDomain'] =  hostName.substring(hostName.lastIndexOf(\".\", hostName.lastIndexOf(\".\") - 1) + 1);\n\n\t\t// send IDsync engagement\n\t\t_st.tracking.sendEngagement('IDsync', params);\n\n\t\t// set r42data.layer\n\t\tr42data.set({user: {ctnsha2: ctnsha2}});\n\t};\n\n\t// decide what to do\n\tif(ctnsha2 !== '') { // only do this with an available ctnsha2 value\n\t\tif( r42data.get('user.ctnsha2') && // user.ctnsha2 is available\n\t\t\tr42data.get('session.timestamp')+600000 > new Date().getTime() // and the session timestamp younger 10min\n\t\t) {\n\t\t\t_st.debug.log('user.ctnsha2 is younger than 10 minutes so do nothing'); // so don't do stuff. it's done.\n\t\t} else { \n\t\t\tdostuff();\n\t\t\t_st.debug.log('no value younger than 10min found for user.ctnsha2 so dostuff');\n\t\t}\n\t}\n\n})();"},{"markerCondition":"[]","loadDefault":false,"groupReverse":false,"selector":"head","id":784,"version":15,"content":"(function(){\n\t\n\tvar segments = r42data.get('segments') || {},\n\t\tts = r42data.get('session.timestamp');\n\t\n\tvar checksegment = function() {\n\t\t_st.inject.script('//a.svtrd.com/s/1085/p/179', {\n\t\t\tcallback: function() {\n\t\t\t\tif (_st.data.getProperty('keysegement') == 'ot') {\n\t\t\t\t\t// count amount of attempts in the session\n\t\t\t\t\tvar count = (segments.attempts) ? segments.attempts +1 : 1;\n\t\t\t\t\tr42data.set({segments: {attempts: count}});\n                }\n            }\n        });\n\t};\t\n\t\n\tvar publish = function(segments) {\n\t\t_st('publishEvent', 'engagement/segments', 'keysegment', segments);\n\t\t_st.data.setProperty('keysegment', segments.legacy);\t// legacy!\n\t\t_st('publishEvent','keysegment', segments.legacy); \t// legacy!\n\t};\n\n\n\t// decide what to do\n\tif(ts) { // timestamp (and session info) is already available\n\t\tif(typeof segments.keysegment !== 'undefined') { // keysegment available\n\t\t\tif(segments.keysegment === 'no_match' && segments.attempts && segments.attempts < 4 ) { // keysegment was set but not matched, so try max 3 times\n\t\t\t\tchecksegment();\n\t\t\t\t_st.debug.log('keysegment was not matched again: now attempt nr. '+keysegment.attempts);\n\t\t\t}\n\t\t\tif(ts+600000 < new Date().getTime()) { // session timestamp older 10min\n\t\t\t\tchecksegment();\n\t\t\t\t_st.debug.log('no change in segments (keysegment is still: '+ segments.keysegment +') but longer than 10min, so check segments [179]');\n\t\t\t} else {\n\t\t\t\tpublish(segments);\n\t\t\t\t_st.debug.log('no change in segments: '+ JSON.stringify(segments));\n\t\t\t}\n\t\t} else { // keysegment not available\n\t\t\tchecksegment();\n\t\t\t_st.debug.log('new keysegment needed, so check segments [179]');\n\t\t}\n\t} else { // set new session info\n\t\tchecksegment();\n\t\t_st.debug.log('no existing value for session.timestamp found, so check segments [179]');\n\t}\n\n})();","group":3},{"execValue2":"","markerCondition":"[]","selector":"head","id":807,"execValue":"Adobe/loaded","version":11,"content":"(function(){\n\t\n\tif(!window.s) return; // quit when s-object is not available\n\n\tvar page = {}, transaction = {}, user = {};\n\n\n\t/* page variables -- on Adobe/loaded -------------- */\n\n\tvar prop23 = checkSobject('prop23');\n    if(prop23) page.channel1 = prop23;\n\n\tvar prop24 = checkSobject('prop24');\n    if(prop24) page.channel2 = prop24;\n\n\tvar prop26 = checkSobject('prop26');\n    if(prop26) page.channel3 = prop26;\n\n\tvar channel = checkSobject('channel');\n    if(channel) page.channel = channel;\n\n    var pageType = checkSobject('pageType');\n    if(pageType) page.typeAdobe = pageType;\n\n    var prop38 = checkSobject('prop38');\n    if(prop38) page.percentageViewed = prop38;\n\n    var prop39 = checkSobject('prop39');\n    if(prop39) page.orientation = prop39;\n\t\n\n\t/* product variables -- on Adobe/loaded ----------------- */\n    var prod = r42data.get('products')? true : false;\n    var r_products = r42data.get('products') || [];\n    var s_products = checkSobject('products') ;\n    if(s_products) {\n        var x = s_products.split(',');\n        for (var i = 0; i < x.length; i++) {\n            var z = x[i];\n            var w = z.split(';');\n            var v = w[5] ? w[5].substr(w[5].indexOf('=')+1,w[5].length): '';\n            if(prod === false){\n                r_products.push({offerID: w[1], quantity: w[2], price: w[3], category: v});\n            }\n            if(prod === true && v === 'PGC'){\n                r_products.push({offerID: w[1], quantity: w[2], price: w[3], category: v});\n            }\n        }\n        _st('addTagProperty', 'products', r_products);\n\t\t// r42data.set({products: r_products}); // r42data.set-function DOES NOT YET ACCEPTS AN ARRAY\n    }\n\n    var eVar12 = checkSobject('eVar12');\n    if(eVar12) products.voucher = eVar12;\n\t\n\tvar eVar44 = checkSobject('eVar44');\n\tif(eVar44) transaction.type = eVar44;\n\n    var prop41 = checkSobject('prop41') ;\n    if(prop41) transaction.orderSettings = prop41;\n\n    var purchaseID = checkSobject('purchaseID') ;\n    if(purchaseID) transaction.id = purchaseID;\n\n    var TID = checkSobject('eVar40') ;\n    if(TID) transaction.altId = TID;\n\n\tvar eVar20 = checkSobject('eVar20') ;\n\tif(eVar20) transaction.voucher = eVar20;\n\n\t/* user variables -- on Adobe/loaded -------------- */\n\n\tvar eVar60 = checkSobject('eVar60');\n\tif(eVar60) user.currentProducts = eVar60;\n\n\tvar eVar8 = checkSobject('eVar8');\n\tif(eVar8) user.acid = eVar8;\n\n\tvar eVar53 = checkSobject('eVar53');\n\tif(eVar53) user.id = eVar53;\n\n\tvar eVar71 = checkSobject('eVar71');\n\tif(eVar71) user.subid = eVar71;\n\n\tvar eVar64 = checkSobject('eVar64');\n\tif(eVar64) user.mail_id = eVar64;\n\n\tvar prop21 = checkSobject('prop21');\n\tif(prop21) user.loginStatus = prop21;\n\n\tif(typeof window.s.visitor !== 'undefined') {\n\t\tvar mcid = s.visitor.getMarketingCloudVisitorID();\n\t\tif(mcid) user.adobeMCid = mcid;\n\n\t\tvar acid = s.visitor.getAnalyticsVisitorID();\n\t\tif(acid) user.adobeACid = acid;\n\t}\n\n\n\t/* set variables to r42data object --- on Adobe/loaded -------------- */\n\t\n\tif(!r42data.empty(page)) \t\tr42data.set({page: page});\n\tif(!r42data.empty(transaction)) r42data.set({transaction: transaction});\n\tif(!r42data.empty(user)) \t\tr42data.set({user: user});\n\n})();","exec":"event"},{"markerCondition":"[]","selector":"head","id":395,"version":19,"content":"(function() {\n    function getMobileOperatingSystem() {\n        try {\n            if (((navigator.userAgent.match(/iPad/i) || navigator.userAgent.match(/iPhone/i) || navigator.userAgent.match(/iPod/i)))&&!(navigator.userAgent.match(/Windows Phone/i))) {\n                return 'iOS';\n            } else if (((navigator.userAgent.match(/Android/i)))&&!(navigator.userAgent.match(/Windows Phone/i))) {\n                return 'Android';\n            } \n            else {\n                return 'unknown';\n            }\n        } catch (err) {\n\t\t\t_st.debug.log(\"Error: \" + err + \".\");\n            return 'unableToDetect';\n        }\n    }\n\tr42data.set({OperatingSystem: getMobileOperatingSystem()});\n    // _st.data.setProperty('OperatingSystem', getMobileOperatingSystem());\n})();\n"},{"markerCondition":"[]","loadDefault":false,"groupReverse":false,"selector":"head","id":438,"version":12,"content":"(function() {\n\tvar tags = r42getProperty('page.tags');\n\tif (typeof tags[0] !== 'undefined') {\n\t\t_st.debug.log('Engagement page.tags with value(s) :' + tags);\n\t\t_st.tracking.sendEngagement('_userFeatures', { 'entertainment_tags': tags });\n\t}\n})();\n        ","group":3},{"execValue2":"","markerCondition":"[]","loadDefault":false,"groupReverse":false,"selector":"head","id":543,"execValue":"keysegment","version":5,"content":"(function(){\n\tvar id = '974364519294469';\n\tvar initRequired = true;\n\n\t(function(f, b, e, v, n, t, s) {\n\t\tif (f.fbq){initRequired = false; return;}\n\t\tn = f.fbq = function() {\n\t\t\tif (!n.callMethod){\n\t\t\t\tn.queue.push(arguments);\n\t\t\t}\n\t\t\telse{\n\t\t\t\tn.callMethod.apply(n, arguments);\n\t\t\t}\n\t\t};\n\t\tif (!f._fbq) f._fbq = n;\n\t\tn.push = n;\n\t\tn.loaded = !0;\n\t\tn.version = '2.0';\n\t\tn.queue = [];\n\t\tt = b.createElement(e);\n\t\tt.async = !0;\n\t\tt.src = v;\n\t\ts = b.getElementsByTagName(e)[0];\n\t\ts.parentNode.insertBefore(t, s);\n\t})(window,document, 'script', '//connect.facebook.net/en_US/fbevents.js');\n\n\tvar _eventParams = {};\n\n\tif(initRequired){\n\t\tfbq('init', id);\n\t} else {\n\t\t_st.debug.log('Potential duplicate FB pixel: '+ id + ' (this message can be ignored in a single page application)');\n\t}\n\tfbq('track', 'PageView', _eventParams);\n\t\n\t// custom event tracking used for segmentation\n\tvar trackCustom = function(){\t\t\n\t\tfbq('trackCustom', 'ks', {\n\t\t\tk: r42getProperty('keysegment')\n\t\t});\t\n\t};\n\n\ttrackCustom();\n\n})();","exec":"event","group":4},{"execValue2":"","markerCondition":"[]","loadDefault":false,"groupReverse":false,"selector":"head","id":544,"execValue":"keysegment","version":6,"content":"(function(f, b, e, v, n, t, s) {\n    if (f.fbq) return;\n    n = f.fbq = function() {\n\t\tif(n.callMethod) { \n            n.callMethod.apply(n, arguments);\n\t\t} else {\n\t\t\tn.queue.push(arguments);\n\t\t}\n    };\n    if (!f._fbq) f._fbq = n;\n    n.push = n;\n    n.loaded = !0;\n    n.version = '2.0';\n    n.queue = [];\n    t = b.createElement(e);\n    t.async = !0;\n    t.src = v;\n    s = b.getElementsByTagName(e)[0];\n    s.parentNode.insertBefore(t, s);\n})(window,document, 'script', '//connect.facebook.net/en_US/fbevents.js');\n\nfbq('init', '210169842688783');\nfbq('trackCustom', 'ks', {\n\tk: r42getProperty('keysegment')\n});\t\n\nvar params = { 'k': r42getProperty('keysegment') };\nfbq('track', 'PageView', params);","exec":"event","group":4},{"markerCondition":"[]","loadDefault":false,"groupReverse":false,"selector":"head","id":451,"version":14,"content":"(function() {\n\t\n\tvar now = +new Date();\n\t\n\tif((!_st.util.getCookie('sessionStart')) || (_st.util.getCookie('sessionStart')+(1000 * 60 *60 * 24)) < now){\n\n\t_st.debug.log('Started MediaSynced');\n\t\n\t\t//Include ad here\n\tvar placementParameter = 'activecommercial';\n\t_st.inject.script('https://a.svtrd.com/s/1085/p/53?key=' + placementParameter);\n\t\t\n    _st.util.setCookie('sessionStart',+new Date());\n\n\t}\t\n})();\n        ","group":3},{"execValue2":"on","markerCondition":"[]","loadDefault":false,"groupReverse":false,"selector":"head","id":460,"execValue":"mediaSynced","version":14,"content":"try{\n\tvar data = this.data;\n}catch(e){}\n\n(function(data){\n\tif(!data){\n\t\treturn;\n\t}\n\t\n\t// retrieve data variables\n\tvar params = {};\n\tparams['triggerDate'] = data[0].date;\n\tparams['commercialChannel'] = data[0].channel;\n\tparams['commercialId'] = data[0].commercialId;\n\tparams['commercialProgram'] = data[0].program;\n\n\t// set engagement\n\t_st.debug.log('set engagement for MediaSynced:' + params);\n\t_st.tracking.sendEngagement('MediaSyncedVisit', params);\n\n})(data);","exec":"event","group":4},{"markerCondition":"[]","selector":"head","id":557,"version":4,"content":"(function() {\n\n\t_st.util.engagementCounter = function(cat) {\n\n\t\ttry {\n\t\t\tvar cats = _st.util.decodeJson(localStorage.getItem('viewedCats'));\n\n\t\t\tif (!cats) {\n\t\t\t\tcats = {};\n\t\t\t}\n\n\t\t\tif (cats[cat]) {\n\t\t\t\tcats[cat]++;\n\t\t\t} else {\n\t\t\t\tcats[cat] = 1;\n\t\t\t}\n\t\t\tlocalStorage.setItem('viewedCats', _st.util.encodeJson(cats));\t\n\t\t\t\n\t\t\treturn parseInt(cats[cat],10);\n\t\t\t\n\t\t} catch (e) {\n\t\t\t_st.debug.log(e);\n\t\t\tthrow 'error occurred on EngagementCounter template: ' + e;\n\t\t}\n\t};\n})();"},{"execValue2":"","markerCondition":"[]","selector":"head","id":655,"execValue":"r42/general","version":29,"content":"(function(data){\n\t'use strict';\n\n\t//if params contains 'eventCategory' and 'eventAction' > trigger a GA event\n\tif(data.eventCategory && data.eventAction){\n\t\tif(data.customs) {\n\t\t\tga('set', data.customs);\n\t\t}\n\t\tga('send','event',\n\t\t   data.eventCategory,\n\t\t   data.eventAction,\n\t\t   data.eventLabel ? data.eventLabel : 'not set',\n\t\t   data.eventValue ? data.eventValue : undefined,\n\t\t   { 'nonInteraction': data.eventNonInteraction === true ? 1 : 0 }\n\t\t  );\n\t\t_st.debug.log('GAevent triggered: category: '+data.eventCategory+' | action: '+data.eventAction+' | label: '+data.eventLabel);\n\t}\n\n\t//if params contains 'r42engagementName' > trigger a relay engagement\n\tif(data.r42engagementName){\n\t\t_st.tracking.sendEngagement(data.r42engagementName,data.r42engagementParams ? data.r42engagementParams : \"\" );\n\t\t_st.debug.log('engagement triggered: name:' + data.r42engagementName + ' params:'+ data.r42engagementParams);\n\t}\n\t\n})(this.data);\n","exec":"event"},{"execValue2":"functions_set","markerCondition":"[]","loadDefault":false,"groupReverse":false,"selector":"head","id":774,"execValue":"targeting/timing","version":26,"content":"(function() {\n    _st.event.subscribe('/UDL/Promo', '', function(category,eventName,data) {\n    \tpromotionTrackerUDL(data);\n\t\t//console.info('UDL data',data);\n\t});\n})();\n        ","exec":"event","group":1},{"markerCondition":"[]","loadDefault":false,"groupReverse":false,"r42.conditions":{"condition":{"nodes":[{"nodes":[{"selectionName":"1085_322","nodeType":"CONCRETE"}],"nodeType":"AND"}],"nodeType":"AND"},"cacheSeconds":0},"selector":"head","id":778,"version":4,"content":"(function() {\n    _st.util.setCookie('ab_tablet', 'variant_b', -1, 'ziggo.nl');\n})();\n        ","group":1},{"markerCondition":"[]","loadDefault":false,"groupReverse":false,"selector":"head","id":747,"version":40,"content":"(function(){\n\n\tga('require', 'linker');\n\tga('linker:autoLink', ['ziggo.tv', 'clubziggo.nl','ziggo.com', 'dekrachtvanziggo.nl', 'komlangsbijziggo.nl'] );\n\t\n\t// if available in dl, set GA360 custom dimensions\n\tvar set = { \n\t\tuser: {\n\t\t\tibm_MCuid:\t\t'dimension15',\n\t\t\tibm_spUserID:\t'dimension16',\n\t\t\tpwc:\t\t\t'dimension17',\n\t\t\tvfid:\t\t\t'dimension18',\n\t\t\tibm_MCid:\t\t'dimension19',\n\t\t\tacid:\t\t\t'dimension20',\n\t\t\te_acid:\t\t\t'dimension21',\n\t\t\tid:\t\t\t\t'dimension22',\n\t\t\tmail_id:\t\t'dimension24',\n\t\t\tr42id:\t\t\t'dimension25',\n\t\t\tGAid:\t\t\t'dimension26',\n\t\t\tloginStatus:\t'dimension31',\n\t\t\tRFS:\t\t\t'dimension32',\n\t\t\ttype:\t\t\t'dimension33',\n\t\t\tcity:\t\t\t'dimension35',\n\t\t\tphid:\t\t\t'dimension34',\n\t\t\tcookieConsent:\t'dimension36',\n\t\t\tfootprint_isp:\t'dimension37',\n\t\t\tcallMeNowNumber: 'dimension82',\n\t\t\tmigration_status: 'dimension104',\n\t\t\tweek_nr:\t\t'dimension105'\n\t\t},\n\t\tpage: {\n\t\t\tenvironment: 'dimension41',\n\t\t\ttype:\t\t\t'dimension42',\n\t\t\tname:\t\t\t'dimension43',\n\t\t\tfullurl:\t\t'dimension126',\n\t\t\tchannel:\t\t'dimension44',\n\t\t\tchannel1:\t\t'dimension45',\n\t\t\tchannel2:\t\t'dimension46',\n\t\t\tchannel3:\t\t'dimension47',\n\t\t\tsection1:\t\t'dimension48',\n\t\t\tsection2:\t\t'dimension49',\n\t\t\tsection3:\t\t'dimension50',\n\t\t\tsection4:\t\t'dimension51',\n\t\t\tr42prefix:\t\t'dimension52',\n\t\t\tr42structure:\t'dimension53',\n\t\t\tpercentageViewed:\t'dimension54',\n\t\t\torientation:\t'dimension55',\n\t\t\tsearchText:\t\t'dimension56',\n\t\t\tsearchMode:\t\t'dimension57',\n\t\t\tsearchResults:\t'dimension58',\n\t\t\tstep:\t\t\t'dimension59',\n\t\t\tdate:\t\t\t'dimension69',\n\t\t\ttime:\t\t\t'dimension70',\n\t\t\tfeedback:\t\t'dimension77',\n\t\t\ttags:\t\t\t'dimension96',\n\t\t\tresponsive:\t\t'dimension84',\n\t\t\tusabilla_feedback: 'dimension136'\n\t\t},\n\t\tsegments: {\n\t\t\tcustomer:\t\t'dimension3',\n\t\t\tcustomertype:\t'dimension4',\n\t\t\tkeysegment:\t\t'dimension5',\n\t\t\tlegacy:\t\t\t'dimension27'\n\t\t},\n\t\tsession: {\n\t\t\tprovider:\t\t'dimension28',\n\t\t\tisp:\t\t\t'dimension103'\n\t\t},\n\t\terror: {\n\t\t\ttype:\t\t\t'dimension65',\n\t\t\tvalue:\t\t\t'dimension66',\n\t\t\tformFieldInput:\t'dimension67',\n\t\t\treferrer:\t\t'dimension68'\n\t\t},\n\t\tpromotion: {\n\t\t\tid:\t\t\t\t'dimension73'\n\t\t},\n\t\ttransaction: {\n\t\t\tproductGroup:\t'dimension79',\n\t\t\tcheckoutType:\t'dimension80',\n\t\t\tOfferId:\t\t'dimension81',\n\t\t\tselectedProducts: 'dimension83',\n\t\t\ttype:\t\t\t'dimension86',\n\t\t\torderSettings:\t'dimension87',\n\t\t\tid:\t\t\t\t'dimension88',\n\t\t\taltId:\t\t\t'dimension89'\n\t\t},\n\t\tmarketing: {\n\t\t\tcampaign:\t\t'dimension72',\n\t\t\tzxuserid:\t\t'dimension94',\n\t\t\tdaisycon:\t\t'dimension120',\n\t\t\tzanpid:\t\t\t'dimension121',\n\t\t\tCMP:\t\t\t'dimension122'\n\t\t},\n\t\tdmp: {\n\t\t\tgeo_segment_id:\t'dimension123',\n\t\t\tgeo_segment_descr: 'dimension124'\n\t\t},\n\t\tOperatingSystem:\t'dimension95'\n\t};\n\tvar settoo = {\n\t\ttransaction: {\n\t\t\tproductGroup:\t'dimension92'\n\t\t},\n\t\tmarketing: {\n\t\t\tcampaign:\t\t'campaignId'\n\t\t}\n\t};\n\t\n\tvar dl = r42data.layer;\n\tvar customs = {};\n\t\n\t// build the 'customs' object with GA360 custom dimensions\n\t// 1 - loop over custom properties definitions\n\t// 2 - check if datalayer property excists\n\t// 3 - loop over elements in datalayer property\n\t// 4 - if element is a custom dimension, set it in customs:{}\n\tfor(var prop in set){\n\t\tif(typeof dl[prop] === 'object') {\n\t\t\tfor(var el in dl[prop]) {\n\t\t\t\tif(set[prop][el]) customs[set[prop][el]] = dl[prop][el];\n\t\t\t\tif(settoo[prop] && settoo[prop][el]) customs[settoo[prop][el]] = dl[prop][el];\n\t\t\t\t// some corrections\n\t\t\t\tif(prop === 'page' && el ==='tags') dl[prop][el] = dl[prop][el].toString().replace(/\\,/g,'|');\n\t\t\t}\n\t\t}\n\t}\n\tga('set', customs);\n\n\n\t// -------------------------------------------------------------\n    // if(r42getProperty('page.tags')!=='') { ga('set', 'dimension96', r42getProperty('page.tags').toString().replace(/\\,/g,'|')); }\n\t\n\n    /* ecommerce checkout pages------------------------------------------ */\n\tvar pt = r42data.get('page.type');\n    if(pt === 'checkout' || pt === 'purchase' || pt === 'cancel') {\n        var product, ta, transType, transAltId, transId;\n        var products = _st.data.getProperty('products') || [];\n\t\t\n\t\tta = r42data.get('transaction');\n\t\tif(ta) {\n\t\t\tif(ta.type) transType = ta.type;\n\t\t\tif(ta.orderSettings) transSet = ta.orderSettings;\n\t\t\tif(ta.id) transId = ta.id;\n\t\t\tif(ta.altId) transAltId = ta.altId;\n\t\t}\n\n        for(var i=0; i<products.length; i++) {\n            product = products[i];\n            var vars = {\n                'category': product.category,\n                'price': product.price,\n                'quantity': product.quantity\n            };\n            if(product.id){\n                vars.id = product.id;\n            } else if(product.offerID){\n                vars.id = product.offerID;\n            }\n            if(product.name){\n                vars.name = product.name;\n            } else {\n                vars.name = vars.id;\n            }\n            if(transType!=='') vars.dimension74 = transType;\n            if(transAltId!=='') vars.dimension75 = transAltId;\n            if(transId!=='') vars.dimension76 = transId;\n\n\t\t\t// add products\n\t\t\tif(product.category!=='PGC') {\n                ga('ec:addProduct', vars);\n            }\n        }\n\n        if(pt === 'checkout'){\n            ga('ec:setAction','checkout', {\n                'step': r42data.get('page.step')\n            });\n        }\n        else if(pt === 'cancel'){\n            ga('ec:setAction','refund', {\n                'id': ta.id\n            });\n        }\n        else if(pt === 'purchase'){\n\t\t\t\n\t\t\t_st('publishEvent', 'ecommerce/purchase', 'ecommerce.purchase', products);\n\n\t\t\tga('ec:setAction', 'purchase', {\n                'id': ta.id,\n                'revenue': ta.revenue,\n                'coupon': ta.voucher\n            });\n        }\n    }\n\n\n    /* use hashed id or acid as unique for GUA -------------------- */\n\tvar uid, u = r42data.get('user');\n    if(typeof u.acid !== 'undefined') ga('set', 'userId', u.acid);\n    if(typeof u.id !== 'undefined') ga('set', 'userId', u.id);\n\n    /* prepend R42 prefix to page.name for GUA ------------------------ */\n\tvar page = r42data.get('page');\n\tvar ga_pn = page.name;\n\tif (page.r42prefix) {\n\t\tga_pn = '/'+ page.r42prefix + ga_pn;\n\t\tga_pn = ga_pn.replace(/[|]/g, '/');\n\t}\n\tif(window.location.search !== '') {\n\t\tga_pn += window.location.search;\n\t\tif(page.searchMode){\n\t\t\tga_pn += '&sMode='+encodeURI(r42getProperty('page.searchMode'));\n        }\n    }\n\n    /* Ziggo tracker --------------------------------------------------- */\n    ga('send', 'pageview', {\n        'page': ga_pn\n    });\n\t\n})();\n","group":2},{"execValue2":"","markerCondition":"[]","loadDefault":false,"groupReverse":false,"selector":"head","id":785,"execValue":"engagement/segments","version":14,"content":"(function(data) {\n\t'use strict';\n\t\n\tvar ks = r42data.get('user.keysegment'),\n\t\tsegments = {\n\t\t\tcustomer:\t\tdata.customer,\t\t// = 'yes'\n\t\t\tcustomertype:\tdata.customertype,\t// = 'consumer'\n\t\t\tkeysegment:\t\tdata.keysegment,\t// = 'dtv+internet+tel'\n\t\t\tlegacy:\t\t\tdata.legacy\t\t\t// = 's3'\n\t\t};\n\n\t// check datalayer if segments are set > return the function\n\tif(ks) {\n\t\tif(ks === segments.keysegment) { // no change in keysegment\n\t\t\t_st.debug.log('no change in keysegment (is still: '+ segments.keysegment +').');\n\t\t\treturn;\n\t\t} else { // keysegment changed\n\t\t\t_st.debug.log('new keysegment (was: '+ ks +', but is now: '+ segments.keysegment +') so do something!');\n\t\t}\n\t} else { // set new keysegment\n\t\t_st.debug.log('no value for user.keysegment found, so prepare for using \"'+ segments.keysegment +'\".');\n\t}\n\n\tvar customs = {\n\t\tdimension27: segments.legacy,\n\t\tdimension3 : segments.customer,\n\t\tdimension4 : segments.customertype,\n\t\tdimension5 : segments.keysegment\n\t};\n\t\n\t// GA event\n\tif(customs) ga('set', customs);\n\tga('send', 'event', 'engagement', 'segments', segments.keysegment, { 'nonInteraction': 1 });\n\n\t// Adobe event\n\tvar migration_status = (r42data.get('dmp.geo_segment_descr')) ? '&v69='+r42data.get('dmp.geo_segment_descr') : '';\n\tvar cacheBuster = +new Date();\n\t_st.inject.pixel('//upc.d2.sc.omtrdc.net/b/ss/upcnl/1/H.27.5/' + cacheBuster + '?ns=upc&pageName=check/iatp2/homepage&v31=' + segments.legacy + migration_status +'&g=http%3A//www.upc.nl/&pe=lnk_o&pev2=iaptseg');\n\t\n\t// update r42data\n\tr42data.set({user: {keysegment: segments.keysegment}, segments: segments}); // send data to r42data\n\n})(this.data);","exec":"event","group":2},{"execValue2":"interaction.RFS","markerCondition":"[]","loadDefault":false,"groupReverse":false,"selector":"head","id":13,"execValue":"interaction","version":32,"content":"try {\n    r42setProperty('user','RFS',this.data[0].user.RFS);\n    r42setProperty('user','zip',this.data[0].user.zip);\n    ga('set', 'dimension32', this.data[0].user.RFS);\n    ga('set', 'dimension34', this.data[0].user.zip);\n\n    ga('send',\n        'event',\n        this.matchedCategory.split('/')[0],\n        this.matchedCategory.split('/')[1],\n        this.data[0].user.RFS\n    );\n} catch(e) {\n    _st.debug.log(e);\n}\n","exec":"event","group":2},{"execValue2":"interaction.contentFold","markerCondition":"[]","loadDefault":false,"groupReverse":false,"selector":"head","id":35,"execValue":"interaction","version":32,"content":"try {\n\tr42setProperty('page','contentFold',this.data[0].page.contentFold);\n\tga('set', 'dimension63', this.data[0].page.contentFold);\n    ga('send',\n        'event',\n        this.matchedCategory.split('/')[0],\n        this.matchedCategory.split('/')[1],\n        this.data[0].page.contentFold\n    );\n} catch(e) {\n\t_st.debug.log(e);\n}\n","exec":"event","group":2},{"execValue2":"interaction.lightbox","markerCondition":"[]","loadDefault":false,"groupReverse":false,"selector":"head","id":37,"execValue":"interaction","version":25,"content":"try {\n    r42setProperty('page','type',this.data[0].page.type);\n    r42setProperty('page','lightbox',this.data[0].page.lightbox);\n    ga('set', 'dimension32', this.data[0].page.lightbox);\n\n    ga('send',\n        'event',\n        this.matchedCategory.split('/')[0],\n        this.matchedCategory.split('/')[1],\n        this.data[0].page.lightbox\n    );\n} catch(e) {\n    _st.debug.log(e);\n}\n\n","exec":"event","group":2},{"execValue2":"interaction.download","markerCondition":"[]","loadDefault":false,"groupReverse":false,"selector":"head","id":97,"execValue":"interaction","version":11,"content":"try {\n    ga('send',\n        'event',\n        this.matchedCategory.split('/')[0],\n        this.matchedCategory.split('/')[1],\n        this.data[0].events.label\n    );\n} catch(e) {\n    _st.debug.log(e);\n}","exec":"event","group":2},{"execValue2":"interaction.contentTab","markerCondition":"[]","loadDefault":false,"groupReverse":false,"selector":"head","id":98,"execValue":"interaction","version":10,"content":"try {\n    r42setProperty('page','contentTab',this.data[0].page.tabName);\n    ga('set', 'dimension62', this.data[0].page.tabName);\n    ga('send',\n        'event',\n        this.matchedCategory.split('/')[0],\n        this.matchedCategory.split('/')[1],\n        this.data[0].page.tabName\n    );\n} catch(e) {\n    _st.debug.log(e);\n}","exec":"event","group":2},{"execValue2":"","markerCondition":"[]","loadDefault":false,"groupReverse":false,"selector":"head","id":110,"execValue":"ecommerce","version":58,"content":"(function(matchedCategory, matchedEvent, data) {\n    var product, transType, transSet, transId, productGroup;\n    var products = data;\n    var ecAction = '';\n    if (!!matchedEvent) {\n        ecAction = matchedEvent.split('.')[1];\n    }\n    if (ecAction === 'firstAdd') {\n        ecAction = 'add';\n    }\n    if (ecAction === 'productView') {\n        ecAction = 'detail';\n    }\n\n    if (r42getProperty('transaction.type') !== '') {\n        transType = r42getProperty('transaction.type');\n    }\n    if (r42getProperty('transaction.orderSettings') !== '') {\n        transSet = r42getProperty('transaction.orderSettings');\n    }\n    if (r42getProperty('transaction.id') !== '') {\n        transId = r42getProperty('transaction.id');\n    }\n    if (r42getProperty('transaction.productGroup') !== '') {\n        productGroup = r42getProperty('transaction.productGroup');\n    }\n\n    for (var i = 0; i < products.length; i++) {\n        product = products[i];\n        var variables = {\n            'category': product.category,\n            'price': product.price,\n            'quantity': product.quantity\n        };\n        if (product.id) {\n            variables.id = product.id;\n        } else if (product.offerID) {\n            variables.id = product.offerID;\n        }\n        if (product.name) {\n            variables.name = product.name;\n        } else {\n            variables.name = variables.id;\n        }\n\n        if (transType !== '') {\n            variables.dimension74 = transType;\n        }\n        if (transSet !== '') {\n            variables.dimension75 = transSet;\n        }\n        if (transId !== '') {\n            variables.dimension76 = transId;\n        }\n        if (productGroup !== '') {\n            variables.dimension78 = productGroup;\n        }\n        if (ecAction !== 'purchase') {\n            ga('ec:addProduct', variables);\n        }\n    }\n\n    if (ecAction !== 'purchase') {\n        ga('ec:setAction', ecAction);\n    }\n\n    var eventCategory = matchedCategory.split('/')[0];\n    var eventAction = matchedCategory.split('/')[1];\n    if (transType) {\n        eventAction = matchedCategory.split('/')[1] + ' | ' + transType;\n    }\n    var eventLabel = JSON.stringify(products);\n\n    ga('send',\n        'event',\n        eventCategory,\n        eventAction,\n        eventLabel\n    );\n\n})(this.matchedCategory, this.matchedEvent, this.data);","exec":"event","group":2},{"execValue2":"interaction.callMeNow","markerCondition":"[]","loadDefault":false,"groupReverse":false,"selector":"head","id":113,"execValue":"interaction","version":14,"content":"try {\n    r42setProperty('user','callMeNow',this.data[0].user.callMeNow);\n\t\n\t/* prepend R42 prefix to page.name for GUA ------------------------ */\n    var GUA_PN = r42getProperty('page.name');\n    if (r42getProperty('page.r42prefix') !== '') {\n        GUA_PN = '/'+ r42getProperty('page.r42prefix') + GUA_PN;\n        GUA_PN = GUA_PN.replace(/[|]/g, '/');\n    }\n\t\n    ga('set', 'dimension82', this.data[0].user.callMeNow);\n    ga('send',\n        'event',\n        this.matchedCategory.split('/')[0],\n        this.matchedCategory.split('/')[1],\n        GUA_PN\n    );\n} catch(e) {\n    _st.debug.log(e);\n}","exec":"event","group":2},{"execValue2":"interaction.TVOBactivate","markerCondition":"[]","loadDefault":false,"groupReverse":false,"selector":"head","id":308,"execValue":"interaction","version":27,"content":"try {\n    r42setProperty('product','id',this.data[0].id);\n    r42setProperty('product','name',this.data[0].name);\n    r42setProperty('product','category',this.data[0].category);\n\t(function(){\n\t\tvar TVOBitem = \"cat=\"+r42getProperty('product.category')+\"|name=\"+r42getProperty('product.name')+\"|id=\"+r42getProperty('product.id');\n\t    r42setProperty('product','TVOBitem',TVOBitem);\n\t})();\n\n    ga('send',\n        'event',\n        this.matchedCategory.split('/')[0],\n        this.matchedCategory.split('/')[1],\n        r42getProperty('product.TVOBitem')\n    );\n} catch(e) {\n    _st.debug.log(e);\n}","exec":"event","group":2},{"execValue2":"","markerCondition":"[]","loadDefault":false,"groupReverse":false,"selector":"head","id":429,"execValue":"promotions","version":56,"content":"(function (data) {\n    'use strict';\n    var promo = data;\n\n    // GA set custom dimensions\n    ga('set', {\n        dimension73: promo.id,\n        dimension102: promo.name,\n        dimension97: promo.creative,\n        dimension98: promo.position,\n        dimension99: promo.selection,\n        dimension100: promo.group,\n        dimension101: promo.link\n    });\n\n\t// GA ecommerce promotion\n    ga('ec:addPromo', {\n        'id': promo.id,\n        'name': promo.name,\n        'creative': promo.creative,\n        'position': promo.position\n    });\n\n\t// GA ecommerce promotion clicked\n    if (promo.state === 'click') {\n        ga('ec:setAction', 'promo_click');\n    }\n    \n\t// GA event to send ecommerce promotion data\n    ga('send', 'event', 'promotions', promo.state, promo.id + '|' + promo.group, { 'nonInteraction': 1 });\n\n    // include Adobe event scripting when available\n\tvar l = Math.round((new Date()).getTime() / 1e3);\n\tvar pn = (document.location.pathname === '/') ? '/homepage' : document.location.pathname;\n    pn = (pn.substr(pn.length - 1) !== '/') ? pn : pn.substr(0, pn.length - 1);\n//\t_st.inject.pixel('//upc.d2.sc.omtrdc.net/b/ss/upcnl/1/H.27.5/' + l + '?ns=upc&pageName=targeting' + pn + '/' + promo.name + '_' + promo.position + '/' + promo.state + '&v1=' + promo.name + ':' + promo.position + ':' + promo.selection + '&events=event9&g=http%3A//www.upc.nl/');\n\n    if (data.state === 'click') {\n\t\tsetTimeout(function() {\n        \twindow.document.location = data.link;\n\t\t}, 300); // set timeout to allow for analytics calls to launch.\n    }\n\n})(this.data);\n","exec":"event","group":2},{"markerCondition":"[]","loadDefault":false,"groupReverse":false,"selector":"head","id":212,"version":25,"content":"(function(){\n\t\n\tif(_st.data.getProperty('provider').indexOf('upcintern') == -1 &&  _st.data.getProperty('provider').indexOf('ziggointern') == -1) {\n\t\t\n\t\tvar ecmp = _st.util.getUrlParam('ecmp');\n\n\t\tif(ecmp === 'adi-310-4938') {\n\t\t\t//Voor Zanox – Consumer – Non-Email (14 dagen cookietijd):\n\t\t\t_st.data.resetMarkers('Deduplication');\n\t\t\t_st.data.setMarker('Deduplication','Zanox', +new Date() + (1000 * 60 * 60 * 24 * 14));\n\t\t} else if (ecmp === 'adi-311-11824') {\n\t\t\t//Voor Zanox – Consumer – Email (1 dag cookietijd):\n\t\t\t_st.data.resetMarkers('Deduplication'); \n\t\t\t_st.data.setMarker('Deduplication','Zanox', +new Date() + (1000 * 60 * 60 * 24));\n\t\t} else if (ecmp === 'adi-31-19507') {\n\t\t\t//Voor Daisycon – Consumer – Voordeelpakket - Email (1 dag cookietijd):\n\t\t\t_st.data.resetMarkers('Deduplication'); \n\t\t\t_st.data.setMarker('Deduplication','Daisycon', +new Date() + (1000 * 60 * 60 * 24));\n\t\t} else if (ecmp === 'adi-11-19512') {\n\t\t\t//Voor Daisycon – Consumer – Voordeelpakket - non-Email (14 dag cookietijd):\n\t\t\t_st.data.resetMarkers('Deduplication'); \n\t\t\t_st.data.setMarker('Deduplication','Daisycon', +new Date() + (1000 * 60 * 60 * 24 * 14));\n\t\t} else if (ecmp === 'adi-8-19513') {\n\t\t\t//Voor Zanox – Consumer – Voordeelpakket - Email (1 dag cookietijd):\n\t\t\t_st.data.resetMarkers('Deduplication'); \n\t\t\t_st.data.setMarker('Deduplication','Zanox', +new Date() + (1000 * 60 * 60 * 24));\n\t\t} else if (ecmp === 'adi-18-19514') {\n\t\t\t//Voor Zanox – Consumer – Voordeelpakket - non-Email (14 dag cookietijd):\n\t\t\t_st.data.resetMarkers('Deduplication'); \n\t\t\t_st.data.setMarker('Deduplication','Zanox', +new Date() + (1000 * 60 * 60 * 24 * 14));\n\t\t} else if (ecmp === 'adi-8-19078') {\n\t\t\t//Voor Zanox – Consumer – Email (1 dag cookietijd):\n\t\t\t_st.data.resetMarkers('Deduplication'); \n\t\t\t_st.data.setMarker('Deduplication','Zanox', +new Date() + (1000 * 60 * 60 * 24));\n\t\t} else if (ecmp === 'adi-310-4940') {\n\t\t\t//Voor Zanox – Business – Non-Email (14 dagen cookietijd):\n\t\t\t_st.data.resetMarkers('Deduplication'); \n\t\t\t_st.data.setMarker('Deduplication','Zanox', +new Date() + (1000 * 60 * 60 * 24 * 14));\n\t\t} else if (ecmp === 'adi-311-11825') {\n\t\t\t//Voor Zanox – Business – Email (1 dag cookietijd):\n\t\t\t_st.data.resetMarkers('Deduplication'); \n\t\t\t_st.data.setMarker('Deduplication','Zanox', +new Date() + (1000 * 60 * 60 * 24));\n\t\t} else if (ecmp === 'adi-312-11826') {\n\t\t\t//Voor Daisycon – Consumer – Non-Email (14 dagen cookietijd):\n\t\t\t_st.data.resetMarkers('Deduplication'); \n\t\t\t_st.data.setMarker('Deduplication','Daisycon', +new Date() + (1000 * 60 * 60 * 24 * 14));\n\t\t} else if (ecmp === 'adi-31-19080') {\n\t\t\t//Voor Daisycon – Consumer – Email (1 dagen cookietijd):\n\t\t\t_st.data.resetMarkers('Deduplication'); \n\t\t\t_st.data.setMarker('Deduplication','Daisycon', +new Date() + (1000 * 60 * 60 * 24));\n\t\t} else if (ecmp === 'adi-313-11828') {\n\t\t\t//Voor Daisycon – Consumer – Email (1 dag cookietijd):\n\t\t\t_st.data.resetMarkers('Deduplication'); \n\t\t\t_st.data.setMarker('Deduplication','Daisycon', +new Date() + (1000 * 60 * 60 * 24));\n\t\t} else if (ecmp === 'adi-312-11827') {\n\t\t\t//Voor Daisycon – Business – Non-Email (14 dagen cookietijd):\n\t\t\t_st.data.resetMarkers('Deduplication'); \n\t\t\t_st.data.setMarker('Deduplication','Daisycon', +new Date() + (1000 * 60 * 60 * 24 * 14));\n\t\t} else if (ecmp === 'adi-313-11829') {\n\t\t\t//Voor Daisycon – Business – Email (1 dag cookietijd):\n\t\t\t_st.data.resetMarkers('Deduplication'); \n\t\t\t_st.data.setMarker('Deduplication','Daisycon', +new Date() + (1000 * 60 * 60 * 24));\n\t\t} else if (ecmp === 'b-aff-94-20158') {\n\t\t\t//Voor Daisycon – Business – Email (1 dag cookietijd):\n\t\t\t_st.data.resetMarkers('Deduplication'); \n\t\t\t_st.data.setMarker('Deduplication','Daisycon', +new Date() + (1000 * 60 * 60 * 24));\n\t\t} else if (ecmp === 'b-aff-95-20159') {\n\t\t\t//Voor Daisycon – Business – Email (1 dag cookietijd):\n\t\t\t_st.data.resetMarkers('Deduplication'); \n\t\t\t_st.data.setMarker('Deduplication','Daisycon', +new Date() + (1000 * 60 * 60 * 24));\n\t\t} else if (ecmp === 'c-aff-62-20187') {\n\t\t\t//Voor Zanox – Non-Email (14 dagen cookietijd):\n\t\t\t_st.data.resetMarkers('Deduplication'); \n\t\t\t_st.data.setMarker('Deduplication','Zanox', +new Date() + (1000 * 60 * 60 * 24 * 14));\n\t\t} else if (ecmp === 'c-aff-63-20190') {\n\t\t\t//Voor Zanox – Email (1 dag cookietijd):\n\t\t\t_st.data.resetMarkers('Deduplication'); \n\t\t\t_st.data.setMarker('Deduplication','Zanox', +new Date() + (1000 * 60 * 60 * 24));\n\t\t} else if (ecmp === 'c-aff-60-20196') {\n\t\t\t//Voor Daisycon – Non-Email (14 dagen cookietijd):\n\t\t\t_st.data.resetMarkers('Deduplication'); \n\t\t\t_st.data.setMarker('Deduplication','Daisycon', +new Date() + (1000 * 60 * 60 * 24 * 14));\n\t\t} else if (ecmp === 'c-aff-61-20193') {\n\t\t\t//Voor Daisycon – Email (1 dagen cookietijd):\n\t\t\t_st.data.resetMarkers('Deduplication'); \n\t\t\t_st.data.setMarker('Deduplication','Daisycon', +new Date() + (1000 * 60 * 60 * 24));\n\t\t} else if (ecmp === 'c-aff-61-20246') {\n\t\t\t//Voor Daisycon – Email (1 dagen cookietijd):\n\t\t\t_st.data.resetMarkers('Deduplication'); \n\t\t\t_st.data.setMarker('Deduplication','Daisycon', +new Date() + (1000 * 60 * 60 * 24));\n\t\t} else if (ecmp === 'c-aff-60-20247') {\n\t\t\t//Voor Daisycon – Non-Email (14 dagen cookietijd):\n\t\t\t_st.data.resetMarkers('Deduplication'); \n\t\t\t_st.data.setMarker('Deduplication','Daisycon', +new Date() + (1000 * 60 * 60 * 24 * 14));\n\t\t} else if (ecmp === 'c-aff-63-20248') {\n\t\t\t//Voor Zanox – Email (1 dag cookietijd):\n\t\t\t_st.data.resetMarkers('Deduplication'); \n\t\t\t_st.data.setMarker('Deduplication','Zanox', +new Date() + (1000 * 60 * 60 * 24));\n\t\t} else if (ecmp === 'c-aff-62-20249') {\n\t\t\t//Voor Zanox – Non-Email (14 dagen cookietijd):\n\t\t\t_st.data.resetMarkers('Deduplication'); \n\t\t\t_st.data.setMarker('Deduplication','Zanox', +new Date() + (1000 * 60 * 60 * 24 * 14));\n\t\t}\n\t}\n})();","group":4},{"markerCondition":"[]","loadDefault":false,"groupReverse":false,"selector":"head","id":112,"version":6,"content":"\t\n//Adobe script voor livegang\n\n_st.inject.script('//www.ziggo.nl/etc/designs/ziggo-nl/js/statistics/SiteCatalyst.js');\n","group":2},{"markerCondition":"[]","loadDefault":false,"groupReverse":false,"selector":"head","id":882,"version":93,"content":"\nif(!window.lightningjs) {(function(c) {\n    function g(b, d) {\n        if (d) {\n            (d += (/\\?/.test(d) ? \"&\" : \"?\") + \"lv=1\");\n        }\n        if(!c[b]) { (function() {\n            var i = window,\n                h = document,\n                j = b,\n                g = h.location.protocol,\n                l = \"load\",\n                k = 0;\n            (function() {\n                function b() {\n                    a.P(l);\n                    a.w = 1;\n                    c[j](\"_load\");\n                }\n                c[j] = function() {\n                    function m() {\n                        m.id = e;\n                        return c[j].apply(m, arguments);\n                    }\n                    var b, e = ++k;\n                    b = this && this != i ? this.id || 0 : 0;\n                    (a.s = a.s || []).push([e, b, arguments]);\n                    m.then = function(b, c, h) {\n                        var d = a.fh[e] = a.fh[e] || [],\n                            j = a.eh[e] = a.eh[e] || [],\n                            f = a.ph[e] = a.ph[e] || [];\n                        if (b) {\n                            d.push(b);\n                        }\n                        if (c) {\n                            j.push(c);\n                        }\n                        if (h) {\n                            f.push(h);\n                        }\n                        return m;\n                    };\n                    return m;\n                };\n                var a = c[j]._ = {};\n                a.fh = {};\n                a.eh = {};\n                a.ph = {};\n                a.l = d ? d.replace(/^\\/\\//, (g == \"https:\" ? g : \"http:\") + \"//\") : d;\n                a.p = {\n                    0: +new Date()\n                };\n                a.P = function(b) {\n                    a.p[b] = new Date() - a.p[0];\n                };\n                if (a.w) {\n                    b();\n                }\n                if (i.addEventListener) {\n                    i.addEventListener(l, b, !1);\n                } else {\n                    i.attachEvent(\"on\" + l, b);\n                }\n                var q = function() {\n                    function b() {\n                        return [\"<head></head><\", c, ' onload=\"var d=', n, \";d.getElementsByTagName('head')[0].\", d, \"(d.\", g, \"('script')).\", i, \"='\", a.l, \"'\\\"></\", c, \">\"].join(\"\");\n                    }\n                    var c = \"body\",\n                        e = h[c];\n                    if (!e) return setTimeout(q, 100);\n                    a.P(1);\n                    var d = \"appendChild\",\n                        g = \"createElement\",\n                        i = \"src\",\n                        k = h[g](\"div\"),\n                        l = k[d](h[g](\"div\")),\n                        f = h[g](\"iframe\"),\n                        n = \"document\",\n                        p;\n                    k.style.display = \"none\";\n                    e.insertBefore(k, e.firstChild).id = o + \"-\" + j;\n                    f.frameBorder = \"0\";\n                    f.id = o + \"-frame-\" + j;\n                    if (/MSIE[ ]+6/.test(navigator.userAgent)) {\n                        (f[i] = \"javascript:false\");\n                    }\n                    f.allowTransparency = \"true\";\n                    l[d](f);\n                    try {\n                        f.contentWindow[n].open();\n                    } catch (s) {\n                        a.domain = h.domain;\n                        p = \"javascript:var d=\" + n + \".open();d.domain='\" + h.domain + \"';\";\n                        f[i] = p + \"void(0);\";\n                    }\n                    try {\n                        var r = f.contentWindow[n];\n                        r.write(b());\n                        r.close();\n                    } catch (t) {\n                        f[i] = p + 'd.write(\"' + b().replace(/\"/g, String.fromCharCode(92) + '\"') + '\");d.close();';\n                    }\n                    a.P(2);\n                };\n                if (a.l) {\n                    setTimeout(q, 0);\n                }\n            })();\n        })(); \n\t\t}\n        c[b].lv = \"1\";\n        return c[b];\n    }\n    var o = \"lightningjs\",\n        k = window[o] = g(o);\n    k.require = g;\n    k.modules = c;\n})({});}\n\nif(!navigator.userAgent.match(/Android|BlackBerry|BB10|iPhone|iPad|iPod|Opera Mini|IEMobile/i)) {\n\twindow.usabilla_live = lightningjs.require('usabilla_live','//w.usabilla.com/'+'443b0d2751a2'+'.js');\n\twindow.usabilla_pagefeedback = lightningjs.require('usabilla_feedback','//w.usabilla.com/'+'c5f0354fa2e8'+'.js');\n} else {\n\twindow.usabilla_live = lightningjs.require('usabilla_live','//w.usabilla.com/'+'98b579c64816'+'.js'); \n\twindow.usabilla_pagefeedback = lightningjs.require('usabilla_feedback','//w.usabilla.com/'+'c5f0354fa2e8'+'.js'); \n}\n\n// publish relay42 event when usabilla_live script is available\nlightningjs.require(['usabilla_live'], (function(){ _st('publishEvent','usabilla','usabilla_live script loaded'); })());\n\nwindow.usabilla_live('setEventCallback', function(category, action, label, value) {\n\tusabilla_live.eventdata = {\n\t\tcategory: category,\n\t\taction: action,\n\t\tlabel: label,\n\t\tvalue: value\n\t};\n\t// console.log('>>>> A: usabilla_live set event callback: eventdata = '+ _st.util.encodeJson(usabilla_live.eventdata));\n\n\tif (action.indexOf('Campaign:Open') > -1) {\n\t\t_st.event.publish('usabilla','campaign',usabilla_live.eventdata);\n\t\t//return;\n    }\n\n\tif (action.indexOf('Feedback:Success') > -1) {\n\t\t_st('publishEvent','usabilla','feedback',usabilla_live.eventdata);\n\t\treturn;\n    }\n\n\twindow.addEventListener('message', function(event) {\n\t\t// Listen to messages from the Usabilla Cloudfront domain\n        if (!/d6tizftlrpuof\\.cloudfront\\.net/.test(event.origin)) return;\n\n\t\t// console.log('>>>> B1: usabilla_live eventListener:\\r\\nevent.data-object: '+event.data);\n\t\t// add event-data from listener\n\t\tusabilla_live.eventdata.data = _st.util.decodeJson(event.data);\n\t\t// console.log('>>>> B2: usabilla_live eventListener:\\r\\neventdata-object = ',_st.util.encodeJson(usabilla_live.eventdata),usabilla_live.eventdata);\n\n\t\tvar data = _st.util.decodeJson(event.data);\n\t\tif (data.type === \"pageSwitch\" && data.end && data.end) {\n\t\t\tvar d = data.data;\n\t\t\tfor(var i in d){\n\t\t\t\tif(d.hasOwnProperty(i)){\n\t\t\t\t\tif(d[i].constructor === Array){\n\t\t\t\t\t\td[i] = d[i].join(',');\n\t\t\t\t\t} else if (d[i].constructor === Object){\n\t\t\t\t\t\td[i] = _st.util.encodeJson(d[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tusabilla_live.eventdata.result = d;\n\t\t\t// console.log('>>>> C: usabilla_live eventListener: \\r\\ndata-object'+ _st.util.encodeJson(usabilla_live.eventdata));\n\t\t\t_st.event.publish('usabilla','campaign',usabilla_live.eventdata);\n        }\n    });\n\t\n\t// set cookie, to prevent Usabilla showing another campaign (survey)\n\tif(action.indexOf('Campaign:Success') > -1) {\n\t\t_st.util.setCookie('campaign_complete','1','ziggo.nl');\n\t}\n\n});\n\n\nwindow.usabilla_pagefeedback('setEventCallback', function(category, action, label, value) {\n\tusabilla_pagefeedback.eventdata = {\n\t\tcategory: category,\n\t\taction: action,\n\t\tlabel: label,\n\t\tvalue: value\n\t};\n\t// console.log('>>>> B3: usabilla_pagefeedback eventListener:\\r\\neventdata-object = ',_st.util.encodeJson(usabilla_pagefeedback.eventdata),usabilla_pagefeedback.eventdata);\n\n\t_st('publishEvent','usabilla','pagefeedback',eventdata);\n\n\twindow.addEventListener('message', function(event) {\n        if (!/d6tizftlrpuof\\.cloudfront\\.net/.test(event.origin)) return;\n\n\t\tvar data = _st.util.decodeJson(event.data);\n\t\t_st.debug.log('>> usabilla_pagefeedback eventListener: event-object'+ _st.util.encodeJson(event));\n\n\t\tif (data.type === \"pageSwitch\" && data.end && data.end) {\n\t\t\tvar d = data.data;\n\t\t\tfor(var i in d){\n\t\t\t\tif(d.hasOwnProperty(i)){\n\t\t\t\t\tif(d[i].constructor === Array){\n\t\t\t\t\t\td[i] = d[i].join(',');\n\t\t\t\t\t} else if (d[i].constructor === Object){\n\t\t\t\t\t\td[i] = _st.util.encodeJson(d[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t_st.event.publish('usabilla','pagefeedback',d);\n        }\n    });\n\n});\n","group":3},{"markerCondition":"[]","loadDefault":false,"groupReverse":false,"selector":"head","id":965,"version":5,"content":"if(!window.lightningjs) {(function(c) {\n    function g(b, d) {\n        if (d) {\n            (d += (/\\?/.test(d) ? \"&\" : \"?\") + \"lv=1\");\n        }\n        if(!c[b]) { (function() {\n            var i = window,\n                h = document,\n                j = b,\n                g = h.location.protocol,\n                l = \"load\",\n                k = 0;\n            (function() {\n                function b() {\n                    a.P(l);\n                    a.w = 1;\n                    c[j](\"_load\");\n                }\n                c[j] = function() {\n                    function m() {\n                        m.id = e;\n                        return c[j].apply(m, arguments);\n                    }\n                    var b, e = ++k;\n                    b = this && this != i ? this.id || 0 : 0;\n                    (a.s = a.s || []).push([e, b, arguments]);\n                    m.then = function(b, c, h) {\n                        var d = a.fh[e] = a.fh[e] || [],\n                            j = a.eh[e] = a.eh[e] || [],\n                            f = a.ph[e] = a.ph[e] || [];\n                        if (b) {\n                            d.push(b);\n                        }\n                        if (c) {\n                            j.push(c);\n                        }\n                        if (h) {\n                            f.push(h);\n                        }\n                        return m;\n                    };\n                    return m;\n                };\n                var a = c[j]._ = {};\n                a.fh = {};\n                a.eh = {};\n                a.ph = {};\n                a.l = d ? d.replace(/^\\/\\//, (g == \"https:\" ? g : \"http:\") + \"//\") : d;\n                a.p = {\n                    0: +new Date()\n                };\n                a.P = function(b) {\n                    a.p[b] = new Date() - a.p[0];\n                };\n                if (a.w) {\n                    b();\n                }\n                if (i.addEventListener) {\n                    i.addEventListener(l, b, !1);\n                } else {\n                    i.attachEvent(\"on\" + l, b);\n                }\n                var q = function() {\n                    function b() {\n                        return [\"<head></head><\", c, ' onload=\"var d=', n, \";d.getElementsByTagName('head')[0].\", d, \"(d.\", g, \"('script')).\", i, \"='\", a.l, \"'\\\"></\", c, \">\"].join(\"\");\n                    }\n                    var c = \"body\",\n                        e = h[c];\n                    if (!e) return setTimeout(q, 100);\n                    a.P(1);\n                    var d = \"appendChild\",\n                        g = \"createElement\",\n                        i = \"src\",\n                        k = h[g](\"div\"),\n                        l = k[d](h[g](\"div\")),\n                        f = h[g](\"iframe\"),\n                        n = \"document\",\n                        p;\n                    k.style.display = \"none\";\n                    e.insertBefore(k, e.firstChild).id = o + \"-\" + j;\n                    f.frameBorder = \"0\";\n                    f.id = o + \"-frame-\" + j;\n                    if (/MSIE[ ]+6/.test(navigator.userAgent)) {\n                        (f[i] = \"javascript:false\");\n                    }\n                    f.allowTransparency = \"true\";\n                    l[d](f);\n                    try {\n                        f.contentWindow[n].open();\n                    } catch (s) {\n                        a.domain = h.domain;\n                        p = \"javascript:var d=\" + n + \".open();d.domain='\" + h.domain + \"';\";\n                        f[i] = p + \"void(0);\";\n                    }\n                    try {\n                        var r = f.contentWindow[n];\n                        r.write(b());\n                        r.close();\n                    } catch (t) {\n                        f[i] = p + 'd.write(\"' + b().replace(/\"/g, String.fromCharCode(92) + '\"') + '\");d.close();';\n                    }\n                    a.P(2);\n                };\n                if (a.l) {\n                    setTimeout(q, 0);\n                }\n            })();\n        })(); \n\t\t}\n        c[b].lv = \"1\";\n        return c[b];\n    }\n    var o = \"lightningjs\",\n        k = window[o] = g(o);\n    k.require = g;\n    k.modules = c;\n})({});}\n\nif(!navigator.userAgent.match(/Android|BlackBerry|BB10|iPhone|iPad|iPod|Opera Mini|IEMobile/i)) {\n\twindow.usabilla_live = lightningjs.require('usabilla_feedback','//w.usabilla.com/'+'c5f0354fa2e8.js');\n} else {\n\twindow.usabilla_live = lightningjs.require('usabilla_feedback','//w.usabilla.com/'+'c5f0354fa2e8.js'); \n}\n\nwindow.usabilla_live('setEventCallback', function(category, action, label, value) {\n\tvar eventdata = {\n\t\tcategory: category,\n\t\taction: action,\n\t\tlabel: label,\n\t\tvalue: value\n\t};\n\n\t// debug purpose\n\tvar eventobject = _st.util.encodeJson(eventdata);\n\tconsole.log('usabilla_live event callback:' + eventobject);\n\n\twindow.addEventListener(\"message\", function(event) {\n\n\t\t// Listen to messages from the Usabilla Cloudfront domain\n\t\tif (!/d6tizftlrpuof\\.cloudfront\\.net/.test(event.origin)) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar data = _st.util.decodeJson(event.data);\n\t\tvar d = data.data;\n\t\tfor(var i in d){\n\t\t\tif(d.hasOwnProperty(i)){\n\t\t\t\tif(d[i].constructor === Array){\n\t\t\t\t\td[i] = d[i].join(',');\n\t\t\t\t} else if (d[i].constructor === Object){\n\t\t\t\t\td[i] = _st.util.encodeJson(d[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t_st.event.publish('usabilla','pagefeedback',d);\n\t});\n});\n","group":1},{"execValue2":"","markerCondition":"[]","loadDefault":false,"groupReverse":false,"selector":"head","id":580,"execValue":"keysegment","version":3,"content":"// Facebook event measuring script, globally used\n(function(){\n\tvar initRequired = true;\n\n\t(function (f, b, e, v, n, t, s) {\n\t\tif (f.fbq) { \n\t\t\tinitRequired = false; \n\t\t\treturn;\n\t\t}\n\t\tn = f.fbq = function() {\n\t\t\tif(n.callMethod) { \n\t\t\t\tn.callMethod.apply(n, arguments);\n\t\t\t} else {\n\t\t\t\tn.queue.push(arguments);\n\t\t\t}\n\t\t};\n\t\tif (!f._fbq) f._fbq = n;\n\t\tn.push = n;\n\t\tn.loaded = !0;\n\t\tn.version = '2.0';\n\t\tn.queue = [];\n\t\tt = b.createElement(e);\n\t\tt.async = !0;\n\t\tt.src = v;\n\t\ts = b.getElementsByTagName(e)[0];\n\t\ts.parentNode.insertBefore(t, s);\n\t})\n\t(window,document,'script','//connect.facebook.net/en_US/fbevents.js');\n\n\tif(initRequired){\n\t\tfbq('init', '210169842688783');\t\t//initialize facebook pixel for SR\n\t\tfbq('init', '974364519294469');\t\t//initialize facebook pixel for OMD\n\t\tfbq('init', '1204176873036605'); \t//initialize vf pixel for VF\n\t}\n\n\t// general json-object to hold the data\n\twindow.r42 = window.r42 || {} ;\n\tr42['thirdparty'] = r42.thirdparty || {} ;\n\tr42.thirdparty['fb_accountids'] = '210169842688783 (SR) | 974364519294469 (OMD)';\n\n\t// set datalayer properties\n\tr42setProperty('thirdparty','fb_accountids',r42.thirdparty.fb_accountids);\n\n\t// publish the event\n\t_st('publishEvent','r42/engagement/3rdparty','facebook_initialized',r42.thirdparty);\n})();","exec":"event","group":4},{"markerCondition":"[]","loadDefault":false,"groupReverse":false,"selector":"head","id":39,"version":12,"content":"(function(){\n\t\n\tvar r42Cookie = _st.tracking.getUserIdentifier();\n\t\n\tif(_st.tracking._partnerNeedsSync(0)) {\n\t\t\n\t\tvar partnerId = (\"https:\"===document.location.protocol ? \"synovite-secure\" : \"synovite\");\n\t\tvar syncUrl =\"//a.svtrd.com/sync?partnerId=\" + partnerId + \"&ca_site=\" + _st.settings.siteId + \"&ca_partner=0&ca_cookie=\"+r42Cookie + \"&ca_read=sv_cookie&ca_merge=1\" + \"&cb=\" + new Date().getTime();\n\t\t\n\t\t_st.inject.pixel(syncUrl);\n\t\t_st.counter.call(1);\n\t\t_st.tracking._updatePartnerSyncTime(0);\n\t}\n})();","group":2},{"markerCondition":"[]","loadDefault":false,"groupReverse":false,"r42.conditions":{"condition":{"nodes":[{"nodes":[{"selectionName":"1085_119","nodeType":"CONCRETE"}],"nodeType":"AND"}],"nodeType":"AND"},"cacheSeconds":0},"selector":"head","id":329,"version":11,"content":"_st.inject.pixel('//mm.markandmini.com/Pixel/vhshcvwq7f');","group":3},{"markerCondition":"[]","loadDefault":false,"groupReverse":false,"r42.conditions":{"condition":{"nodes":[{"nodes":[{"selectionName":"1085_183","nodeType":"CONCRETE"}],"nodeType":"AND"}],"nodeType":"AND"},"cacheSeconds":0},"selector":"head","id":330,"version":14,"content":"_st.inject.pixel('//mm.markandmini.com/Pixel/sd21wjjm8m');","group":3},{"markerCondition":"[]","loadDefault":false,"groupReverse":false,"selector":"head","id":573,"version":19,"content":"(function() {\n\tvar data = {};\n\t\n\tdata.fullUrl = window.location.href;\n\tif(typeof document.referrer !== 'undefined') {\n\t\tdata.page_referrer = document.referrer;\n\t}\n\tif(r42getProperty('page.name') !== '') {\n\t\tdata.page_name = r42getProperty('page.name');\n\t}\n\tif(r42getProperty('page.type') !== '') {\n\t\tdata.page_type = r42getProperty('page.type');\n\t}\n\tif(r42getProperty('page.searchText') !== '') {\n\t\tdata.page_searchText = r42getProperty('page.searchText');\n\t}\n\tif(r42getProperty('page.step') !== '') {\n\t\tdata.page_step = r42getProperty('page.step');\n\t}\n\tif(r42getProperty('user.loginStatus') !== '') {\n\t\tdata.user_loginStatus = r42getProperty('user.loginStatus');\n\t}\n\tif(r42getProperty('user.keysegment') !== '') {\n\t\tdata.user_keysegment = r42getProperty('user.keysegment');\n\t}\n\tif(r42getProperty('user.migration_status') !== '') {\n\t\tdata.user_migration_status = r42getProperty('user.migration_status');\n\t}\n\tif(r42getProperty('dmp.geo_segment_descr') !== '') {\n\t\tdata.user_geo_segment_descr = r42getProperty('dmp.geo_segment_descr');\n\t}\n\tif(r42getProperty('user.footprint_isp') !== '') {\n\t\tdata.user_footprint_isp = r42getProperty('user.footprint_isp');\n\t}\n\tif(r42getProperty('session.isp') !== '') {\n\t\tdata.session_isp = r42getProperty('session.isp');\n\t}\n\tif(r42getProperty('session.provider') !== '') {\n\t\tdata.session_provider = r42getProperty('session.provider');\n\t}\n\tif(r42getProperty('session.providerCategory') !== '') {\n\t\tdata.session_providerCategory = r42getProperty('session.providerCategory');\n\t}\n\tif(r42getProperty('session.providerMarket') !== '') {\n\t\tdata.session_providerMarket = r42getProperty('session.providerMarket');\n\t}\n\tif(r42getProperty('session.connection') !== '') {\n\t\tdata.session_connection = r42getProperty('session.connection');\n\t}\n\tif(r42getProperty('marketing.campaign') !== '') {\n\t\tdata.marketing_campaign = r42getProperty('marketing.campaign');\n\t}\n\tif(r42getProperty('marketing.CMP') !== '') {\n\t\tdata.marketing_CMP = r42getProperty('marketing.CMP');\n\t}\n\tif(r42getProperty('promotion.id') !== '') {\n\t\tdata.promotion_id = r42getProperty('promotion.id');\n\t}\n\tif(r42getProperty('products') !== '') {\n\t\tdata.products = JSON.stringify(r42getProperty('products'));\n\t}\n\tif(r42getProperty('transaction.type') !== '') {\n\t\tdata.transaction_type = r42getProperty('transaction.type');\n\t}\n\tif(r42getProperty('transaction.id') !== '') {\n\t\tdata.transaction_id = r42getProperty('transaction.id');\n\t}\n\tif(r42getProperty('transaction.revenue') !== '') {\n\t\tdata.transaction_revenue = r42getProperty('transaction.revenue');\n\t}\n\t\n\tvar patt = /zt=/i;\n\tif(window.location.search.match(patt)){\n\t\tvar paramsraw = window.location.search.substr(1).split(\"&\");\n\t\tvar params = {};\n\t\tfor (var i=0; i < paramsraw.length; i++){\n\t\t\tparams[paramsraw[i].split(\"=\")[0]] = paramsraw[i].split(\"=\")[1];\n\t\t}\n\t\tdata.forcedtargeting = params.zt;\n\t}\n\n\t_st.tracking.sendEngagement('pageView',data);\n})();\n        ","exec":"onload","group":3},{"execValue2":"facebook_initialized","markerCondition":"[]","loadDefault":false,"groupReverse":false,"selector":"head","id":571,"execValue":"r42/engagement/3rdparty","version":60,"content":"//(function(){\n\t$( document ).ready(function() {\n\t\t// variable r42.thirdparty holds the general data\n\t\tvar r42 = window.r42 || {};\n\t\tr42['thirdparty'] = r42.thirdparty || { 'thirdparty': {} };\n\t\tif(r42data.layer.segments){r42.thirdparty['user_customer'] = r42data.layer.segments.customer;}\n\t\tif(r42data.layer.segments){r42.thirdparty['user_customertype'] = r42data.layer.segments.customertype;}\n\t\tr42.thirdparty['user_keysegment'] = r42getProperty('user.keysegment');\n\t\tr42.thirdparty['k'] = r42getProperty('segments.legacy'); // temporary, replaced by user_keysegment\n\t\tr42.thirdparty['page_type'] = r42getProperty('page.type');\n\n\t\t// check DMP for mobileProspect selection\n\t\tif(!_st.util.getCookie(\"_svsegment_mp\")) {\n\t\t\twindow._st.inject.script(\"//a.svtrd.com/s/1085/p/64\", {callback:function(){\n\t\t\t\t// DMP campaign sets cookie and property user.mobileProspect = yes or no\n\t\t\t\tr42.thirdparty['user_mobileProspect'] = r42getProperty('user.mobileProspect');\n\t\t\t}});\n\t\t} else {\n\t\t\t// grab stored segment from cookie\n\t\t\tr42.thirdparty['user_mobileProspect'] = _st.util.getCookie(\"_svsegment_mp\");\n\t\t\tr42setProperty('user','mobileProspect', r42.thirdparty.user_mobileProspect);\n\t\t}\n\n\t\t// DMP value for marketing-segment\n\t\tif(r42getProperty('dmp.geo_segment_descr') !== '') {\n\t\t\tr42.thirdparty['dmp_vodwsegment'] = r42getProperty('dmp.geo_segment_descr');\n\t\t}\n\n\t\t// check DOM for availability of cart-item in case of product detail page\n\t\tif(typeof cartRemarketVars !== 'undefined' && typeof cartRemarketVars.remarketID !== 'undefined') {\n\t\t\tr42.thirdparty['content_ids'] = cartRemarketVars.remarketID;\n\t\t}\n\t\tif(typeof cartRemarketVars !== 'undefined' && typeof cartRemarketVars.remarketPrice !== 'undefined') {\n\t\t\tr42.thirdparty['value'] = cartRemarketVars.remarketPrice;\n\t\t}\n\n\t\t// check datalayer for session provider and category\n\t\tif(r42getProperty('session.provider') !== '') {\n\t\t\tr42.thirdparty['session_provider'] = r42getProperty('session.provider');\n\t\t}\n\t\tif(r42getProperty('session.providerCat') !== '') {\n\t\t\tr42.thirdparty['session_providerCat'] = r42getProperty('session.providerCat');\n\t\t}\n\n\n\t\t//check which ab group someone is in\n\t\tr42.thirdparty['ab_group'] = _st.util.getCookie(\"_ztab\");\n\n\t\t// track 'F1' campaign on ad-ids\n\t\tvar qs = document.location.search;\n\t\tvar rex = new RegExp('.*:1335770(49|5(0-9)|60):.*');\n\t\tif(typeof qs !== 'undefined' && rex.test(qs) === true) {\n\t\t\tr42.thirdparty['c'] = 'F1';\n\t\t}\n\n\t\t// set datalayer properties\n\t\t_st.data.setProperty('thirdparty',r42.thirdparty);\n\n\n\t\t//add selections data from target part of datalayer\n\t\tif(r42data.layer.target){\n\t\t\tvar data_targeting = r42data.layer.target;\n\t\t\tfor(var key in data_targeting){\n\t\t\t\tr42.thirdparty[key] = data_targeting[key];\n\t\t\t}\n\t\t}\n\n\t\t// TRACK THE PAGEVIEW TO FB\n\t\tfbq('track', 'PageView', r42.thirdparty);\n\n\n\t\t//Send the same data to adwords SR\n\t\t_st.inject.script(\"//www.googleadservices.com/pagead/conversion_async.js\", { callback: function() {\n\t\t\twindow.google_trackConversion({\n\t\t\t\tgoogle_conversion_id: 1042468051,\n\t\t\t\tgoogle_custom_params: r42.thirdparty,\n\t\t\t\tgoogle_remarketing_only: true\n\t\t\t});\n\t\t}});   \n\t});\n//})();","exec":"event","group":4},{"execValue2":"facebook_initialized","markerCondition":"[]","loadDefault":false,"groupReverse":false,"selector":"head","id":927,"execValue":"r42/engagement/3rdparty","version":60,"content":"(function() {\n\t//array with all the B2C selections that need to be shared with facebook in combination with the cd name\n\t//!!!don't use dashed '-', these cannot be processed by Adwords:(\n\t\n\t//[0] = relay audience id\n\t//[1] = fb/adwords name\n\t//[2] = adwords pixel bluemango\n\t//[3] = appnexus pixel bluemango\n\t_st.inject.script(\"//www.googleadservices.com/pagead/conversion_async.js\");\n\tvar main_segments_b2c = [\n\t\t['222','ob_interest_voetbal'],\n\t\t['284','ob_interest_formule1'],\n\t\t['345','closingdeal'],\n\t\t['372','closingdeal_variant'],\n\t\t['350','voordeelpakket'], //new_ziggo_voordeelpakket\n\t\t['636','crm_ziggogo'],\n\t\t['475','crm_addons_sport1'],\n\t\t['546','ob_interest_msxl'],\n\t\t['560','crm_dtv_nomsxl'],\n\t\t['507','crm_mobileprospect'],\n\t\t['568','crm_addons_msxl'],\n\t\t['575','crm_wifi-fupc-oranje'],\n\t\t['576','crm_wifi-fupc-rood'],\n\t\t['593','crm_wifi-fziggo-oranje'],\n\t\t['592','crm_wifi-fziggo-rood'],\n\t\t['594','crm_201703-churn'],\n\t\t['181','isp_online_dsl_b2c'],\n\t\t['156','isp_kpn_dsl_b2c'],\n\t\t['661','crm_benefit_mail_vf'],\n\t\t['662','crm_benefit_mail_z_b2c'],\n\t\t['663','crm_benefit_mail_z_b2b'],\n\t\t['667','crm_benefit_mail_complete'],\n\t\t['668','crm_benefit_batch1'],\n\t\t['669','crm_benefit_batch2'],\n\t\t['670','crm_benefit_batch3'],\n\t\t['671','crm_benefit_batch4'],\n\t\t['692','crm_benefit_batch5'],\n\t\t['693','crm_benefit_batch6'],\n\t\t['694','crm_benefit_batch7'],\n\t\t['695','crm_benefit_batch8'],\n\t\t['696','crm_benefit_batch9'],\n\t\t['697','crm_benefit_batch10'],\n\t\t['675','cmr_cross_overlapping_eligible_both_sides','nxUACIGTunAQ95_1_QM','8354314'],\n\t\t['681','cmr_cross_overlapping_vfEligible_only','3dNVCNOys3AQ95_1_QM','8354323'],\n\t\t['682','cmr_cross_overlapping_ziggoEligible_only','8lpbCKaXunAQ95_1_QM', '8354328'],\n\t\t['679','cmr_cross_vfOnlyCust_nonEligible','wB7fCOW4s3AQ95_1_QM','8354336'],\n\t\t['680','cmr_cross_vfOnlyCust_vfEligible','E4cfCMufoXAQ95_1_QM','8354340'],\n\t\t['678','cmr_cross_ziggoOnlyCust_nonEligible','I_RMCK-hoXAQ95_1_QM','8354352'],\n\t\t['683','cmr_cross_ziggoOnlyCust_ziggoEligible','0u8mCMqhoXAQ95_1_QM', '8354353'],\n\t\t['691','ob_vfcust']\n\t];\n\t\n\t//array with all the B2B selections that need to be shared with facebook in combination with the cd name\n\tvar main_segments_b2b = [\n\t\t['555','b2b_ob_algemeen_content'],\n\t\t['554','b2b_ob_soho_content'],\n\t\t['553','b2b_ob_mkb_content'],\n\t\t['527','b2b_ob_grootzakelijk_prospects'],\n\t\t['528','b2b_ob_mkb_prospects'],\n\t\t['529','b2b_ob_soho_prospects'],\n\t\t['472','b2b_crm_soho_cust'],\n\t\t['573','b2b_ob_zakelijkeprospect_noncust']\n\t];\n\t\n\t//array with both b2c and b2b segments array\n\tvar all_segments = [main_segments_b2b,main_segments_b2c];\n\n\tvar selection = '';\n\tfor(var i=0; i<all_segments.length; i++){\n\t\tfor(var i2=0;i2<all_segments[i].length;i2++){\n\t\t\tselection += ',1085_'+all_segments[i][i2][0];\n\t\t}\n\t}\n\tselection = selection.substr(1);\n\t_st.inject.script('https://tdn.r42tag.com/data/segment/1085/' + _st.tracking.getUserIdentifier() + '/' + selection, { \n\t   callback: function() { \n\t\t\ttrigger_pixels();\n\t   } \n\t});\n\t\n\tfunction trigger_pixels(){\n\t\tvar data={};\n\t\tvar segments_string ='';\n\t\t//fill the data object with the relevant audiences\n\t\tfor(var i2=0; i2 < all_segments.length; i2++){\n\t\t\tfor(var i3=0; i3 < all_segments[i2].length; i3++){\n\t\t\t\tvar row = all_segments[i2][i3];\n\t\t\t\tvar segment = _st.segmenting.data['1085_'+row[0]];\n\t\t\t\tvar key = all_segments[i2][i3][1];\n\t\t\t\tvar key_bmadwords = all_segments[i2][i3][2];\n\t\t\t\tvar key_bmappnexus = all_segments[i2][i3][3];\n\t\t\t\tvar value;\n\t\t\t\tif(segment && segment !== false){\n\t\t\t\t\tdata[key] = 'true';\n\t\t\t\t\tsegments_string += ';'+key;\n\t\t\t\t\t//send data to blue mango adwords if relevent\n\t\t\t\t\t//still need to remove the call for the conversion_async.js and place it as an init script\n\t\t\t\t\tif(key_bmadwords){\n\t\t\t\t\t\twindow.google_trackConversion({\n\t\t\t\t\t\t\tgoogle_conversion_id: 1069371383,\n\t\t\t\t\t\t\tgoogle_conversion_label:key_bmadwords,\n\t\t\t\t\t\t\t//google_custom_params: data,\n\t\t\t\t\t\t\tgoogle_remarketing_only: true\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\t//send data to blue mango appnexus if relevent\n\t\t\t\t\t//still need to check with blue mango if we can add multiple segments at once\n\t\t\t\t\tif(key_bmappnexus){\n\t\t\t\t\t\t_st.inject.pixel(\"https://secure.adnxs.com/seg?add=\" + key_bmappnexus + \"&t=2\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t}\n\t\t//if at least one segment is added send data to FB, Adwords and Google\n\t\tif(segments_string.length >= 2){\n\t\t\t//send to facebook\n\t\t\tfbq('trackCustom', 'R42_audiences', data);\n\n\t\t\t//send to adwords\n\t\t\t_st.inject.script(\"//www.googleadservices.com/pagead/conversion_async.js\", { callback: function() {\n\t\t\t\twindow.google_trackConversion({\n\t\t\t\t\tgoogle_conversion_id: 1042468051,\n\t\t\t\t\tgoogle_custom_params: data,\n\t\t\t\t\tgoogle_remarketing_only: true\n\t\t\t\t});\n\t\t\t}});\n\t\t\t\n\t\t\t//send to GA\n\t\t\tga('send', 'event', 'Targeting', 'Audiences',segments_string.substring(1), { 'nonInteraction': 1 });\n\t\t}\n\t}\n})();\n        ","exec":"event","group":4},{"markerCondition":"[]","loadDefault":false,"groupReverse":false,"selector":"head","id":417,"version":6,"content":"var _prum = [['id', '535fad8aabe53db51ec7625e'],\n             ['mark', 'firstbyte', (new Date()).getTime()]];\n(function() {\n    var s = document.getElementsByTagName('script')[0],\n\t\tp = document.createElement('script');\n    p.async = 'async';\n    p.src = '//rum-static.pingdom.net/prum.min.js';\n    s.parentNode.insertBefore(p, s);\n})();","group":2},{"markerCondition":"[]","loadDefault":false,"groupReverse":false,"selector":"head","id":622,"version":42,"content":"if(r42getProperty('page.name').indexOf('/step1') > -1) {\n\twindow.ClicktalePIISelector = '#authenticatedWelcomeText, #street, #zipCode, #city, .inputNonEditablePrefill, #complexName_wrapper, #authenticatedWelcomeText, #initials_wrapper, #lastNamePrefix_wrapper, #lastName_wrapper';\n}\nif(r42getProperty('page.name').indexOf('/step3') > -1) {\n\twindow.ClicktalePIISelector = '.summaryDivRightLabel';\n}\n\nif(r42getProperty('page.name').indexOf('My UPC/Welkom') > -1) {\n\twindow.ClicktalePIISelector = '#welcomecontainer #col3';\n}\n\nif(r42getProperty('page.name').indexOf('/mijn-ziggo') === -1) {\n\t//Add this to \"OnDomLoad\" event<!-- ClickTale Bottom part -->\n\t(function(win,doc){\n\t\tvar scriptElement, scrSrc;\n\t\tif (typeof (win.ClickTaleCreateDOMElement) != \"function\") {\n\t\t\twin.ClickTaleCreateDOMElement = function(tagName) {\n\t\t\t\tif (doc.createElementNS) {\n\t\t\t\t\treturn doc.createElementNS('http://www.w3.org/1999/xhtml', tagName);\n\t\t\t\t}\n\t\t\t\treturn doc.createElement(tagName);\n\t\t\t};\n\t\t}\n\t\twin.WRInitTime=(new Date()).getTime();\n\t\tscriptElement = ClickTaleCreateDOMElement('script');\n\t\tscriptElement.type = \"text/javascript\";\n\t\tscrSrc = doc.location.protocol=='https:'? 'https://cdnssl.clicktale.net/':\t'http://cdn.clicktale.net/';\n\t\tscrSrc += 'www26/ptc/0e950298-3897-4b61-be07-f6ccb33fd145.js';\n\t\tscriptElement.src = scrSrc;\n\t\tdoc.getElementsByTagName('body')[0].appendChild(scriptElement);\n\t})(window,document);\n}\n","exec":"onload","group":2},{"execValue2":"campaign","markerCondition":"[]","selector":"head","id":881,"execValue":"usabilla","version":14,"content":"(function(data) {\n\t'use strict';\n\n\tvar e = {},\n\t\tr = _st.util.encodeJson(data.data);\n\n\te.category = 'Usabilla Live';\n\te.action = 'Campaign:Results';\n\te.label = r ? r : 'not set';\n\n\t_st.debug.log('>> usabilla_live: event usabilla/continue executed', data);\n\t\n\t// trigger G360 event with custom dimension. The GA event triggering is done by Usabilla integration \n\tga('set', {dimension136: r});\n\t// ga('send','event',e.category,e.action,e.label);\n\n\t// trigger a R42 engagement\n\t_st.tracking.sendEngagement('UsabillaCampaignResponse', r);\n\n\t// trigger custom adobe event from here\n\tvar temp_ltv = s.linkTrackVars;\n\tvar temp_lte = s.linkTrackEvents;\n\ts.linkTrackVars = 'eVar153,events';\n\ts.eVar153 = r;\n\ts.linkTrackEvents = \"event507\";\n\ts.events = \"event507\";            \n\ts.tl(this,'o','Usabilla_response');\n\ts.linkTrackVars = temp_ltv;\n\ts.linktrackEvents = temp_lte;\n\n})(data);","exec":"event"},{"execValue2":"feedback","markerCondition":"[]","selector":"head","id":883,"execValue":"usabilla","version":9,"content":"(function(data) {\n\t'use strict';\n\t\n\tvar e = {},\n\t\td = data;\n\n\tif(d.action === 'Feedback:Success') {\n\t\te.category = 'Usabilla Live';\n\t\te.action = d.action;\n\t\te.label = (d.value !== null) ? d.value+'|'+d.label : 'not set';\n\n\t\t// set G360 dimension. Probably too late: the GA event triggering is done by Usabilla integration\n\t\tga('set', {dimension136: e.label});\n\t\tga('send','event',e.category,e.action,e.label);\n\n\t\t// trigger a R42 engagement\n\t\t_st.tracking.sendEngagement('UsabillaFeedbackResponse',e);\n\t}\n\n})(this.data);","exec":"event"},{"execValue2":"pagefeedback","markerCondition":"[]","selector":"head","id":924,"execValue":"usabilla","version":4,"content":"(function(data) {\n\t'use strict';\n\n\tvar e = {},\n\t\tr = _st.util.encodeJson(data.data);\n\n\te.category = 'Usabilla Live';\n\te.action = 'PageFeedback:Results';\n\te.label = r ? r : 'not set';\n\n\t_st.debug.log('>> usabilla_live: event usabilla/pagefeedback executed', data);\n\t\n\t// trigger G360 event with custom dimension. The GA event triggering is done by Usabilla integration \n\tga('set', {dimension136: r});\n\tga('send','event',e.category,e.action,e.label);\n\n\t// trigger a R42 engagement\n\t_st.tracking.sendEngagement('UsabillaPageFeedbackResponse', r);\n\n\n})(data);","exec":"event"},{"markerCondition":"[]","loadDefault":false,"groupReverse":false,"selector":"head","id":947,"version":13,"content":"(function() {\n    // ibm marketing cloud integration ziggo.nl\n\tvar imc_uid,\n\t\tspUserID = (_st.util.getUrlParam('spUserID') !== '') ? _st.util.getUrlParam('spUserID') : undefined;\n\n\tvar imc_callback = function() {\n\n\t\tvar iMAWebCookie = _st.util.getCookie('com.silverpop.iMAWebCookie');\n\t\tif(!iMAWebCookie) window.ewt.init();\n\t\timc_id = iMAWebCookie ? iMAWebCookie : window.ewt ? window.ewt.getVisitorKey() : undefined;\n\t\tif(imc_id) r42data.set({user:{ibm_MCid:imc_id}});\n\n\t\tif(spUserID) {\n\t\t\tr42data.set({user:{ibm_spUserID:spUserID}});\n\t\t\tif(iMAWebCookie) window.ewt.init();\n\t\t\timc_uid = window.ewt.getContactID();\n\t\t\tif(imc_uid && imc_uid !== '' && imc_uid !== null) r42data.set({user:{ibm_MCuid:imc_uid}});\n\t\t}\n\n\t\t_st.debug.log('imc script triggered for user.ibmMCid='+imc_id+'. when possible user.ibmMCuid='+imc_uid);\n\t};\n\n\tif (document.location.host !== 'www.ziggo.nl' && document.location.host !== 'ontdek.ziggo.nl') { // the sandbox environment, for ziggo uat and test domains\n\t\t_st.inject.script('//www.sc.pages06.net/lp/static/js/iMAWebCookie.js?4b95d6c9-150af35fe4a-b5d29b9bce67ec3b933b061f799b2b14&h=www.pages06.net', { \n\t\t\tcallback:  function() {\n\t\t\t\timc_callback();\n\t\t\t}\n\t\t});\n\t} else { // aem production environment for www.ziggo.nl\n\t\t_st.inject.script('//www.sc.pages06.net/lp/static/js/iMAWebCookie.js?6678ea43-1508b7ef9ac-29238c14b213658164f6bb2ee4e49697&h=www.pages06.net', { \n\t\t\tcallback:  function() {\n\t\t\t\timc_callback();\n\t\t\t}\n\t\t});\n\t}\n})();","group":3},{"execValue2":"facebook_initialized","markerCondition":"[]","loadDefault":false,"groupReverse":false,"selector":"head","id":570,"execValue":"r42/engagement/3rdparty","version":42,"content":"(function() {\n\t// variable r42.thirdparty holds the general data\n\n\tvar r42 = window.r42 || {};\n\tr42['thirdparty'] = r42.thirdparty || { 'thirdparty': {} };\n\n\tvar productProps = {\n\t\t//b2c\n\t\tb2c_ai1_s: ['alles-in-1\\/start','45.95','b2c_bundleStart','product','b2c_ai1'],\n\t\tb2c_ai1_c: ['alles-in-1\\/complete','59.95','b2c_bundleComplete','product','b2c_ai1'],\n\t\tb2c_ai1_m: ['alles-in-1\\/max','77.95','b2c_bundleMax','product','b2c_ai1'],\n\t\tb2c_tv_s: ['televisie\\/play-start','24.95','b2c_tvStart','product','b2c_tv'],\n\t\tb2c_tv_c: ['televisie\\/play-complete','34.95','b2c_tvComplete','product','b2c_tv'],\n\t\tb2c_tv_k: ['televisie\\/kabel-tv','18.70','b2c_tvKabel','product','b2c_tv'],\n\t\tb2c_mob_v: ['mobiel\\/voldoende','9.00','b2c_mobileVoldoende','product','b2c_mobile_simonly'],\n\t\tb2c_mob_r: ['mobiel\\/ruim','15.00','b2c_mobileRuim','product','b2c_mobile_simonly'],\n\t\tb2c_mob_e: ['mobiel\\/enorm','25.00','b2c_mobileEnorm','product','b2c_mobile_simonly'],\n\t\tb2c_mob_f: ['mobiel\\/familie','45.00','b2c_mobileFamilie','product','b2c_mobile_simonly'],\n\t\tb2c_mob_simonly:['mobiel\\/sim-only',undefined, 'b2c_mobileSimonly','product_group','b2c_mobile_simonly'],\n\t\tb2c_mob_device:['mobiel\\/telefoon',undefined,'b2c_mobileDevice','product_group','b2c_mobile_device'],\n\t\tb2c_prem_msxl:['movies-series-xl','11.95','b2c_moviesSeriesXL','prod','b2c_premiums'],\n\t\t\n\t\t/*\n\t\t//b2b\n\t\tb2b_zzp_i_s: ['zakelijk-internet\\/connect-zzp\\/start','37.50','zzp_internetStart'],\n\t\tb2b_zzp_i_c: ['zakelijk-internet\\/connect-zzp\\/compleet','45.00','zzp_internetComplete'],\n\t\tb2b_zzp_i_p: ['zakelijk-internet\\/connect-zzp/pro','57.50','zzp_internetPro'],\n\t\tb2b_zzp_ai1_s: ['zakelijk\\/alles-in-1\\/connect-zzp\\/start','45.00','zzp_bundleStart'],\n\t\tb2b_zzp_ai1_c: ['zakelijk\\/alles-in-1\\/connect-zzp\\/compleet','52.50','zzp_bundleComplete'],\n\t\tb2b_zzp_ai1_p: ['zakelijk\\/alles-in-1\\/connect-zzp\\/pro','65.00','zzp_bundlePro'],\n\t\t//b2b_zzp_zss:['zakelijk\\/zelf-samenstellen-zzp',\n\t\tb2b_mkb_i_c: ['zakelijk-internet\\/connect-mkb\\/compleet','79.00','mkb_internetComplete'],\n\t\tb2b_mkb_i_pr: ['zakelijk-internet\\/connect-mkb\\/pro\\/','102,50','mkb_internetPro'],\n\t\tb2b_mkb_i_pp: ['zakelijk-internet\\/connect-mkb\\/pro-plus','119,00','mkb_internetProPlus'],\n\t\tb2b_mkb_ai1_c: ['zakelijk\\/alles-in-1\\/connect-mkb\\/compleet\\/','79,00','mkb_bundleComplete'],\n\t\tb2b_mkb_ai1_pr: ['zakelijk\\/alles-in-1\\/connect-mkb\\/pro\\/','102.50','mkb_bundlePro'],\n\t\tb2b_mkb_ai1_pp: ['zakelijk\\/alles-in-1\\/connect-mkb\\/pro-plus\\/','119.00','mkb_bundleProPlus'],\n\t\tb2b_mob_v: ['zakelijk\\/mobiel\\/voldoende/','10.00','b2b_mobileVoldoende'],\n\t\tb2b_mob_r: ['zakelijk\\/mobiel\\/ruim/','20.00','b2b_mobileRuim'],\n\t\tb2b_mob_e: ['zakelijk\\/mobiel\\/enorm/','30.00','b2b_mobileEnorm'],\n\t\tb2b_mob_s: ['zakelijk\\/mobiel\\/samen/','50.00','b2b_mobileSamen'],\n\t\t*/\n\t\t//b2b new\n\t\tb2b_product_allesin1:['zakelijk\\/alles-in-1','0','b2b_product_allesin1','product_group',undefined],\n\t\tb2b_product_internet:['zakelijk\\/internet','0','b2b_product_internet','product_group',undefined],\n\t\tb2b_product_mobiel:['zakelijk\\/mobiel','0','b2b_product_mobiel','product_group'],\n\t\tb2b_product_mkb_zelfsamenstellen:['zakelijk\\/zelf-samenstellen-mkb','0','b2b_product_mkb_zelfsamenstellen','product_group',undefined],\n\t\tb2b_product_zzp_zelfsamenstellen:['zakelijk\\/zelf-samenstellen-zzp','0','b2b_product_zzp_zelfsamenstellen','product_group',undefined]\n\t};\n\tvar currentProduct = r42getProperty('page.path');\n\n\t// define viewed product and price\n\tfor (var key in productProps) {\n\t\tvar rex = new RegExp(productProps[key][0], 'i');\n\t\tif(currentProduct.match(rex)){\n\t\t\tconsole.log(key);\n\t\t\tr42.thirdparty.content_ids = key;\n\t\t\tr42.thirdparty.value = productProps[key][1];\n\t\t\tr42.thirdparty.content_name = productProps[key][2];\n\t\t\tr42.thirdparty.content_type = productProps[key][3];\n\t\t\tr42.thirdparty.content_category = productProps[key][4];\n\t\t\tr42.thirdparty.currency = 'EUR';\n\t\t\t\n\t\t\tfbq('track', 'ViewContent', r42.thirdparty);\n\t\t\t\n\t\t\t_st.data.setProperty('thirdparty',r42.thirdparty); // set datalayer properties\n\t\t\t\n\t\t\tbreak; // quit the loop if match is found\n\t\t}\n\t}\n})();\n","exec":"event","group":4},{"execValue2":"facebook_initialized","markerCondition":"[]","loadDefault":false,"groupReverse":false,"selector":"head","id":574,"execValue":"r42/engagement/3rdparty","version":21,"content":"(function() {\n\t// variable r42.thirdparty holds the general data\n\t\n\tvar productIds = {\n\t\t'CON1_PLAYB': 'b2c_ai1_s',\n\t\t'914000': 'b2c_ai1_s',\n\t\t'CON2_PLAYP': 'b2c_ai1_c',\n\t\t'914201': 'b2c_ai1_c',\n\t\t'CON4_PLAYE': 'b2c_ai1_m',\n\t\t'914302': 'b2c_ai1_m',\n\t\t'19': 'b2c_mob_v',\n\t\t'20': 'b2c_mob_r',\n\t\t'21': 'b2c_mob_e',\n\t\t'22': 'b2c_mob_f',\n\t\t'115000': 'b2c_tablet','115001': 'b2c_tablet','115002': 'b2c_tablet','115008': 'b2c_tablet','115009': 'b2c_tablet','115010': 'b2c_tablet','115012': 'b2c_tablet','115013': 'b2c_tablet','115014': 'b2c_tablet','115016': 'b2c_tablet','115017': 'b2c_tablet','115018': 'b2c_tablet','115022': 'b2c_tablet','115023': 'b2c_tablet','115024': 'b2c_tablet','115025': 'b2c_tablet','115026': 'b2c_tablet','115027': 'b2c_tablet','115028': 'b2c_tablet','115029': 'b2c_tablet','115030': 'b2c_tablet','115036': 'b2c_tablet','115037': 'b2c_tablet','115038': 'b2c_tablet','115040': 'b2c_tablet','115041': 'b2c_tablet','115042': 'b2c_tablet','115044': 'b2c_tablet','115045': 'b2c_tablet','115046': 'b2c_tablet','115050': 'b2c_tablet','115051': 'b2c_tablet','115052': 'b2c_tablet','115053': 'b2c_tablet','115054': 'b2c_tablet','115059': 'b2c_tablet','115060': 'b2c_tablet','115061': 'b2c_tablet','115062': 'b2c_tablet','115555': 'b2c_tablet','116000': 'b2c_tablet','116001': 'b2c_tablet','116002': 'b2c_tablet','116004': 'b2c_tablet','116005': 'b2c_tablet','116006': 'b2c_tablet','116008': 'b2c_tablet','116009': 'b2c_tablet','116010': 'b2c_tablet','116011': 'b2c_tablet','116012': 'b2c_tablet','116013': 'b2c_tablet','116014': 'b2c_tablet','116015': 'b2c_tablet','116016': 'b2c_tablet','116018': 'b2c_tablet','116019': 'b2c_tablet','116020': 'b2c_tablet','116022': 'b2c_tablet','116023': 'b2c_tablet','116024': 'b2c_tablet','116025': 'b2c_tablet','116026': 'b2c_tablet','116027': 'b2c_tablet','TBACTKEF': 'b2c_tablet','TBAHQBGB': 'b2c_tablet','TBAQYLKE': 'b2c_tablet','TBARARSC': 'b2c_tablet','TBBHNVQY': 'b2c_tablet','TBBJYUSB': 'b2c_tablet','TBBSFOYO': 'b2c_tablet','TBCGKOQI': 'b2c_tablet','TBCMNTVP': 'b2c_tablet','TBCOFURC': 'b2c_tablet','TBCOTIQY': 'b2c_tablet','TBDGQWCG': 'b2c_tablet','TBDTKKLR': 'b2c_tablet','TBFMQRBJ': 'b2c_tablet','TBFSXMDH': 'b2c_tablet','TBGQRFMT': 'b2c_tablet','TBGVPNPI': 'b2c_tablet','TBHBUBKH': 'b2c_tablet','TBHLJBER': 'b2c_tablet','TBIWQYIS': 'b2c_tablet','TBJOUDZH': 'b2c_tablet','TBJOZMWS': 'b2c_tablet','TBJSVVNH': 'b2c_tablet','TBJWREFO': 'b2c_tablet','TBKCWWNY': 'b2c_tablet','TBKJQGKM': 'b2c_tablet','TBKNYNMW': 'b2c_tablet','TBLIMDEW': 'b2c_tablet','TBLKMHRS': 'b2c_tablet','TBLOQBXT': 'b2c_tablet','TBMFRWVV': 'b2c_tablet','TBMOJQNR': 'b2c_tablet','TBNFPQNG': 'b2c_tablet','TBNGYYWP': 'b2c_tablet','TBNHFJYU': 'b2c_tablet','TBOPXAQI': 'b2c_tablet','TBOWDFQT': 'b2c_tablet','TBPGZOSV': 'b2c_tablet','TBPJADNT': 'b2c_tablet','TBPNWHHM': 'b2c_tablet','TBPRGKCN': 'b2c_tablet','TBQBMKIF': 'b2c_tablet','TBQDNCGW': 'b2c_tablet','TBQUSDNJ': 'b2c_tablet','TBRBJOGJ': 'b2c_tablet','TBSAROEO': 'b2c_tablet','TBTFEPYH': 'b2c_tablet','TBTFTKRZ': 'b2c_tablet','TBTTERSC': 'b2c_tablet','TBUADJAC': 'b2c_tablet','TBURAINT': 'b2c_tablet','TBUTOWDS': 'b2c_tablet','TBVBHNWX': 'b2c_tablet','TBVGFTGS': 'b2c_tablet','TBVMRTQG': 'b2c_tablet','TBVXOKSC': 'b2c_tablet','TBWGRUWL': 'b2c_tablet','TBWWDFCX': 'b2c_tablet','TBXGGSZY': 'b2c_tablet','TBXHAYDZ': 'b2c_tablet','TBXRVNPY': 'b2c_tablet','TBYBOYVQ': 'b2c_tablet','TBYFTNVD': 'b2c_tablet','TBYZYTQD': 'b2c_tablet',\n\t\t'115119': 'b2c_tablet_lowend','115120': 'b2c_tablet_lowend','115121': 'b2c_tablet_lowend','115124': 'b2c_tablet_lowend','115125': 'b2c_tablet_lowend','115126': 'b2c_tablet_lowend','TBDKDQRQ': 'b2c_tablet_lowend','TBLEBYRW': 'b2c_tablet_lowend','TBAGLDXE': 'b2c_tablet_lowend','TBGGBORP': 'b2c_tablet_lowend','TBDDCRAZ': 'b2c_tablet_lowend','TBAFQBVJ': 'b2c_tablet_lowend'\n\t};\n\t\n    if(r42getProperty('page.type')==='checkout'||r42getProperty('page.type')==='purchase') {\n        var product, \n\t\t\tvariables = {},\n\t\t\tproducts = r42getProperty('products');\n\n\t\tif(r42getProperty('transaction.id')!==''){\n\t\t\tvariables.order_id = r42getProperty('transaction.id');\n\t\t}\n\n        for(var i=0; i<products.length; i++) {\n            product = products[i];\n            variables.category = variables.category + ',' + product.category;\n            variables.price = variables.price + product.price;\n            variables.quantity = variables.quantity + product.quantity;\n            if(product.id){\n                variables.id = variables.id + ',' + productIds[product.id];\n            } else if(product.offerID){\n                variables.id = variables.id + ',' + productIds[product.offerID];\n            }\n            if(product.name){\n                variables.name = variables.name + ',' + product.name;\n            } else {\n                variables.name = variables.name + ',' + variables.id;\n            }\n        }\n\t\t\n\t\tr42.thirdparty.content_ids = variables.id;\n\t\tr42.thirdparty.value = variables.price;\n\t\tr42.thirdparty.content_type = 'product';\n\t\tr42.thirdparty.content_name = variables.name;\n\t\tr42.thirdparty.currency = 'EUR';\n\t\tr42.thirdparty.order_id = variables.order_id;\n\n        if(r42getProperty('page.type')==='checkout' && r42getProperty('page.step')==='1'){\n\t\t\tr42.thirdparty.content_type = 'checkout';\n\t\t\tfbq('track', 'InitiateCheckout', r42.thirdparty);\n        }\n        else if(r42getProperty('page.type')==='purchase'){\n\t\t\tr42.thirdparty.content_type = 'purchase';\n\t\t\tr42.thirdparty.value = r42getProperty('transaction.revenue');\n\t\t\tfbq('track', 'Purchase', r42.thirdparty);\n\t\t\t\n\t\t\t// this 'registration' trackings needs to be removed once SR adopted new FB-tagging\n\t\t\tfbq('track', 'Registration', {\n\t\t\t\tvalue: r42getProperty('transaction.revenue'),\n\t\t\t\ttransaction_type: r42getProperty('transaction.type'),\n\t\t\t\tcurrency: 'EUR'\n\t\t\t});\n\t\t\t\n\t\t\t//ga call\n\t\t\tvar label = r42getProperty('keysegment') + '_' + r42getProperty('transaction.type') + '_' + r42getProperty('transaction.revenue');\n\t\t\tga('send', 'event', 'ecommerce', 'partnerconversion', label);\n\t\t}\n\t}\n\t\n})();\n        ","exec":"event","group":4},{"execValue2":"facebook_initialized","markerCondition":"[]","loadDefault":false,"groupReverse":false,"r42.conditions":{"condition":{"nodes":[{"nodes":[{"selectionName":"1085_341","nodeType":"CONCRETE"}],"nodeType":"AND"}],"nodeType":"AND"},"cacheSeconds":0},"selector":"head","id":579,"execValue":"r42/engagement/3rdparty","version":8,"content":"(function() {\n    fbq('trackCustom', 'addons', {\n\t\t'foxsport': 'int_el'\n\t});\t\n})();\n        ","exec":"event","group":4},{"execValue2":"facebook_initialized","markerCondition":"[]","loadDefault":false,"groupReverse":false,"r42.conditions":{"condition":{"nodes":[{"nodes":[{"selectionName":"1085_345","nodeType":"CONCRETE"}],"nodeType":"AND"}],"nodeType":"AND"},"cacheSeconds":0},"selector":"head","id":581,"execValue":"r42/engagement/3rdparty","version":8,"content":"(function() {\n    fbq('trackCustom', 'R42_audiences', {\n\t\taudience: 'closing_deal_6x34'\n\t});\t\n})();\n        ","exec":"event","group":4},{"execValue2":"facebook_initialized","markerCondition":"[]","loadDefault":false,"groupReverse":false,"r42.conditions":{"condition":{"nodes":[{"nodes":[{"selectionName":"1085_350","nodeType":"CONCRETE"}],"nodeType":"AND"}],"nodeType":"AND"},"cacheSeconds":0},"selector":"head","id":584,"execValue":"r42/engagement/3rdparty","version":8,"content":"(function() {\n    fbq('trackCustom', 'R42_audiences', {\n\t\taudience: '2016_voordeelpakket'\n\t});\t\n})();\n        ","exec":"event","group":4},{"execValue2":"facebook_initialized","markerCondition":"[]","loadDefault":false,"groupReverse":false,"r42.conditions":{"condition":{"nodes":[{"nodes":[{"selectionName":"1085_102","nodeType":"CONCRETE"}],"nodeType":"AND"}],"nodeType":"AND"},"cacheSeconds":0},"selector":"head","id":594,"execValue":"r42/engagement/3rdparty","version":9,"content":"(function() {\n    fbq('trackCustom', 'R42_audiences', {\n\t\t'audience': 'SOHO_prospect'\n\t});\t\n})();\n        ","exec":"event","group":4},{"execValue2":"facebook_initialized","markerCondition":"[]","loadDefault":false,"groupReverse":false,"r42.conditions":{"condition":{"nodes":[{"nodes":[{"selectionName":"1085_151","nodeType":"CONCRETE"}],"nodeType":"AND"}],"nodeType":"AND"},"cacheSeconds":0},"selector":"head","id":600,"execValue":"r42/engagement/3rdparty","version":8,"content":"(function() {\n\tvar page = window.location.pathname;\n\t\n\t\n    fbq('trackCustom', 'products', {\n\t\t'mobile': 'yes'\n\t});\n\t\n\tfbq('trackCustom', 'R42_audiences', {\n\t\t'mobile': 'yes',\n\t\t'page':page\n\t});\n\t\n\tvar google_tag_params = {\n\t\tmobile: 'yes'\n\t};\n\n\n\t_st.inject.script(\"//www.googleadservices.com/pagead/conversion_async.js\", { callback: function() {\n\t\twindow.google_trackConversion({\n\t\t\tgoogle_conversion_id: 1042468051,\n\t\t\tgoogle_custom_params: google_tag_params,\n\t\t\tgoogle_remarketing_only: true\n\t\t});\n\t}});\n})();\n        ","exec":"event","group":4},{"execValue2":"facebook_initialized","markerCondition":"[]","loadDefault":false,"groupReverse":false,"r42.conditions":{"condition":{"nodes":[{"nodes":[{"selectionName":"1085_372","nodeType":"CONCRETE"}],"nodeType":"AND"}],"nodeType":"AND"},"cacheSeconds":0},"selector":"head","id":606,"execValue":"r42/engagement/3rdparty","version":9,"content":"(function(){\n\tfbq('trackCustom', 'R42_audiences', {\n\t\taudience: 'closing_deal_variant'\n\t});\t\n\t\t\n\tvar google_tag_params = {\n\t\tR42audience: 'closing_deal_variant'\n\t};\n\n\n\t_st.inject.script(\"//www.googleadservices.com/pagead/conversion_async.js\", { callback: function() {\n\t\twindow.google_trackConversion({\n\t\t\tgoogle_conversion_id: 1042468051,\n\t\t\tgoogle_custom_params: google_tag_params,\n\t\t\tgoogle_remarketing_only: true\n\t\t});\n\t}});\n})();","exec":"event","group":3},{"execValue2":"facebook_initialized","markerCondition":"[]","loadDefault":false,"groupReverse":false,"r42.conditions":{"condition":{"nodes":[{"nodes":[{"selectionName":"1085_427","nodeType":"CONCRETE"}],"nodeType":"AND"}],"nodeType":"AND"},"cacheSeconds":0},"selector":"head","id":731,"execValue":"r42/engagement/3rdparty","version":4,"content":"(function() {\n\tfbq('trackCustom', 'R42_audiences', {\n\t\taudience: \"201611_tientjevriendje|catv\"\n\t});\n\t\n\tvar google_tag_params = {\n\t\tR42audience: '201611_tientjevriendje|catv'\n\t};\n\n\n\t_st.inject.script(\"//www.googleadservices.com/pagead/conversion_async.js\", { callback: function() {\n\t\twindow.google_trackConversion({\n\t\t\tgoogle_conversion_id: 1042468051,\n\t\t\tgoogle_custom_params: google_tag_params,\n\t\t\tgoogle_remarketing_only: true\n\t\t});\n\t}});\n\t\n})();\n        ","exec":"event","group":4},{"execValue2":"facebook_initialized","markerCondition":"[]","loadDefault":false,"groupReverse":false,"r42.conditions":{"condition":{"nodes":[{"nodes":[{"selectionName":"1085_164","nodeType":"CONCRETE"}],"nodeType":"AND"}],"nodeType":"AND"},"cacheSeconds":0},"selector":"head","id":739,"execValue":"r42/engagement/3rdparty","version":6,"content":"(function() {\n    fbq('trackCustom', 'R42_audiences', {\n\t\t'audience': 'ZiggoSportTotaal'\n\t});\t\n\t\n\tvar google_tag_params = {\n\t\tR42audience: 'ZiggoSportTotaal'\n\t};\n\n\n\t_st.inject.script(\"//www.googleadservices.com/pagead/conversion_async.js\", { callback: function() {\n\t\twindow.google_trackConversion({\n\t\t\tgoogle_conversion_id: 1042468051,\n\t\t\tgoogle_custom_params: google_tag_params,\n\t\t\tgoogle_remarketing_only: true\n\t\t});\n\t}});\n})();\n        ","exec":"event","group":4},{"execValue2":"facebook_initialized","markerCondition":"[]","loadDefault":false,"groupReverse":false,"r42.conditions":{"condition":{"nodes":[{"nodes":[{"selectionName":"1085_249","nodeType":"CONCRETE"}],"nodeType":"AND"}],"nodeType":"AND"},"cacheSeconds":0},"selector":"head","id":748,"execValue":"r42/engagement/3rdparty","version":4,"content":"(function() {\n    fbq('trackCustom', 'R42audiences', {\n\t\t'mobileprospect': 'yes'\n\t});\t\n\t\n\tvar google_tag_params = {\n\t\t'mobileprospect': 'yes'\n\t};\n\n\n\t_st.inject.script(\"//www.googleadservices.com/pagead/conversion_async.js\", { callback: function() {\n\t\twindow.google_trackConversion({\n\t\t\tgoogle_conversion_id: 1042468051,\n\t\t\tgoogle_custom_params: google_tag_params,\n\t\t\tgoogle_remarketing_only: true\n\t\t});\n\t}});\n})();\n        ","exec":"event","group":4},{"execValue2":"facebook_initialized","markerCondition":"[]","loadDefault":false,"groupReverse":false,"selector":"head","id":750,"execValue":"r42/engagement/3rdparty","version":17,"content":"(function() {\n    var productLookup = {\n\t\t'CON1_PLAYB': 'b2c_ai1_s',\n\t\t'914000': 'b2c_ai1_s',\n\t\t'CON2_PLAYP': 'b2c_ai1_c',\n\t\t'914201': 'b2c_ai1_c',\n\t\t'CON4_PLAYE': 'b2c_ai1_m',\n\t\t'914302': 'b2c_ai1_m',\n\t\t'19': 'b2c_mob_v',\n\t\t'20': 'b2c_mob_r',\n\t\t'21': 'b2c_mob_e',\n\t\t'22': 'b2c_mob_f',\n\t\t'115000': 'b2c_tablet','115001': 'b2c_tablet','115002': 'b2c_tablet','115008': 'b2c_tablet','115009': 'b2c_tablet','115010': 'b2c_tablet','115012': 'b2c_tablet','115013': 'b2c_tablet','115014': 'b2c_tablet','115016': 'b2c_tablet','115017': 'b2c_tablet','115018': 'b2c_tablet','115022': 'b2c_tablet','115023': 'b2c_tablet','115024': 'b2c_tablet','115025': 'b2c_tablet','115026': 'b2c_tablet','115027': 'b2c_tablet','115028': 'b2c_tablet','115029': 'b2c_tablet','115030': 'b2c_tablet','115036': 'b2c_tablet','115037': 'b2c_tablet','115038': 'b2c_tablet','115040': 'b2c_tablet','115041': 'b2c_tablet','115042': 'b2c_tablet','115044': 'b2c_tablet','115045': 'b2c_tablet','115046': 'b2c_tablet','115050': 'b2c_tablet','115051': 'b2c_tablet','115052': 'b2c_tablet','115053': 'b2c_tablet','115054': 'b2c_tablet','115059': 'b2c_tablet','115060': 'b2c_tablet','115061': 'b2c_tablet','115062': 'b2c_tablet','115555': 'b2c_tablet','116000': 'b2c_tablet','116001': 'b2c_tablet','116002': 'b2c_tablet','116004': 'b2c_tablet','116005': 'b2c_tablet','116006': 'b2c_tablet','116008': 'b2c_tablet','116009': 'b2c_tablet','116010': 'b2c_tablet','116011': 'b2c_tablet','116012': 'b2c_tablet','116013': 'b2c_tablet','116014': 'b2c_tablet','116015': 'b2c_tablet','116016': 'b2c_tablet','116018': 'b2c_tablet','116019': 'b2c_tablet','116020': 'b2c_tablet','116022': 'b2c_tablet','116023': 'b2c_tablet','116024': 'b2c_tablet','116025': 'b2c_tablet','116026': 'b2c_tablet','116027': 'b2c_tablet','TBACTKEF': 'b2c_tablet','TBAHQBGB': 'b2c_tablet','TBAQYLKE': 'b2c_tablet','TBARARSC': 'b2c_tablet','TBBHNVQY': 'b2c_tablet','TBBJYUSB': 'b2c_tablet','TBBSFOYO': 'b2c_tablet','TBCGKOQI': 'b2c_tablet','TBCMNTVP': 'b2c_tablet','TBCOFURC': 'b2c_tablet','TBCOTIQY': 'b2c_tablet','TBDGQWCG': 'b2c_tablet','TBDTKKLR': 'b2c_tablet','TBFMQRBJ': 'b2c_tablet','TBFSXMDH': 'b2c_tablet','TBGQRFMT': 'b2c_tablet','TBGVPNPI': 'b2c_tablet','TBHBUBKH': 'b2c_tablet','TBHLJBER': 'b2c_tablet','TBIWQYIS': 'b2c_tablet','TBJOUDZH': 'b2c_tablet','TBJOZMWS': 'b2c_tablet','TBJSVVNH': 'b2c_tablet','TBJWREFO': 'b2c_tablet','TBKCWWNY': 'b2c_tablet','TBKJQGKM': 'b2c_tablet','TBKNYNMW': 'b2c_tablet','TBLIMDEW': 'b2c_tablet','TBLKMHRS': 'b2c_tablet','TBLOQBXT': 'b2c_tablet','TBMFRWVV': 'b2c_tablet','TBMOJQNR': 'b2c_tablet','TBNFPQNG': 'b2c_tablet','TBNGYYWP': 'b2c_tablet','TBNHFJYU': 'b2c_tablet','TBOPXAQI': 'b2c_tablet','TBOWDFQT': 'b2c_tablet','TBPGZOSV': 'b2c_tablet','TBPJADNT': 'b2c_tablet','TBPNWHHM': 'b2c_tablet','TBPRGKCN': 'b2c_tablet','TBQBMKIF': 'b2c_tablet','TBQDNCGW': 'b2c_tablet','TBQUSDNJ': 'b2c_tablet','TBRBJOGJ': 'b2c_tablet','TBSAROEO': 'b2c_tablet','TBTFEPYH': 'b2c_tablet','TBTFTKRZ': 'b2c_tablet','TBTTERSC': 'b2c_tablet','TBUADJAC': 'b2c_tablet','TBURAINT': 'b2c_tablet','TBUTOWDS': 'b2c_tablet','TBVBHNWX': 'b2c_tablet','TBVGFTGS': 'b2c_tablet','TBVMRTQG': 'b2c_tablet','TBVXOKSC': 'b2c_tablet','TBWGRUWL': 'b2c_tablet','TBWWDFCX': 'b2c_tablet','TBXGGSZY': 'b2c_tablet','TBXHAYDZ': 'b2c_tablet','TBXRVNPY': 'b2c_tablet','TBYBOYVQ': 'b2c_tablet','TBYFTNVD': 'b2c_tablet','TBYZYTQD': 'b2c_tablet',\n\t\t'115119': 'b2c_tablet_lowend','115120': 'b2c_tablet_lowend','115121': 'b2c_tablet_lowend','115124': 'b2c_tablet_lowend','115125': 'b2c_tablet_lowend','115126': 'b2c_tablet_lowend','TBDKDQRQ': 'b2c_tablet_lowend','TBLEBYRW': 'b2c_tablet_lowend','TBAGLDXE': 'b2c_tablet_lowend','TBGGBORP': 'b2c_tablet_lowend','TBDDCRAZ': 'b2c_tablet_lowend','TBAFQBVJ': 'b2c_tablet_lowend'\n\t};\n\n\n\tif(r42getProperty('page.type')==='purchase'){\t\n\t\tvar products_raw = r42getProperty('products');\n\t\tvar offer_ids = [];\n\t\tvar offer_names = [];\n\t\tvar transaction_value = 0;\n\n\t\tfor(var i=0; i<products_raw.length; i++) {\n\t\t\tvar product = products_raw[i];\n\t\t\tvar offer_id;\n\t\t\ttransaction_value = transaction_value +  parseFloat(product.price,2);\n\t\t\tif(product.id){\n\t\t\t\toffer_id = product.id;\n\t\t\t\toffer_ids.push(product.id);\n\t\t\t} else if(product.offerID){\n\t\t\t\toffer_id = product.offerID;\n\t\t\t\toffer_ids.push(product.offerID);\n\t\t\t}\n\t\t\tif(productLookup[offer_id]){\n\t\t\t\toffer_names.push(productLookup[offer_id]);\n\t\t\t} else {\n\t\t\t\toffer_names.push(offer_id);\n\t\t\t}\n\t\t}\n\t\tvar offer_ids_str = JSON.stringify(offer_ids);\n\t\tfbq('trackCustom', 'PurchaseCustom', {\n\t\t\toffer_ids: offer_ids_str,\n\t\t\toffer_names: offer_names,\n\t\t\tvalue: transaction_value,\n\t\t\tcurrency: 'EUR'\n\t\t\t}\n\t\t);\n\t\t\n\t\tvar tr = r42data.get('transaction');\n\t\tvar ids = '';\n\t\tif(tr) ids = tr.id + '_' + tr.altId;\n\t\tga('send', 'event', '3rdPartyPixels', 'facebook-conversion-test', ids);\n\t}\n})();","exec":"event","group":4},{"execValue2":"facebook_initialized","markerCondition":"[]","loadDefault":false,"groupReverse":false,"r42.conditions":{"condition":{"nodes":[{"nodes":[{"selectionName":"1085_546","nodeType":"CONCRETE"}],"nodeType":"AND"}],"nodeType":"AND"},"cacheSeconds":0},"selector":"head","id":824,"execValue":"r42/engagement/3rdparty","version":5,"content":"(function() {\n\tfbq('trackCustom', 'R42_audiences', {\n\t\taudience: \"201702_msxl|int\"\n\t});\n\t\n\tvar google_tag_params = {\n\t\tR42audience: '201702_msxl|int'\n\t};\n\n\n\t_st.inject.script(\"//www.googleadservices.com/pagead/conversion_async.js\", { callback: function() {\n\t\twindow.google_trackConversion({\n\t\t\tgoogle_conversion_id: 1042468051,\n\t\t\tgoogle_custom_params: google_tag_params,\n\t\t\tgoogle_remarketing_only: true\n\t\t});\n\t}});\n\t\n})();\n        ","exec":"event","group":4},{"execValue2":"facebook_initialized","markerCondition":"[]","loadDefault":false,"groupReverse":false,"r42.conditions":{"condition":{"nodes":[{"nodes":[{"selectionName":"1085_560","nodeType":"CONCRETE"}],"nodeType":"AND"}],"nodeType":"AND"},"cacheSeconds":0},"selector":"head","id":827,"execValue":"r42/engagement/3rdparty","version":4,"content":"(function() {\n\tfbq('trackCustom', 'R42_audiences', {\n\t\taudience: \"201702_dtv_noMSXL\"\n\t});\n\t\n\tvar google_tag_params = {\n\t\tR42audience: '201702_dtv_noMSXL'\n\t};\n\n\n\t_st.inject.script(\"//www.googleadservices.com/pagead/conversion_async.js\", { callback: function() {\n\t\twindow.google_trackConversion({\n\t\t\tgoogle_conversion_id: 1042468051,\n\t\t\tgoogle_custom_params: google_tag_params,\n\t\t\tgoogle_remarketing_only: true\n\t\t});\n\t}});\n\t\n})();\n        ","exec":"event","group":4},{"execValue2":"facebook_initialized","markerCondition":"[]","loadDefault":false,"groupReverse":false,"r42.conditions":{"condition":{"nodes":[{"nodes":[{"selectionName":"1085_636","nodeType":"CONCRETE"}],"nodeType":"AND"}],"nodeType":"AND"},"cacheSeconds":0},"selector":"head","id":900,"execValue":"r42/engagement/3rdparty","version":4,"content":"(function() {\n\tfbq('trackCustom', 'R42_audiences', {\n\t\taudience: '201703_ZiggoGO'\n\t});\n\t\n\tvar google_tag_params = {\n\t\tR42audience: '201703_ZiggoGO'\n\t};\n\n\t_st.inject.script(\"//www.googleadservices.com/pagead/conversion_async.js\", { callback: function() {\n\t\twindow.google_trackConversion({\n\t\t\tgoogle_conversion_id: 1042468051,\n\t\t\tgoogle_custom_params: google_tag_params,\n\t\t\tgoogle_remarketing_only: true\n\t\t});\n\t}});\n})();\n        ","exec":"event","group":4},{"markerCondition":"[]","loadDefault":false,"groupReverse":false,"r42.conditions":{"condition":{"nodes":[{"nodes":[{"selectionName":"1085_667","nodeType":"CONCRETE"}],"nodeType":"AND"}],"nodeType":"AND"},"cacheSeconds":0},"selector":"head","id":946,"version":5,"content":"(function() {\n\t//send to adwords\n\t_st.inject.script(\"//www.googleadservices.com/pagead/conversion_async.js\", { callback: function() {\n\t\twindow.google_trackConversion({\n\t\t\tgoogle_conversion_id: 1069371383,\n\t\t\tgoogle_conversion_label:\"bXo2CPD-l3AQ95_1_QM\",\n\t\t\t//google_custom_params: data,\n\t\t\tgoogle_remarketing_only: true\n\t\t});\n\t}});\n})();\n        ","exec":"async","group":4},{"markerCondition":"[]","loadDefault":false,"groupReverse":false,"selector":"head","id":822,"version":4,"content":"_st.tracking.syncPartner(7);","group":4},{"execValue2":"","markerCondition":"[]","loadDefault":false,"groupReverse":false,"selector":"head","id":325,"execValue":"Adobe/loaded","version":22,"content":"if(typeof _st.util.getCookie('customOffer') !== 'undefined' && typeof _st.data.getMarker('customOffer','sent') == 'undefined') { \n\n\nvar cacheBuster = +new Date();\n\n\tsetTimeout(function() {\n\t\t_st.inject.pixel(\"//upc.d2.sc.omtrdc.net/b/ss/upcnl/1/H.27.5/\" + cacheBuster + \"?ns=upc&pageName=check/customOffer/homepage&v31=\"+_st.data.getProperty('keysegment')+\"&v42=\"+_st.util.getCookie('customOffer')+\"&g=http%3A//www.upc.nl/&pe=lnk_o&pev2=customOffer\");\n\t }, 500);\t\n\t\n\n_st.data.setMarker(\"customOffer\", \"sent\", +new Date() + (1000 * 60 * 30));\n\n\n}\n\n_st.data.setProperty(\"customOffer\", \"check\");","exec":"event","group":1},{"execValue2":"","markerCondition":"[]","loadDefault":false,"groupReverse":false,"selector":"head","id":786,"execValue":"keysegment","version":4,"content":"if(_st.util.getCookie('_sviatpt2gr') !== _st.data.getProperty('keysegment') && _st.data.getProperty('keysegment') !== '') {\n\tvar pageType;\n\tswitch (_st.data.getProperty('keysegment')) {\n\t\tcase \"s1\":\n\t\t\tpageType='1';\n\t\t\tbreak;\n\t\tcase \"s2\":\n\t\t\tpageType='2';\n\t\t\tbreak;\n\t\tcase \"s3\":\n\t\t\tpageType='3';\n\t\t\tbreak;\n\t\tcase \"s4\":\n\t\t\tpageType='4';\n\t\t\tbreak;\n\t\tcase \"s5\":\n\t\t\tpageType='5';\n\t\t\tbreak;\n\t\tcase \"s5d\":\n\t\t\tpageType='51';\n\t\t\tbreak;\n\t\tcase \"s5f\":\n\t\t\tpageType='52';\n\t\t\tbreak;\n\t\tcase \"s5p\":\n\t\t\tpageType='53';\n\t\t\tbreak;\n\t\tcase \"soho\":\n\t\t\tpageType='12';\n\t\t\tbreak;\n\t\tcase \"pc\":\n\t\t\tpageType='6';\n\t\t\tbreak;\n\t\tcase \"pcz\":\n\t\t\tpageType='7';\n\t\t\tbreak;\n\t\tcase \"ui\":\n\t\t\tpageType='8';\n\t\t\tbreak;\n\t\tcase \"um\":\n\t\t\tpageType='9';\n\t\t\tbreak;\n\t\tcase \"ot\":\n\t\t\tpageType='10';\n\t\t\tbreak;\n        case \"ot2\":\n            pageType=\"10\";\n            break;\n\t}\n\tvar sport1Result = (_st.data.getProperty('sport1'))? 1 : 0;\n\t\n    var google_tag_params = {};\n\tgoogle_tag_params.pagetype = pageType;\n\tgoogle_tag_params.ziggosporttotaal = sport1Result;\n\tgoogle_tag_params.keysegment = _st.data.getProperty('keysegment');\n\tgoogle_tag_params.provider = _st.data.getProperty('provider');\n\n\tif(r42getProperty('session.providerCategory') !== '') {\n\t\tgoogle_tag_params.providerCategory = r42getProperty('session.providerCategory');\n\t}\n\tif(r42getProperty('dmp.geo_segment_descr') !== '') {\n\t\tgoogle_tag_params.vodwsegment = r42getProperty('dmp.geo_segment_descr');\n\t}\n\n\t_st.inject.script(\"//www.googleadservices.com/pagead/conversion_async.js\", { callback: function() {\n\t\twindow.google_trackConversion({\n\t\t\tgoogle_conversion_id: 1042468051,\n\t\t\tgoogle_custom_params: google_tag_params,\n\t\t\tgoogle_remarketing_only: true\n\t\t});\n\t\tif(_st.data.getProperty('keysegment').match(/^s[123].*/g)) {\n\t\twindow.google_trackConversion({\n\t\t\tgoogle_conversion_id: 1069371383,\n\t\t\tgoogle_conversion_label: \"vU_5CMitmW0Q95_1_QM\",\n\t\t\tgoogle_custom_params: window.google_tag_params,\n\t\t\tgoogle_remarketing_only: true\n\t\t});\n\t\t\t\n\t\t}\n\t}});\n\t\n\n\n\t(function(w, d, t, r, u) {\n\t\tvar f, n, i;\n\t\tw[u] = w[u] || [];\n\t\tf = function() {\n\t\t\tvar o = {\n\t\t\t\tti: '5060624'\n\t\t\t};\n\t\t\to.q = w[u];\n\t\t\tw[u] = new UET(o);\n\t\t\tw[u].push(\"pageLoad\");\n\t\t};\n\t\tn = d.createElement(t);\n\t\tn.src = r;\n\t\tn.async = 1;\n\t\tn.onload = n.onreadystatechange = function() {\n\t\t\tvar s = this.readyState;\n\t\t\tif (!(s && s !== \"loaded\" && s !== \"complete\")) {\n\t\t\t\tf();\n\t\t\t\tn.onload = n.onreadystatechange = null;\n\t\t\t}\n\t\t};\n\t\ti = d.getElementsByTagName(t)[0];\n\t\ti.parentNode.insertBefore(n, i);\n\t})(window, document, \"script\", \"//bat.bing.com/bat.js\", \"uetq\");\n\n\t\n\tvar ec_crm = [];\n\tvar ea_crm = [];\n\tvar el_crm = [];\n\t\n\t//add providerCat\n\tec_crm.push(\"crm\");\n\tea_crm.push(\"providerCat\");\n\tel_crm.push(r42getProperty('session.providerCat')); \n\t\n\t//add keySegment\n\tec_crm.push(\"crm\");\n\tea_crm.push(\"keySegment\");\n\tel_crm.push(_st.data.getProperty('keysegment')); \n\t\n\twindow.uetq.push({\n\t\t'ec': ec_crm,\n\t\t'ea': ea_crm,\n\t\t'el': el_crm\n\t});\n\n\t\n\t/* SK 20160912 disabled GA and obsolete uetq.push\n\tga('send',\n        'event',\n        'bingPixel',\n\t   \t'providerCat',\n\t   \tec_crm + \"|\" + ea_crm + \"|\" +el_crm\n    );\n\n\twindow.uetq.push({\n\t\t'ec': 'result',\n\t\t'ea': sport1Result,\n\t\t'el': pageType\n\t});\n\t*/\n\n\n\t_st.util.setCookie('_sviatpt2gr', _st.data.getProperty('keysegment'), 0.01); // set cookie for <15min.\n}\n","exec":"event","group":4},{"markerCondition":"[]","loadDefault":false,"groupReverse":false,"selector":"head","id":262,"version":36,"content":"(function(){\n\t\n\tvar userObj = _st.data.getProperty('user');\n\t\n\tif(userObj && userObj.acid){\n\t\t\t\t\n\t\t_st.tracking.storeMapping('2002', userObj.acid, '1');\n\t\t_st.tracking.storeMapping('4', userObj.acid, '1');\n\t\t\n\t\t_st.counter.call('2'); //ACID storemapping done\n\t\t_st.counter.call('3'); //ACID sync - fZiggo\n\t\t\n\t\t//set IDsync engagement\n\t\tvar params = {};\n\t\tvar hostName = document.location.hostname;\n\t\t\n\t\tparams['syncLevel'] = 'acid';\t\n\t\tparams['cookieId'] = _st.tracking.getUserIdentifier();\n\t\tparams['acid'] = userObj.acid;\n\t\tparams['cookieDomain'] =  hostName.substring(hostName.lastIndexOf(\".\", hostName.lastIndexOf(\".\") - 1) + 1);\n\t\t\n\t\t_st.tracking.sendEngagement('IDsync', params);\n\t} else {\n\t\t//console.log(userObj);\n\t\t_st.debug.log('userObj && userObj.acid exist. userObj.id value: '+ userObj.id);\n\t}\n})();","group":3},{"markerCondition":"[]","loadDefault":false,"groupReverse":false,"r42.conditions":{"condition":{"nodes":[{"nodes":[{"selectionName":"1085_186","nodeType":"CONCRETE"}],"nodeType":"AND"}],"nodeType":"AND"},"cacheSeconds":0},"selector":"head","id":787,"version":1,"content":"\tvar result = \"11\";\t\t\t\n    \n\tvar google_tag_params = {\n\t\tpagetype: result\n\t};\n\n\n\t_st.inject.script(\"//www.googleadservices.com/pagead/conversion_async.js\", { callback: function() {\n\t\twindow.google_trackConversion({\n\t\t\tgoogle_conversion_id: 1042468051,\n\t\t\tgoogle_custom_params: google_tag_params,\n\t\t\tgoogle_remarketing_only: true\n\t\t});\n\t}});\n","group":4},{"markerCondition":"[]","loadDefault":false,"groupReverse":false,"selector":"head","id":287,"version":20,"content":"_st.event.subscribe('webmail', 'login', function(cat, name, data) {\n\n\t// Check if value is provided\n\tvar userHash = data.userHash.toString();\n\tif(!userHash) throw 'mail userhash not filled. Value: '+ userHash;\n    \n\t_st.inject.script('https://a.svtrd.com/s/1085/p/5?mail='+userHash, {\n            callback: function() {\n                if (_st.data.getProperty('campaign5') == 'mailNotFound') {\n                    var params = {};\n                    params['mail'] = userHash;\n                    _st.tracking.sendEngagement('mappingNotFound', params);\n                    throw 'campaign 5: MAIL not found. Value: ' + userHash;\n                }\n            }\n        });\n\n});\n","group":3}],"experiments":[{"id":128,"groups":[{"id":129,"weight":1},{"id":130,"weight":4}]},{"id":161,"groups":[{"id":162,"weight":1},{"id":163,"weight":1}]},{"id":131,"groups":[{"id":132,"weight":1},{"id":133,"weight":9}]},{"id":164,"groups":[{"id":165,"weight":1},{"id":166,"weight":1}]},{"id":100,"groups":[{"id":101,"weight":1},{"id":102,"weight":99}]},{"id":134,"groups":[{"id":135,"weight":1},{"id":136,"weight":9}]},{"id":137,"groups":[{"id":138,"weight":1},{"id":139,"weight":1}]},{"id":170,"groups":[{"id":171,"weight":1},{"id":172,"weight":1},{"id":173,"weight":1}]},{"id":140,"groups":[{"id":141,"weight":1},{"id":142,"weight":1}]},{"id":174,"groups":[{"id":175,"weight":1},{"id":176,"weight":1}]},{"id":143,"groups":[{"id":144,"weight":1},{"id":145,"weight":1}]},{"id":177,"groups":[{"id":178,"weight":1},{"id":179,"weight":1}]},{"id":146,"groups":[{"id":147,"weight":1},{"id":148,"weight":1}]},{"id":180,"groups":[{"id":181,"weight":1},{"id":182,"weight":1}]},{"id":116,"groups":[{"id":117,"weight":1},{"id":118,"weight":9}]},{"id":149,"groups":[{"id":150,"weight":1},{"id":151,"weight":1}]},{"id":119,"groups":[{"id":120,"weight":1},{"id":121,"weight":1}]},{"id":183,"groups":[{"id":184,"weight":1},{"id":185,"weight":1}]},{"id":152,"groups":[{"id":153,"weight":5},{"id":154,"weight":5},{"id":155,"weight":45},{"id":156,"weight":45}]},{"id":186,"groups":[{"id":187,"weight":1},{"id":188,"weight":1}]},{"id":157,"groups":[{"id":158,"weight":1},{"id":159,"weight":1},{"id":160,"weight":1}]},{"id":125,"groups":[{"id":126,"weight":1},{"id":127,"weight":4}]},{"id":189,"groups":[{"id":190,"weight":1},{"id":191,"weight":1}]}],"dataCollectionRate":500});